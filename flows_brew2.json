[
    {
        "id": "b1634535.4f6908",
        "type": "tab",
        "label": "Temperatures",
        "disabled": false,
        "info": "Temperature readings, triggered every 2 \nseconds (note that the PID algorith has this \nfrequency hard coded into it, and those \nfunctions will need to be modified if the \ntrigger frequency is changed). Also smoothing \nand formating for temperature display."
    },
    {
        "id": "cd8e99f0.331958",
        "type": "tab",
        "label": "HLT buttons",
        "disabled": false,
        "info": ""
    },
    {
        "id": "5975e44b.d697ac",
        "type": "tab",
        "label": "HLT controller",
        "disabled": false,
        "info": ""
    },
    {
        "id": "bdc66a52.bcf498",
        "type": "tab",
        "label": "MLT buttons",
        "disabled": false,
        "info": ""
    },
    {
        "id": "2a42b19e.b8592e",
        "type": "tab",
        "label": "MLT controller",
        "disabled": false,
        "info": ""
    },
    {
        "id": "5dbe9795.165088",
        "type": "tab",
        "label": "BK buttons",
        "disabled": false,
        "info": "Buttons related to controlling the boil.\nThese buttons also display state."
    },
    {
        "id": "d0b13d4e.c9901",
        "type": "tab",
        "label": "BK controller",
        "disabled": false,
        "info": ""
    },
    {
        "id": "d55676b0.dddf38",
        "type": "tab",
        "label": "PID outputs",
        "disabled": false,
        "info": "This flow displays output from the PID \nalgorithm. This can be useful for tuning \npurposes."
    },
    {
        "id": "d27bb3af.67797",
        "type": "tab",
        "label": "Element outputs",
        "disabled": false,
        "info": "Routing to GPIO, as well as displays for element\noutput in duty %"
    },
    {
        "id": "faf8fffb.af798",
        "type": "tab",
        "label": "Pump control",
        "disabled": false,
        "info": "This flow provides a button to turn a pump on \nand off. The colour of the pump button reflects\nits status. The pump has one restriction in that \nit can not be turned off while RIMS is active.\nSuch attempts are blocked, with a notification\nprovided to the user."
    },
    {
        "id": "5a12cee5.c91ac",
        "type": "tab",
        "label": "UI navigation and style",
        "disabled": false,
        "info": "This tab contains a collection of UI features.\n* CSS overide to ensure dashboard is only 1 or 2 columns\n* Centre \"group\" titles\n* Navigation buttons"
    },
    {
        "id": "93f34866.9e5ee8",
        "type": "tab",
        "label": "Logging",
        "disabled": false,
        "info": ""
    },
    {
        "id": "6d4aa149.e93b9",
        "type": "tab",
        "label": "Calibration",
        "disabled": false,
        "info": ""
    },
    {
        "id": "c359f27b.fd6e3",
        "type": "tab",
        "label": "Bolt indicators",
        "disabled": false,
        "info": "* Bolts indicating element activity"
    },
    {
        "id": "72b31fb9.cd844",
        "type": "tab",
        "label": "Mash Schedule",
        "disabled": false,
        "info": ""
    },
    {
        "id": "61cfa3a0.e85d6c",
        "type": "tab",
        "label": "Brewfather",
        "disabled": false,
        "info": ""
    },
    {
        "id": "8e53633a.d159a",
        "type": "tab",
        "label": "Timer",
        "disabled": false,
        "info": ""
    },
    {
        "id": "9ba846e8.ce3ae8",
        "type": "ui_base",
        "theme": {
            "name": "theme-dark",
            "lightTheme": {
                "default": "#0094CE",
                "baseColor": "#77bb40",
                "baseFont": "Tahoma,Geneva,sans-serif",
                "edited": true,
                "reset": false
            },
            "darkTheme": {
                "default": "#097479",
                "baseColor": "#094779",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "customTheme": {
                "name": "Untitled Theme 1",
                "default": "#4B7930",
                "baseColor": "#32A359",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "reset": false
            },
            "themeState": {
                "base-color": {
                    "default": "#097479",
                    "value": "#097479",
                    "edited": true
                },
                "page-titlebar-backgroundColor": {
                    "value": "#097479",
                    "edited": true
                },
                "page-backgroundColor": {
                    "value": "#111111",
                    "edited": true
                },
                "page-sidebar-backgroundColor": {
                    "value": "#333333",
                    "edited": false
                },
                "group-textColor": {
                    "value": "#0eb8c0",
                    "edited": true
                },
                "group-borderColor": {
                    "value": "#555555",
                    "edited": true
                },
                "group-backgroundColor": {
                    "value": "#333333",
                    "edited": true
                },
                "widget-textColor": {
                    "value": "#eeeeee",
                    "edited": true
                },
                "widget-backgroundColor": {
                    "value": "#097479",
                    "edited": true
                },
                "widget-borderColor": {
                    "value": "#333333",
                    "edited": true
                },
                "base-font": {
                    "value": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
                }
            },
            "angularTheme": {
                "primary": "indigo",
                "accents": "blue",
                "warn": "red",
                "background": "grey"
            }
        },
        "site": {
            "name": "brew2",
            "hideToolbar": "true",
            "allowSwipe": "false",
            "allowTempTheme": "false",
            "dateFormat": "YYYY-MM-DD",
            "sizes": {
                "sx": 40,
                "sy": 40,
                "gx": 1,
                "gy": 1,
                "cx": 1,
                "cy": 1,
                "px": 1,
                "py": 1
            },
            "lockMenu": "false"
        }
    },
    {
        "id": "5bc4c29d.24165c",
        "type": "ui_tab",
        "z": "",
        "name": "Brew",
        "icon": "",
        "order": 1,
        "disabled": false,
        "hidden": true
    },
    {
        "id": "af73f68d.436728",
        "type": "ui_group",
        "z": "",
        "name": "MLT",
        "tab": "5bc4c29d.24165c",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "28cab5d7.f6e5fa",
        "type": "ui_group",
        "z": "",
        "name": "BK",
        "tab": "5bc4c29d.24165c",
        "order": 3,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "d2aa40aa.53d6",
        "type": "ui_group",
        "z": "",
        "name": "BK SETTINGS",
        "tab": "a1d04174.eec44",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "a1d04174.eec44",
        "type": "ui_tab",
        "z": "",
        "name": "Bk Settings",
        "icon": "",
        "order": 7,
        "disabled": false,
        "hidden": true
    },
    {
        "id": "9d84adeb.2fb89",
        "type": "ui_group",
        "z": "",
        "name": "BOTTOM",
        "tab": "5bc4c29d.24165c",
        "order": 5,
        "disp": false,
        "width": "6",
        "collapse": false
    },
    {
        "id": "b0041718.f1c6f8",
        "type": "influxdb",
        "z": "",
        "hostname": "127.0.0.1",
        "port": "8086",
        "protocol": "http",
        "database": "brew2",
        "name": "",
        "usetls": false,
        "tls": ""
    },
    {
        "id": "150125a.a02c6da",
        "type": "ui_tab",
        "z": "",
        "name": "General Settings",
        "icon": "dashboard",
        "order": 9,
        "disabled": false,
        "hidden": true
    },
    {
        "id": "e804feb2.b941b",
        "type": "ui_group",
        "z": "",
        "name": "LOGGING",
        "tab": "150125a.a02c6da",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "dc87f7db.dd2328",
        "type": "ui_tab",
        "z": "",
        "name": "Settings",
        "icon": "dashboard",
        "order": 3,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "1e2ade38.c7b3c2",
        "type": "ui_group",
        "z": "",
        "name": "SETTINGS",
        "tab": "dc87f7db.dd2328",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "95e12070.c9fbb",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "e804feb2.b941b",
        "order": 6,
        "width": 6,
        "height": 1
    },
    {
        "id": "42c61cca.440cd4",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "d2aa40aa.53d6",
        "order": 9,
        "width": "6",
        "height": 1
    },
    {
        "id": "57a3dd01.b17094",
        "type": "ui_tab",
        "z": "",
        "name": "Calibration",
        "icon": "dashboard",
        "order": 10,
        "disabled": false,
        "hidden": true
    },
    {
        "id": "21450869.2040f8",
        "type": "ui_group",
        "z": "",
        "name": "BK Calibration",
        "tab": "57a3dd01.b17094",
        "order": 3,
        "disp": true,
        "width": 6,
        "collapse": false
    },
    {
        "id": "2a8a02b9.af4f4e",
        "type": "ui_group",
        "z": "",
        "name": "MLT Calibration",
        "tab": "57a3dd01.b17094",
        "order": 2,
        "disp": true,
        "width": 6,
        "collapse": false
    },
    {
        "id": "70f9b70c.8ac798",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 5,
        "width": "12",
        "height": 1
    },
    {
        "id": "475ddb64.ce1e94",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 11,
        "width": 1,
        "height": 1
    },
    {
        "id": "b073a9ac.de59e8",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 13,
        "width": 1,
        "height": 1
    },
    {
        "id": "dd79f854.d26848",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 11,
        "width": "6",
        "height": 1
    },
    {
        "id": "f3551d3c.cb9fc",
        "type": "ui_tab",
        "z": "",
        "name": "Mash Schedule",
        "icon": "dashboard",
        "order": 11,
        "disabled": false,
        "hidden": true
    },
    {
        "id": "23f88a1c.84f826",
        "type": "ui_group",
        "z": "",
        "name": "MASH SCHEDULE",
        "tab": "f3551d3c.cb9fc",
        "order": 1,
        "disp": true,
        "width": 8,
        "collapse": false
    },
    {
        "id": "92646333.6d2a3",
        "type": "ui_group",
        "z": "",
        "name": "Bottom",
        "tab": "f3551d3c.cb9fc",
        "order": 18,
        "disp": false,
        "width": 8,
        "collapse": false
    },
    {
        "id": "91fbbf73.72f7",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 1,
        "width": 1,
        "height": 1
    },
    {
        "id": "9b310e38.8cda",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 2,
        "width": 1,
        "height": 1
    },
    {
        "id": "8ccaab0c.737358",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 1,
        "width": 1,
        "height": 1
    },
    {
        "id": "cd4b5bb5.949f58",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 3,
        "width": 1,
        "height": 1
    },
    {
        "id": "10057ba3.f09154",
        "type": "ui_group",
        "z": "",
        "name": "MASH SCHEDULE2",
        "tab": "f3551d3c.cb9fc",
        "order": 9,
        "disp": false,
        "width": 8,
        "collapse": false
    },
    {
        "id": "90ec30b9.4eaa6",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 1,
        "width": 1,
        "height": 1
    },
    {
        "id": "7290e2be.fcc5ac",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 1,
        "width": 1,
        "height": 1
    },
    {
        "id": "d21ad660.facfa8",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 1,
        "width": 1,
        "height": 1
    },
    {
        "id": "77530bb0.3b8af4",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 1,
        "width": 1,
        "height": 1
    },
    {
        "id": "4b3ba9dd.9911a8",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 2,
        "width": 1,
        "height": 1
    },
    {
        "id": "e699d5b5.fc39e8",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 2,
        "width": 1,
        "height": 1
    },
    {
        "id": "25c57f11.a8e5a",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 2,
        "width": 1,
        "height": 1
    },
    {
        "id": "ccf7581f.8a2ed8",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 2,
        "width": 1,
        "height": 1
    },
    {
        "id": "6c099fbd.273f6",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 1,
        "width": 1,
        "height": 1
    },
    {
        "id": "847b4d35.b1aa1",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 2,
        "width": 1,
        "height": 1
    },
    {
        "id": "6f025f7e.49cd3",
        "type": "ui_group",
        "z": "",
        "name": "HLT",
        "tab": "5bc4c29d.24165c",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "b4d81b1d.49b088",
        "type": "ui_tab",
        "z": "",
        "name": "Hlt settings",
        "icon": "dashboard",
        "order": 5,
        "disabled": false,
        "hidden": true
    },
    {
        "id": "5bdce100.b1b46",
        "type": "ui_group",
        "z": "",
        "name": "HLT settings",
        "tab": "b4d81b1d.49b088",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "4a8e3f4b.cad74",
        "type": "ui_group",
        "z": "",
        "name": "HLT Calibration",
        "tab": "57a3dd01.b17094",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "61adaa9e.bf1b34",
        "type": "ui_group",
        "z": "",
        "name": "Timer",
        "tab": "5bc4c29d.24165c",
        "order": 4,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "146a67eb.83cb28",
        "type": "ui_tab",
        "z": "",
        "name": "Mlt settings",
        "icon": "dashboard",
        "order": 6,
        "disabled": false,
        "hidden": true
    },
    {
        "id": "d4dfa142.5bce",
        "type": "ui_group",
        "z": "",
        "name": "MLT setting",
        "tab": "146a67eb.83cb28",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "63d2474c.2314a8",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "d4dfa142.5bce",
        "order": 1,
        "width": 6,
        "height": 1
    },
    {
        "id": "c7cb917e.b85cb",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "d4dfa142.5bce",
        "order": 10,
        "width": 2,
        "height": 1
    },
    {
        "id": "21d5dc91.1c8864",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "23f88a1c.84f826",
        "order": 4,
        "width": 8,
        "height": 1
    },
    {
        "id": "3b8ad29.86f102e",
        "type": "smooth",
        "z": "b1634535.4f6908",
        "name": "",
        "property": "payload",
        "action": "mean",
        "count": "5",
        "round": "1",
        "mult": "single",
        "reduce": false,
        "x": 780,
        "y": 380,
        "wires": [
            [
                "25a2e2b8.6fe99e"
            ]
        ]
    },
    {
        "id": "434c8239.402e5c",
        "type": "smooth",
        "z": "b1634535.4f6908",
        "name": "",
        "property": "payload",
        "action": "mean",
        "count": "5",
        "round": "1",
        "mult": "single",
        "reduce": false,
        "x": 780,
        "y": 600,
        "wires": [
            [
                "b7a5b3fc.4da27"
            ]
        ]
    },
    {
        "id": "51a3a823.5dab08",
        "type": "sensor-ds18b20",
        "z": "b1634535.4f6908",
        "name": "temp-BK",
        "sensorid": "28-031655d8feff",
        "timer": "2",
        "repeat": false,
        "x": 320,
        "y": 300,
        "wires": [
            [
                "18beeb6c.8d0e35",
                "3fbcc89b.511228"
            ]
        ]
    },
    {
        "id": "3e31223.147f9de",
        "type": "sensor-ds18b20",
        "z": "b1634535.4f6908",
        "name": "temp-MLT",
        "sensorid": "28-00000868284d",
        "timer": "2",
        "repeat": false,
        "x": 320,
        "y": 520,
        "wires": [
            [
                "c0a9ad54.a0453",
                "43b0a3b3.559e5c"
            ]
        ]
    },
    {
        "id": "e172af66.8305d",
        "type": "inject",
        "z": "b1634535.4f6908",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "2",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 300,
        "wires": [
            [
                "51a3a823.5dab08",
                "3e31223.147f9de",
                "57d66d0.2e4ed94",
                "318c0c66.4d9384"
            ]
        ]
    },
    {
        "id": "189619f4.f71566",
        "type": "link out",
        "z": "b1634535.4f6908",
        "name": "BK calibrated temperature",
        "links": [
            "4195831b.a3b6ec",
            "78ec6046.90b92",
            "feb66cc.68f179",
            "6bc4eae0.439b94"
        ],
        "x": 735,
        "y": 240,
        "wires": []
    },
    {
        "id": "5388f955.84dd68",
        "type": "rpi-gpio out",
        "z": "d27bb3af.67797",
        "name": "BK1 GPIO",
        "pin": "32",
        "set": false,
        "level": "0",
        "freq": "1",
        "out": "pwm",
        "x": 510,
        "y": 300,
        "wires": []
    },
    {
        "id": "50083236.dde5dc",
        "type": "link in",
        "z": "d27bb3af.67797",
        "name": "BK GPIO",
        "links": [
            "56001502.c4b62c",
            "6ff7cb7.3cae834"
        ],
        "x": 195,
        "y": 320,
        "wires": [
            [
                "5388f955.84dd68",
                "73b29684.205e88"
            ]
        ]
    },
    {
        "id": "b634656b.b32b48",
        "type": "rpi-gpio out",
        "z": "d27bb3af.67797",
        "name": "MLT GPIO",
        "pin": "36",
        "set": false,
        "level": "0",
        "freq": "1",
        "out": "pwm",
        "x": 510,
        "y": 180,
        "wires": []
    },
    {
        "id": "34d42ba6.9b4b64",
        "type": "link in",
        "z": "d27bb3af.67797",
        "name": "MLT GPIO",
        "links": [
            "d1cf7c7f.62da6",
            "f43b6e2a.37dd"
        ],
        "x": 195,
        "y": 220,
        "wires": [
            [
                "b634656b.b32b48",
                "d71994b8.dabd78"
            ]
        ]
    },
    {
        "id": "9b728633.89a078",
        "type": "ui_button",
        "z": "5dbe9795.165088",
        "name": "",
        "group": "28cab5d7.f6e5fa",
        "order": 7,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "Manual",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{colour}}",
        "icon": "",
        "payload": "true",
        "payloadType": "bool",
        "topic": "",
        "x": 300,
        "y": 100,
        "wires": [
            [
                "80446360.5833f"
            ]
        ]
    },
    {
        "id": "b27ff43b.ff9cb8",
        "type": "ui_button",
        "z": "5dbe9795.165088",
        "name": "",
        "group": "28cab5d7.f6e5fa",
        "order": 6,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "PID",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{colour}}",
        "icon": "",
        "payload": "true",
        "payloadType": "bool",
        "topic": "",
        "x": 290,
        "y": 60,
        "wires": [
            [
                "9a5cb0a1.2d174"
            ]
        ]
    },
    {
        "id": "80bbf753.ec67e8",
        "type": "ui_button",
        "z": "5dbe9795.165088",
        "name": "",
        "group": "28cab5d7.f6e5fa",
        "order": 8,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "Off",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{colour}}",
        "icon": "",
        "payload": "false",
        "payloadType": "bool",
        "topic": "",
        "x": 290,
        "y": 140,
        "wires": [
            [
                "c34823b2.deb2a"
            ]
        ]
    },
    {
        "id": "d98e71d6.bb498",
        "type": "link in",
        "z": "5dbe9795.165088",
        "name": "PID button colour",
        "links": [
            "2a1065d5.81991a",
            "cd8fd53.01d4928"
        ],
        "x": 175,
        "y": 60,
        "wires": [
            [
                "b27ff43b.ff9cb8"
            ]
        ]
    },
    {
        "id": "7fcb944e.7cb12c",
        "type": "link in",
        "z": "5dbe9795.165088",
        "name": "Manual button colour",
        "links": [
            "5935d78a.6da388"
        ],
        "x": 175,
        "y": 100,
        "wires": [
            [
                "9b728633.89a078"
            ]
        ]
    },
    {
        "id": "b5f4f827.aca808",
        "type": "link in",
        "z": "5dbe9795.165088",
        "name": "Off button colour",
        "links": [
            "2980da83.db9a56"
        ],
        "x": 175,
        "y": 140,
        "wires": [
            [
                "80bbf753.ec67e8"
            ]
        ]
    },
    {
        "id": "9a5cb0a1.2d174",
        "type": "link out",
        "z": "5dbe9795.165088",
        "name": "PID button",
        "links": [
            "e4b3c4f.9f33f38",
            "b2b38d5e.e273b",
            "a9b14558.6d1648",
            "6cc47a09.6c5e24",
            "4be4257.fdd14dc"
        ],
        "x": 415,
        "y": 60,
        "wires": []
    },
    {
        "id": "80446360.5833f",
        "type": "link out",
        "z": "5dbe9795.165088",
        "name": "Manual button",
        "links": [
            "e4b3c4f.9f33f38",
            "b2b38d5e.e273b",
            "761b99a7.ba8768",
            "6cc47a09.6c5e24",
            "dfcd8184.63ca1",
            "f9fbb34b.e7523",
            "c0c523bb.2643c"
        ],
        "x": 415,
        "y": 100,
        "wires": []
    },
    {
        "id": "c34823b2.deb2a",
        "type": "link out",
        "z": "5dbe9795.165088",
        "name": "Off button",
        "links": [
            "e4b3c4f.9f33f38",
            "b2b38d5e.e273b",
            "68fe23e4.24230c",
            "60c34cb4.9abe74",
            "c8b7bf3b.b700b",
            "6cc47a09.6c5e24"
        ],
        "x": 415,
        "y": 140,
        "wires": []
    },
    {
        "id": "30df281.0019bd8",
        "type": "delay",
        "z": "5dbe9795.165088",
        "name": "delay",
        "pauseType": "delay",
        "timeout": "0.2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 290,
        "y": 300,
        "wires": [
            [
                "c01117d6.a33498"
            ]
        ]
    },
    {
        "id": "2a1065d5.81991a",
        "type": "link out",
        "z": "5dbe9795.165088",
        "name": "PID button colour",
        "links": [
            "d98e71d6.bb498"
        ],
        "x": 735,
        "y": 320,
        "wires": []
    },
    {
        "id": "e4b3c4f.9f33f38",
        "type": "link in",
        "z": "5dbe9795.165088",
        "name": "Button click",
        "links": [
            "80446360.5833f",
            "c34823b2.deb2a",
            "9a5cb0a1.2d174",
            "11c18a22.2ff07e",
            "fd8c477a.99a1a"
        ],
        "x": 175,
        "y": 300,
        "wires": [
            [
                "30df281.0019bd8"
            ]
        ]
    },
    {
        "id": "11b86a6c.b48b46",
        "type": "change",
        "z": "5dbe9795.165088",
        "name": "off colour",
        "rules": [
            {
                "t": "set",
                "p": "colour",
                "pt": "msg",
                "to": "grey",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 600,
        "y": 440,
        "wires": [
            [
                "5935d78a.6da388"
            ]
        ]
    },
    {
        "id": "60f97cfe.b350c4",
        "type": "change",
        "z": "5dbe9795.165088",
        "name": "on colour",
        "rules": [
            {
                "t": "set",
                "p": "colour",
                "pt": "msg",
                "to": "#424242",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 600,
        "y": 400,
        "wires": [
            [
                "5935d78a.6da388"
            ]
        ]
    },
    {
        "id": "7bd0ce15.a7efa",
        "type": "switch",
        "z": "5dbe9795.165088",
        "name": "",
        "property": "bk_on",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 330,
        "y": 440,
        "wires": [
            [
                "2a07a1f.6ca645e"
            ],
            [
                "11b86a6c.b48b46"
            ]
        ]
    },
    {
        "id": "e6063bfa.7902f8",
        "type": "delay",
        "z": "5dbe9795.165088",
        "name": "delay",
        "pauseType": "delay",
        "timeout": "0.2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 290,
        "y": 400,
        "wires": [
            [
                "7bd0ce15.a7efa"
            ]
        ]
    },
    {
        "id": "5935d78a.6da388",
        "type": "link out",
        "z": "5dbe9795.165088",
        "name": "Manual button colour",
        "links": [
            "7fcb944e.7cb12c"
        ],
        "x": 715,
        "y": 420,
        "wires": []
    },
    {
        "id": "af909e21.96cb1",
        "type": "change",
        "z": "5dbe9795.165088",
        "name": "off colour",
        "rules": [
            {
                "t": "set",
                "p": "colour",
                "pt": "msg",
                "to": "#424242",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 460,
        "y": 560,
        "wires": [
            [
                "2980da83.db9a56"
            ]
        ]
    },
    {
        "id": "f7609403.93ed08",
        "type": "change",
        "z": "5dbe9795.165088",
        "name": "on colour",
        "rules": [
            {
                "t": "set",
                "p": "colour",
                "pt": "msg",
                "to": "grey",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 460,
        "y": 520,
        "wires": [
            [
                "2980da83.db9a56"
            ]
        ]
    },
    {
        "id": "4c15662a.7e6b28",
        "type": "switch",
        "z": "5dbe9795.165088",
        "name": "",
        "property": "bk_on",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 310,
        "y": 540,
        "wires": [
            [
                "f7609403.93ed08"
            ],
            [
                "af909e21.96cb1"
            ]
        ]
    },
    {
        "id": "2417053f.a13e6a",
        "type": "delay",
        "z": "5dbe9795.165088",
        "name": "delay",
        "pauseType": "delay",
        "timeout": "0.2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 290,
        "y": 500,
        "wires": [
            [
                "4c15662a.7e6b28"
            ]
        ]
    },
    {
        "id": "2980da83.db9a56",
        "type": "link out",
        "z": "5dbe9795.165088",
        "name": "Off button colour",
        "links": [
            "b5f4f827.aca808"
        ],
        "x": 575,
        "y": 540,
        "wires": []
    },
    {
        "id": "2a07a1f.6ca645e",
        "type": "switch",
        "z": "5dbe9795.165088",
        "name": "",
        "property": "bk_pid",
        "propertyType": "global",
        "rules": [
            {
                "t": "false"
            },
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 450,
        "y": 420,
        "wires": [
            [
                "60f97cfe.b350c4"
            ],
            [
                "11b86a6c.b48b46"
            ]
        ]
    },
    {
        "id": "c01117d6.a33498",
        "type": "switch",
        "z": "5dbe9795.165088",
        "name": "",
        "property": "bk_on",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 330,
        "y": 340,
        "wires": [
            [
                "22bec7c0.fcd7f8"
            ],
            [
                "da1b527e.b52f8"
            ]
        ]
    },
    {
        "id": "22bec7c0.fcd7f8",
        "type": "switch",
        "z": "5dbe9795.165088",
        "name": "",
        "property": "bk_pid",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 470,
        "y": 320,
        "wires": [
            [
                "c7e2424a.d3e3c"
            ],
            [
                "da1b527e.b52f8"
            ]
        ]
    },
    {
        "id": "c7e2424a.d3e3c",
        "type": "change",
        "z": "5dbe9795.165088",
        "name": "on colour",
        "rules": [
            {
                "t": "set",
                "p": "colour",
                "pt": "msg",
                "to": "#424242",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 620,
        "y": 300,
        "wires": [
            [
                "2a1065d5.81991a"
            ]
        ]
    },
    {
        "id": "da1b527e.b52f8",
        "type": "change",
        "z": "5dbe9795.165088",
        "name": "off colour",
        "rules": [
            {
                "t": "set",
                "p": "colour",
                "pt": "msg",
                "to": "grey",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 620,
        "y": 340,
        "wires": [
            [
                "2a1065d5.81991a"
            ]
        ]
    },
    {
        "id": "b2b38d5e.e273b",
        "type": "link in",
        "z": "5dbe9795.165088",
        "name": "Button click",
        "links": [
            "80446360.5833f",
            "c34823b2.deb2a",
            "9a5cb0a1.2d174",
            "11c18a22.2ff07e",
            "fd8c477a.99a1a"
        ],
        "x": 175,
        "y": 400,
        "wires": [
            [
                "e6063bfa.7902f8"
            ]
        ]
    },
    {
        "id": "6cc47a09.6c5e24",
        "type": "link in",
        "z": "5dbe9795.165088",
        "name": "Button click",
        "links": [
            "80446360.5833f",
            "c34823b2.deb2a",
            "9a5cb0a1.2d174",
            "11c18a22.2ff07e",
            "fd8c477a.99a1a"
        ],
        "x": 175,
        "y": 500,
        "wires": [
            [
                "2417053f.a13e6a"
            ]
        ]
    },
    {
        "id": "ebcf886b.8450a8",
        "type": "link in",
        "z": "5dbe9795.165088",
        "name": "Button initialization",
        "links": [
            "ac069b56.dfef18"
        ],
        "x": 175,
        "y": 340,
        "wires": [
            [
                "c01117d6.a33498"
            ]
        ]
    },
    {
        "id": "d951f6bc.db3cc8",
        "type": "link in",
        "z": "5dbe9795.165088",
        "name": "Button initialization",
        "links": [
            "a902d194.51df48",
            "ac069b56.dfef18"
        ],
        "x": 175,
        "y": 440,
        "wires": [
            [
                "7bd0ce15.a7efa"
            ]
        ]
    },
    {
        "id": "e49fe5ac.1e6418",
        "type": "link in",
        "z": "5dbe9795.165088",
        "name": "Button initialization",
        "links": [
            "a902d194.51df48",
            "ac069b56.dfef18"
        ],
        "x": 175,
        "y": 540,
        "wires": [
            [
                "4c15662a.7e6b28"
            ]
        ]
    },
    {
        "id": "e3dc87bc.413858",
        "type": "ui_ui_control",
        "z": "5dbe9795.165088",
        "name": "Dashboard connection",
        "x": 260,
        "y": 220,
        "wires": [
            [
                "ac069b56.dfef18"
            ]
        ]
    },
    {
        "id": "ac069b56.dfef18",
        "type": "link out",
        "z": "5dbe9795.165088",
        "name": "Button initialization on connection",
        "links": [
            "ebcf886b.8450a8",
            "e49fe5ac.1e6418",
            "d951f6bc.db3cc8"
        ],
        "x": 415,
        "y": 220,
        "wires": []
    },
    {
        "id": "ac1d13c7.e234c",
        "type": "ui_ui_control",
        "z": "5a12cee5.c91ac",
        "name": "UI navigation",
        "x": 450,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "853c150a.c9ff58",
        "type": "ui_button",
        "z": "5a12cee5.c91ac",
        "name": "",
        "group": "1e2ade38.c7b3c2",
        "order": 3,
        "width": 6,
        "height": 1,
        "passthru": false,
        "label": "MLT PID",
        "tooltip": "",
        "color": "#757575",
        "bgcolor": "white",
        "icon": "",
        "payload": "3",
        "payloadType": "num",
        "topic": "",
        "x": 100,
        "y": 420,
        "wires": [
            [
                "ac1d13c7.e234c"
            ]
        ]
    },
    {
        "id": "6c36fa8a.c39ae4",
        "type": "ui_button",
        "z": "5a12cee5.c91ac",
        "name": "",
        "group": "1e2ade38.c7b3c2",
        "order": 4,
        "width": 6,
        "height": 1,
        "passthru": false,
        "label": "BK PID",
        "tooltip": "",
        "color": "#757575",
        "bgcolor": "white",
        "icon": "",
        "payload": "4",
        "payloadType": "num",
        "topic": "",
        "x": 100,
        "y": 500,
        "wires": [
            [
                "ac1d13c7.e234c"
            ]
        ]
    },
    {
        "id": "214bb779.99ca58",
        "type": "ui_button",
        "z": "5a12cee5.c91ac",
        "name": "",
        "group": "d4dfa142.5bce",
        "order": 11,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Back",
        "tooltip": "",
        "color": "#757575",
        "bgcolor": "#e0e0e0",
        "icon": "",
        "payload": "1",
        "payloadType": "num",
        "topic": "",
        "x": 90,
        "y": 460,
        "wires": [
            [
                "ac1d13c7.e234c"
            ]
        ]
    },
    {
        "id": "a49bb40f.1464e8",
        "type": "ui_button",
        "z": "5a12cee5.c91ac",
        "name": "",
        "group": "d2aa40aa.53d6",
        "order": 10,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Back",
        "tooltip": "",
        "color": "#757575",
        "bgcolor": "#e0e0e0",
        "icon": "",
        "payload": "1",
        "payloadType": "num",
        "topic": "",
        "x": 90,
        "y": 540,
        "wires": [
            [
                "ac1d13c7.e234c"
            ]
        ]
    },
    {
        "id": "5075d1ab.faaa6",
        "type": "ui_template",
        "z": "5a12cee5.c91ac",
        "group": "9d84adeb.2fb89",
        "name": "Ensure dashboard is displayed as 1 or 2 columns",
        "order": 4,
        "width": 0,
        "height": 0,
        "format": "<style>\n@media only screen and (min-width: 1080px) { .masonry-container {\n    width: 1080px;\n}\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "global",
        "x": 230,
        "y": 60,
        "wires": [
            []
        ]
    },
    {
        "id": "f70e0407.c92978",
        "type": "ui_text",
        "z": "d55676b0.dddf38",
        "group": "d2aa40aa.53d6",
        "order": 4,
        "width": "2",
        "height": "1",
        "name": "BK PID Integrator",
        "label": "Integral",
        "format": "{{integrator | number:1}}°C⦁s",
        "layout": "col-center",
        "x": 410,
        "y": 220,
        "wires": []
    },
    {
        "id": "8e858654.6d7b68",
        "type": "ui_text",
        "z": "d55676b0.dddf38",
        "group": "d2aa40aa.53d6",
        "order": 3,
        "width": "2",
        "height": "1",
        "name": "BK PID Error",
        "label": "Error",
        "format": "{{last_error | number:1}}°C",
        "layout": "col-center",
        "x": 390,
        "y": 180,
        "wires": []
    },
    {
        "id": "d2ff3957.161088",
        "type": "ui_text",
        "z": "d55676b0.dddf38",
        "group": "d2aa40aa.53d6",
        "order": 5,
        "width": "2",
        "height": "1",
        "name": "BK PID Derivative",
        "label": "Derivative",
        "format": "{{derivative | number:1}}°C/s",
        "layout": "col-center",
        "x": 410,
        "y": 260,
        "wires": []
    },
    {
        "id": "1ec3b286.53835d",
        "type": "link in",
        "z": "d55676b0.dddf38",
        "name": "BK PID display",
        "links": [
            "6572ea6.d50e714"
        ],
        "x": 215,
        "y": 220,
        "wires": [
            [
                "f70e0407.c92978",
                "d2ff3957.161088",
                "8e858654.6d7b68"
            ]
        ]
    },
    {
        "id": "7c70cd61.1bd084",
        "type": "ui_template",
        "z": "5a12cee5.c91ac",
        "group": "9d84adeb.2fb89",
        "name": "Centre group titles",
        "order": 3,
        "width": 0,
        "height": 0,
        "format": "<style>\n.nr-dashboard-theme ui-card-panel p.nr-dashboard-cardtitle {\n    text-align: center;\n}\nbody {\n  overflow: hidden; /* Hide scrollbars */\n}\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "global",
        "x": 130,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "1e947cf9.2fd033",
        "type": "link out",
        "z": "b1634535.4f6908",
        "name": "MLT calibrated temperature",
        "links": [
            "f640b18d.f4e25",
            "d2fd7596.022278",
            "78ec6046.90b92",
            "c391e1b8.b1e2e"
        ],
        "x": 735,
        "y": 460,
        "wires": []
    },
    {
        "id": "57d66d0.2e4ed94",
        "type": "delay",
        "z": "b1634535.4f6908",
        "name": "",
        "pauseType": "delay",
        "timeout": "500",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 330,
        "y": 580,
        "wires": [
            [
                "ffe35fc8.14acb"
            ]
        ]
    },
    {
        "id": "ffe35fc8.14acb",
        "type": "link out",
        "z": "b1634535.4f6908",
        "name": "PID trigger",
        "links": [
            "3353efd9.91f22"
        ],
        "x": 515,
        "y": 580,
        "wires": []
    },
    {
        "id": "d6095c59.5826f",
        "type": "ui_text",
        "z": "b1634535.4f6908",
        "group": "d4dfa142.5bce",
        "order": 2,
        "width": 2,
        "height": 1,
        "name": "MLT temperature display",
        "label": "MLT",
        "format": "{{msg.payload | number:1}}°C",
        "layout": "col-center",
        "x": 830,
        "y": 540,
        "wires": []
    },
    {
        "id": "60fdb892.ce61c8",
        "type": "inject",
        "z": "93f34866.9e5ee8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "false",
        "payloadType": "bool",
        "x": 90,
        "y": 120,
        "wires": [
            [
                "31fbd50e.ecd96a",
                "579e3e0d.d957f"
            ]
        ]
    },
    {
        "id": "31fbd50e.ecd96a",
        "type": "change",
        "z": "93f34866.9e5ee8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "temp_log",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 330,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "579e3e0d.d957f",
        "type": "ui_switch",
        "z": "93f34866.9e5ee8",
        "name": "",
        "label": "Temperature",
        "tooltip": "",
        "group": "e804feb2.b941b",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": true,
        "decouple": "false",
        "topic": "",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "x": 270,
        "y": 120,
        "wires": [
            [
                "31fbd50e.ecd96a"
            ]
        ]
    },
    {
        "id": "cc82c756.01bc18",
        "type": "ui_button",
        "z": "5a12cee5.c91ac",
        "name": "",
        "group": "1e2ade38.c7b3c2",
        "order": 1,
        "width": 6,
        "height": 1,
        "passthru": false,
        "label": "General",
        "tooltip": "",
        "color": "#757575",
        "bgcolor": "white",
        "icon": "",
        "payload": "5",
        "payloadType": "num",
        "topic": "",
        "x": 100,
        "y": 180,
        "wires": [
            [
                "ac1d13c7.e234c"
            ]
        ]
    },
    {
        "id": "1bd87102.6db34f",
        "type": "ui_button",
        "z": "5a12cee5.c91ac",
        "name": "",
        "group": "9d84adeb.2fb89",
        "order": 2,
        "width": 6,
        "height": 1,
        "passthru": false,
        "label": "Settings",
        "tooltip": "",
        "color": "#757575",
        "bgcolor": "white",
        "icon": "",
        "payload": "1",
        "payloadType": "num",
        "topic": "",
        "x": 100,
        "y": 260,
        "wires": [
            [
                "ac1d13c7.e234c"
            ]
        ]
    },
    {
        "id": "89b436be.542248",
        "type": "ui_button",
        "z": "5a12cee5.c91ac",
        "name": "",
        "group": "e804feb2.b941b",
        "order": 7,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Back",
        "tooltip": "",
        "color": "#757575",
        "bgcolor": "#e0e0e0",
        "icon": "",
        "payload": "1",
        "payloadType": "num",
        "topic": "",
        "x": 90,
        "y": 220,
        "wires": [
            [
                "ac1d13c7.e234c"
            ]
        ]
    },
    {
        "id": "f969ccd6.121b2",
        "type": "ui_button",
        "z": "5a12cee5.c91ac",
        "name": "",
        "group": "1e2ade38.c7b3c2",
        "order": 6,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Back",
        "tooltip": "",
        "color": "#757575",
        "bgcolor": "#e0e0e0",
        "icon": "",
        "payload": "0",
        "payloadType": "num",
        "topic": "",
        "x": 90,
        "y": 300,
        "wires": [
            [
                "ac1d13c7.e234c"
            ]
        ]
    },
    {
        "id": "53b7dc47.808514",
        "type": "inject",
        "z": "93f34866.9e5ee8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "false",
        "payloadType": "bool",
        "x": 90,
        "y": 360,
        "wires": [
            [
                "f8ea58a4.6f5038",
                "4c8985d0.5c1fec"
            ]
        ]
    },
    {
        "id": "f8ea58a4.6f5038",
        "type": "change",
        "z": "93f34866.9e5ee8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "pid_log",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 330,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "4c8985d0.5c1fec",
        "type": "ui_switch",
        "z": "93f34866.9e5ee8",
        "name": "",
        "label": "PID calculation",
        "tooltip": "",
        "group": "e804feb2.b941b",
        "order": 5,
        "width": 0,
        "height": 0,
        "passthru": true,
        "decouple": "false",
        "topic": "",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "x": 280,
        "y": 360,
        "wires": [
            [
                "f8ea58a4.6f5038"
            ]
        ]
    },
    {
        "id": "917c6c4a.ae599",
        "type": "ui_text",
        "z": "b1634535.4f6908",
        "group": "d2aa40aa.53d6",
        "order": 1,
        "width": 2,
        "height": 1,
        "name": "BK temperature display",
        "label": "Kettle",
        "format": "{{msg.payload | number:1}}°C",
        "layout": "col-center",
        "x": 830,
        "y": 320,
        "wires": []
    },
    {
        "id": "ac6a3af.5b833c8",
        "type": "inject",
        "z": "93f34866.9e5ee8",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "0.25",
        "payloadType": "num",
        "x": 90,
        "y": 200,
        "wires": [
            [
                "32949753.299638",
                "4f136a1f.529684"
            ]
        ]
    },
    {
        "id": "32949753.299638",
        "type": "change",
        "z": "93f34866.9e5ee8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "temp_log_delta",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 350,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "de9b7dcd.b40ea",
        "type": "influxdb in",
        "z": "93f34866.9e5ee8",
        "influxdb": "b0041718.f1c6f8",
        "name": "Find last logged temp in influxdb",
        "query": "",
        "rawOutput": false,
        "precision": "",
        "retentionPolicy": "",
        "x": 440,
        "y": 580,
        "wires": [
            [
                "ad32d882.cd5578"
            ]
        ]
    },
    {
        "id": "ad32d882.cd5578",
        "type": "function",
        "z": "93f34866.9e5ee8",
        "name": "Construct log entry",
        "func": "if(msg.payload.length === 0 || Math.abs(msg.payload[0].last - global.get(msg.topic)) >= global.get(\"temp_log_delta\")){\nmsg.payload = [\n    {\n        measurement: msg.topic,\n        fields: {\n            temperature: global.get(msg.topic),\n            brew: global.get(\"brew-label\")\n        },\n        timestamp: new Date()\n    }\n];\nreturn msg}else {\n    return null\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 430,
        "y": 620,
        "wires": [
            [
                "f3fed57b.ddbd18"
            ]
        ]
    },
    {
        "id": "32007a84.21cbe6",
        "type": "function",
        "z": "93f34866.9e5ee8",
        "name": "Construct query to influxdb",
        "func": "msg.query = `SELECT last(value) FROM \"${msg.topic}\"`\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 380,
        "y": 540,
        "wires": [
            [
                "de9b7dcd.b40ea"
            ]
        ]
    },
    {
        "id": "69e8e5ee.4a280c",
        "type": "switch",
        "z": "93f34866.9e5ee8",
        "name": "Temp logging on?",
        "property": "temp_log",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 310,
        "y": 500,
        "wires": [
            [
                "32007a84.21cbe6"
            ]
        ]
    },
    {
        "id": "78ec6046.90b92",
        "type": "link in",
        "z": "93f34866.9e5ee8",
        "name": "",
        "links": [
            "2ba2f16c.71405e",
            "189619f4.f71566",
            "1e947cf9.2fd033",
            "b6d06129.1aaff"
        ],
        "x": 175,
        "y": 500,
        "wires": [
            [
                "69e8e5ee.4a280c"
            ]
        ]
    },
    {
        "id": "29519671.80e4ea",
        "type": "link in",
        "z": "93f34866.9e5ee8",
        "name": "Mash PID logger",
        "links": [
            "8f354bee.f76fb8",
            "27f8a18b.7c066e"
        ],
        "x": 175,
        "y": 840,
        "wires": [
            [
                "5ba6116d.c3b31"
            ]
        ]
    },
    {
        "id": "c4785d2b.c68f3",
        "type": "link in",
        "z": "93f34866.9e5ee8",
        "name": "Boil PID logger",
        "links": [
            "5069796b.fe5378",
            "691e7038.cbbf3",
            "4b1bd9c5.202e48",
            "12aee65c.b7589a",
            "7dd28a85.2eec94",
            "6572ea6.d50e714",
            "23076fba.6ed76",
            "1e2a61c.a871d9e"
        ],
        "x": 175,
        "y": 900,
        "wires": [
            [
                "5a8d2017.c8579"
            ]
        ]
    },
    {
        "id": "5ba6116d.c3b31",
        "type": "switch",
        "z": "93f34866.9e5ee8",
        "name": "PID logging on?",
        "property": "pid_log",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 300,
        "y": 840,
        "wires": [
            [
                "12a2955a.e5ab8b"
            ]
        ]
    },
    {
        "id": "1407c118.9f7d8f",
        "type": "inject",
        "z": "93f34866.9e5ee8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "false",
        "payloadType": "bool",
        "x": 90,
        "y": 280,
        "wires": [
            [
                "7e364a63.b14544",
                "3e75d4a9.4a5fdc"
            ]
        ]
    },
    {
        "id": "7e364a63.b14544",
        "type": "change",
        "z": "93f34866.9e5ee8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "output_log",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 340,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "3e75d4a9.4a5fdc",
        "type": "ui_switch",
        "z": "93f34866.9e5ee8",
        "name": "",
        "label": "GPIO Output",
        "tooltip": "",
        "group": "e804feb2.b941b",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": true,
        "decouple": "false",
        "topic": "",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "x": 270,
        "y": 280,
        "wires": [
            [
                "7e364a63.b14544"
            ]
        ]
    },
    {
        "id": "4f136a1f.529684",
        "type": "ui_numeric",
        "z": "93f34866.9e5ee8",
        "name": "",
        "label": "Threshold",
        "tooltip": "",
        "group": "e804feb2.b941b",
        "order": 3,
        "width": 0,
        "height": 0,
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value}}°C",
        "min": 0,
        "max": "2",
        "step": "0.05",
        "x": 260,
        "y": 200,
        "wires": [
            [
                "32949753.299638"
            ]
        ]
    },
    {
        "id": "1e0f10df.b51e7f",
        "type": "function",
        "z": "93f34866.9e5ee8",
        "name": "Format output for influxdb",
        "func": "msg.payload = [\n    {\n        measurement: \"PID-mash-inner-loop\",\n        fields: {\n            target: msg.inner_target,\n            output: msg.inner_output,\n            error: msg.last_inner_error,\n            integrator: msg.inner_integrator,\n            derivative: msg.inner_derivative,\n            //active: global.get(\"rims_on\"),\n            brew: global.get(\"brew-label\")\n        },\n        timestamp: new Date()\n    }\n];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 940,
        "y": 820,
        "wires": [
            [
                "8ae7b59d.406648"
            ]
        ]
    },
    {
        "id": "5a8d2017.c8579",
        "type": "switch",
        "z": "93f34866.9e5ee8",
        "name": "PID logging on?",
        "property": "pid_log",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 300,
        "y": 900,
        "wires": [
            [
                "76869238.a38e2c"
            ]
        ]
    },
    {
        "id": "8ae7b59d.406648",
        "type": "influxdb batch",
        "z": "93f34866.9e5ee8",
        "influxdb": "b0041718.f1c6f8",
        "precision": "",
        "retentionPolicy": "",
        "name": "",
        "x": 1240,
        "y": 920,
        "wires": []
    },
    {
        "id": "6c553979.133488",
        "type": "function",
        "z": "93f34866.9e5ee8",
        "name": "Format output for influxdb",
        "func": "msg.payload = [\n    {\n        measurement: \"PID-boil-main-loop\",\n        fields: {\n            target: msg.target,\n            output: msg.output,\n            error: msg.last_error,\n            integrator: msg.integrator,\n            derivative: msg.derivative,\n            //active: global.get(\"bk_pid\"),\n            brew: global.get(\"brew-label\")\n        },\n        timestamp: new Date()\n    }\n];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 940,
        "y": 900,
        "wires": [
            [
                "8ae7b59d.406648"
            ]
        ]
    },
    {
        "id": "8af192d8.fbe96",
        "type": "influxdb batch",
        "z": "93f34866.9e5ee8",
        "influxdb": "b0041718.f1c6f8",
        "precision": "",
        "retentionPolicy": "",
        "name": "",
        "x": 520,
        "y": 700,
        "wires": []
    },
    {
        "id": "6b17371b.fcc858",
        "type": "link in",
        "z": "93f34866.9e5ee8",
        "name": "BK GPIO logger",
        "links": [
            "34f2a1ce.cfa38e",
            "b20f25c4.154628",
            "223c352a.a9bf1a",
            "9789724e.0d54d",
            "56001502.c4b62c",
            "6ff7cb7.3cae834",
            "d1cf7c7f.62da6",
            "f43b6e2a.37dd"
        ],
        "x": 175,
        "y": 980,
        "wires": [
            [
                "5749243f.2da5dc"
            ]
        ]
    },
    {
        "id": "16373bf0.8da644",
        "type": "link in",
        "z": "93f34866.9e5ee8",
        "name": "RIMS GPIO logger",
        "links": [
            "a20aef18.57465",
            "15ea41d3.6f96fe"
        ],
        "x": 175,
        "y": 940,
        "wires": [
            [
                "5e3c4c46.dabff4"
            ]
        ]
    },
    {
        "id": "5e3c4c46.dabff4",
        "type": "switch",
        "z": "93f34866.9e5ee8",
        "name": "Output logging on?",
        "property": "output_log",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 310,
        "y": 940,
        "wires": [
            [
                "80b6d1c9.a5127"
            ]
        ]
    },
    {
        "id": "5749243f.2da5dc",
        "type": "switch",
        "z": "93f34866.9e5ee8",
        "name": "Output logging on?",
        "property": "output_log",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 310,
        "y": 980,
        "wires": [
            [
                "cea0fe71.52ec7"
            ]
        ]
    },
    {
        "id": "b5fb405.4a51ec",
        "type": "function",
        "z": "93f34866.9e5ee8",
        "name": "Format output for influxdb",
        "func": "msg.payload = [\n    {\n        measurement: \"output-RIMS\",\n        fields: {\n            duty: msg.payload,\n            brew: global.get(\"brew-label\")\n        },\n        timestamp: new Date()\n    }\n];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 940,
        "y": 940,
        "wires": [
            [
                "8ae7b59d.406648"
            ]
        ]
    },
    {
        "id": "c5902b33.4799d8",
        "type": "function",
        "z": "93f34866.9e5ee8",
        "name": "Format output for influxdb",
        "func": "msg.payload = [\n    {\n        measurement: \"output-BK\",\n        fields: {\n            duty: msg.payload,\n            brew: global.get(\"brew-label\")\n        },\n        timestamp: new Date()\n    }\n];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 940,
        "y": 980,
        "wires": [
            [
                "8ae7b59d.406648"
            ]
        ]
    },
    {
        "id": "9ce7e8a4.b33998",
        "type": "ui_text_input",
        "z": "93f34866.9e5ee8",
        "name": "",
        "label": "Brew label",
        "tooltip": "",
        "group": "e804feb2.b941b",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "text",
        "delay": 300,
        "topic": "",
        "x": 270,
        "y": 40,
        "wires": [
            [
                "78293845.fa2808"
            ]
        ]
    },
    {
        "id": "c677d53e.39fc88",
        "type": "inject",
        "z": "93f34866.9e5ee8",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "untitled",
        "payloadType": "str",
        "x": 100,
        "y": 40,
        "wires": [
            [
                "9ce7e8a4.b33998",
                "78293845.fa2808"
            ]
        ]
    },
    {
        "id": "78293845.fa2808",
        "type": "change",
        "z": "93f34866.9e5ee8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "brew-label",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 360,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "12a2955a.e5ab8b",
        "type": "delay",
        "z": "93f34866.9e5ee8",
        "name": "",
        "pauseType": "delay",
        "timeout": "250",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 510,
        "y": 840,
        "wires": [
            [
                "256b5231.4563fe"
            ]
        ]
    },
    {
        "id": "76869238.a38e2c",
        "type": "delay",
        "z": "93f34866.9e5ee8",
        "name": "",
        "pauseType": "delay",
        "timeout": "250",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 510,
        "y": 900,
        "wires": [
            [
                "da6f3e1a.1b34e"
            ]
        ]
    },
    {
        "id": "80b6d1c9.a5127",
        "type": "delay",
        "z": "93f34866.9e5ee8",
        "name": "",
        "pauseType": "delay",
        "timeout": "250",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 510,
        "y": 940,
        "wires": [
            [
                "adfe66a6.46ec08"
            ]
        ]
    },
    {
        "id": "cea0fe71.52ec7",
        "type": "delay",
        "z": "93f34866.9e5ee8",
        "name": "",
        "pauseType": "delay",
        "timeout": "250",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 510,
        "y": 980,
        "wires": [
            [
                "df4b5f51.d52cb"
            ]
        ]
    },
    {
        "id": "f3fed57b.ddbd18",
        "type": "delay",
        "z": "93f34866.9e5ee8",
        "name": "",
        "pauseType": "timed",
        "timeout": "10",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "10",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "x": 480,
        "y": 660,
        "wires": [
            [
                "8af192d8.fbe96"
            ]
        ]
    },
    {
        "id": "256b5231.4563fe",
        "type": "delay",
        "z": "93f34866.9e5ee8",
        "name": "",
        "pauseType": "rate",
        "timeout": "10",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "5",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "x": 700,
        "y": 840,
        "wires": [
            [
                "1e0f10df.b51e7f",
                "72270401.b1e22c"
            ]
        ]
    },
    {
        "id": "da6f3e1a.1b34e",
        "type": "delay",
        "z": "93f34866.9e5ee8",
        "name": "",
        "pauseType": "rate",
        "timeout": "10",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "5",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "x": 700,
        "y": 900,
        "wires": [
            [
                "6c553979.133488"
            ]
        ]
    },
    {
        "id": "adfe66a6.46ec08",
        "type": "delay",
        "z": "93f34866.9e5ee8",
        "name": "",
        "pauseType": "rate",
        "timeout": "10",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "5",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "x": 700,
        "y": 940,
        "wires": [
            [
                "b5fb405.4a51ec"
            ]
        ]
    },
    {
        "id": "df4b5f51.d52cb",
        "type": "delay",
        "z": "93f34866.9e5ee8",
        "name": "",
        "pauseType": "rate",
        "timeout": "10",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "5",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "x": 700,
        "y": 980,
        "wires": [
            [
                "c5902b33.4799d8"
            ]
        ]
    },
    {
        "id": "72270401.b1e22c",
        "type": "function",
        "z": "93f34866.9e5ee8",
        "name": "Format output for influxdb",
        "func": "msg.payload = [\n    {\n        measurement: \"PID-mash-outer-loop\",\n        fields: {\n            target: msg.outer_target,\n            output: msg.outer_output,\n            error: msg.last_outer_error,\n            integrator: msg.outer_integrator,\n            derivative: msg.outer_derivative,\n            //active: global.get(\"rims_on\"),\n            brew: global.get(\"brew-label\")\n        },\n        timestamp: new Date()\n    }\n];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 940,
        "y": 860,
        "wires": [
            [
                "8ae7b59d.406648"
            ]
        ]
    },
    {
        "id": "18beeb6c.8d0e35",
        "type": "function",
        "z": "b1634535.4f6908",
        "name": "calibrated BK temp value",
        "func": "var rawHigh = global.get('BK-raw-high');\nvar rawLow = global.get('BK-raw-low');\n\nvar referenceHigh = 99.9;\nvar referenceLow = 0.0;\nvar rawRange = rawHigh - rawLow;\nvar referenceRange = referenceHigh - referenceLow;\n\nvar rawValue = msg.payload;\n\nvar correctedValue = (((rawValue - rawLow) * referenceRange) / rawRange) + referenceLow;\nmsg.payload = correctedValue;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 530,
        "y": 300,
        "wires": [
            [
                "917c6c4a.ae599",
                "3b8ad29.86f102e",
                "189619f4.f71566"
            ]
        ]
    },
    {
        "id": "c0a9ad54.a0453",
        "type": "function",
        "z": "b1634535.4f6908",
        "name": "calibrated MLT temp value",
        "func": "var rawHigh = global.get('MLT-raw-high');\nvar rawLow = global.get('MLT-raw-low');\nvar referenceHigh = 99.9;\nvar referenceLow = 0.0;\nvar rawRange = rawHigh - rawLow;\nvar referenceRange = referenceHigh - referenceLow;\n\nvar rawValue = msg.payload;\n\nvar correctedValue = (((rawValue - rawLow) * referenceRange) / rawRange) + referenceLow;\nmsg.payload = correctedValue;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 540,
        "y": 520,
        "wires": [
            [
                "1e947cf9.2fd033",
                "d6095c59.5826f",
                "434c8239.402e5c"
            ]
        ]
    },
    {
        "id": "72e9cf56.8ae0d",
        "type": "inject",
        "z": "b1634535.4f6908",
        "d": true,
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "65",
        "payloadType": "num",
        "x": 310,
        "y": 360,
        "wires": [
            [
                "18beeb6c.8d0e35"
            ]
        ]
    },
    {
        "id": "95e3b2cb.5675b",
        "type": "ui_button",
        "z": "5a12cee5.c91ac",
        "name": "",
        "group": "1e2ade38.c7b3c2",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Calibration",
        "tooltip": "",
        "color": "#757575",
        "bgcolor": "white",
        "icon": "",
        "payload": "6",
        "payloadType": "num",
        "topic": "",
        "x": 110,
        "y": 580,
        "wires": [
            [
                "ac1d13c7.e234c"
            ]
        ]
    },
    {
        "id": "95ef1f6e.c426c",
        "type": "ui_text",
        "z": "6d4aa149.e93b9",
        "group": "21450869.2040f8",
        "order": 1,
        "width": 6,
        "height": 1,
        "name": "BK Raw temperature",
        "label": "Raw",
        "format": "{{msg.payload | number:1}}°C",
        "layout": "col-center",
        "x": 380,
        "y": 260,
        "wires": []
    },
    {
        "id": "e71b89ce.472d08",
        "type": "ui_button",
        "z": "5a12cee5.c91ac",
        "name": "",
        "group": "92646333.6d2a3",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Back",
        "tooltip": "",
        "color": "#757575",
        "bgcolor": "#e0e0e0",
        "icon": "",
        "payload": "0",
        "payloadType": "num",
        "topic": "",
        "x": 90,
        "y": 700,
        "wires": [
            [
                "ac1d13c7.e234c"
            ]
        ]
    },
    {
        "id": "3fbcc89b.511228",
        "type": "link out",
        "z": "b1634535.4f6908",
        "name": "BK raw temperature",
        "links": [
            "55ebf51b.43c42c"
        ],
        "x": 475,
        "y": 240,
        "wires": []
    },
    {
        "id": "55ebf51b.43c42c",
        "type": "link in",
        "z": "6d4aa149.e93b9",
        "name": "BK raw temperature input",
        "links": [
            "3fbcc89b.511228"
        ],
        "x": 175,
        "y": 260,
        "wires": [
            [
                "95ef1f6e.c426c"
            ]
        ]
    },
    {
        "id": "feb66cc.68f179",
        "type": "link in",
        "z": "6d4aa149.e93b9",
        "name": "BK calibrated temperature input",
        "links": [
            "189619f4.f71566",
            "b6d06129.1aaff"
        ],
        "x": 175,
        "y": 320,
        "wires": [
            [
                "24e610fe.a8764"
            ]
        ]
    },
    {
        "id": "24e610fe.a8764",
        "type": "ui_text",
        "z": "6d4aa149.e93b9",
        "group": "21450869.2040f8",
        "order": 2,
        "width": 6,
        "height": 1,
        "name": "BK Calibrated temperature",
        "label": "Calibrated",
        "format": "{{msg.payload | number:1}}°C",
        "layout": "col-center",
        "x": 400,
        "y": 320,
        "wires": []
    },
    {
        "id": "f2f70fb4.01e1",
        "type": "ui_numeric",
        "z": "6d4aa149.e93b9",
        "name": "BK Raw High",
        "label": "Raw high",
        "tooltip": "",
        "group": "21450869.2040f8",
        "order": 4,
        "width": 6,
        "height": 1,
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value}}°C",
        "min": 0,
        "max": "100",
        "step": "0.05",
        "x": 820,
        "y": 200,
        "wires": [
            [
                "944d31cc.0b651"
            ]
        ]
    },
    {
        "id": "455e0927.599ca8",
        "type": "inject",
        "z": "6d4aa149.e93b9",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "98.0",
        "payloadType": "num",
        "x": 630,
        "y": 240,
        "wires": [
            [
                "f2f70fb4.01e1",
                "944d31cc.0b651"
            ]
        ]
    },
    {
        "id": "34dcd907.b62bc6",
        "type": "ui_numeric",
        "z": "6d4aa149.e93b9",
        "name": "BK Raw Low",
        "label": "Raw low",
        "tooltip": "",
        "group": "21450869.2040f8",
        "order": 3,
        "width": 6,
        "height": 1,
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value}}°C",
        "min": 0,
        "max": "100",
        "step": "0.05",
        "x": 810,
        "y": 280,
        "wires": [
            [
                "556d7506.3e1c1c"
            ]
        ]
    },
    {
        "id": "944d31cc.0b651",
        "type": "change",
        "z": "6d4aa149.e93b9",
        "name": "set global.BK-raw-high",
        "rules": [
            {
                "t": "set",
                "p": "BK-raw-high",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1060,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "43e9ebc7.acbcd4",
        "type": "inject",
        "z": "6d4aa149.e93b9",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "0.25",
        "payloadType": "num",
        "x": 630,
        "y": 320,
        "wires": [
            [
                "34dcd907.b62bc6",
                "556d7506.3e1c1c"
            ]
        ]
    },
    {
        "id": "556d7506.3e1c1c",
        "type": "change",
        "z": "6d4aa149.e93b9",
        "name": "set global.BK-raw-low",
        "rules": [
            {
                "t": "set",
                "p": "BK-raw-low",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1060,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "d4b94984.a6fed8",
        "type": "ui_numeric",
        "z": "6d4aa149.e93b9",
        "name": "MLT Raw High",
        "label": "Raw high",
        "tooltip": "",
        "group": "2a8a02b9.af4f4e",
        "order": 4,
        "width": 6,
        "height": 1,
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value}}°C",
        "min": 0,
        "max": "100",
        "step": "0.05",
        "x": 820,
        "y": 400,
        "wires": [
            [
                "ad0c332a.adc95"
            ]
        ]
    },
    {
        "id": "84cdda0a.ae7ec8",
        "type": "inject",
        "z": "6d4aa149.e93b9",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "98",
        "payloadType": "num",
        "x": 630,
        "y": 440,
        "wires": [
            [
                "d4b94984.a6fed8",
                "ad0c332a.adc95"
            ]
        ]
    },
    {
        "id": "bcec9fd9.735bf",
        "type": "ui_numeric",
        "z": "6d4aa149.e93b9",
        "name": "MLT Raw Low",
        "label": "Raw low",
        "tooltip": "",
        "group": "2a8a02b9.af4f4e",
        "order": 3,
        "width": 6,
        "height": 1,
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value}}°C",
        "min": 0,
        "max": "100",
        "step": "0.05",
        "x": 820,
        "y": 480,
        "wires": [
            [
                "48b86f32.57ed6"
            ]
        ]
    },
    {
        "id": "ad0c332a.adc95",
        "type": "change",
        "z": "6d4aa149.e93b9",
        "name": "set global.MLT-raw-high",
        "rules": [
            {
                "t": "set",
                "p": "MLT-raw-high",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1070,
        "y": 440,
        "wires": [
            []
        ]
    },
    {
        "id": "7d6466d9.8c2178",
        "type": "inject",
        "z": "6d4aa149.e93b9",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "1.45",
        "payloadType": "num",
        "x": 630,
        "y": 520,
        "wires": [
            [
                "bcec9fd9.735bf",
                "48b86f32.57ed6"
            ]
        ]
    },
    {
        "id": "48b86f32.57ed6",
        "type": "change",
        "z": "6d4aa149.e93b9",
        "name": "set global.MLT-raw-low",
        "rules": [
            {
                "t": "set",
                "p": "MLT-raw-low",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1070,
        "y": 520,
        "wires": [
            []
        ]
    },
    {
        "id": "b7f4f391.9e76d",
        "type": "ui_text",
        "z": "6d4aa149.e93b9",
        "group": "2a8a02b9.af4f4e",
        "order": 1,
        "width": 6,
        "height": 1,
        "name": "MLT Raw temperature",
        "label": "Raw",
        "format": "{{msg.payload | number:1}}°C",
        "layout": "col-center",
        "x": 380,
        "y": 440,
        "wires": []
    },
    {
        "id": "a85fa7b5.28bc48",
        "type": "link in",
        "z": "6d4aa149.e93b9",
        "name": "MLT raw temperature input",
        "links": [
            "43b0a3b3.559e5c"
        ],
        "x": 175,
        "y": 440,
        "wires": [
            [
                "b7f4f391.9e76d"
            ]
        ]
    },
    {
        "id": "c391e1b8.b1e2e",
        "type": "link in",
        "z": "6d4aa149.e93b9",
        "name": "MLT calibrated temperature input",
        "links": [
            "1e947cf9.2fd033"
        ],
        "x": 175,
        "y": 500,
        "wires": [
            [
                "3f72ceaa.3a0812"
            ]
        ]
    },
    {
        "id": "3f72ceaa.3a0812",
        "type": "ui_text",
        "z": "6d4aa149.e93b9",
        "group": "2a8a02b9.af4f4e",
        "order": 2,
        "width": 6,
        "height": 1,
        "name": "MLT Calibrated temperature",
        "label": "Calibrated",
        "format": "{{msg.payload | number:1}}°C",
        "layout": "col-center",
        "x": 400,
        "y": 500,
        "wires": []
    },
    {
        "id": "43b0a3b3.559e5c",
        "type": "link out",
        "z": "b1634535.4f6908",
        "name": "MLT raw temperature",
        "links": [
            "f658ec1f.98bb8",
            "a85fa7b5.28bc48"
        ],
        "x": 475,
        "y": 460,
        "wires": []
    },
    {
        "id": "b5206534.a33328",
        "type": "ui_dropdown",
        "z": "72b31fb9.cd844",
        "name": "Mash steps",
        "label": "",
        "tooltip": "",
        "place": "",
        "group": "23f88a1c.84f826",
        "order": 6,
        "width": 8,
        "height": 1,
        "passthru": true,
        "options": [
            {
                "label": "Disabled",
                "value": 0,
                "type": "num"
            },
            {
                "label": "1 step",
                "value": "1",
                "type": "str"
            },
            {
                "label": "2 step",
                "value": "2",
                "type": "str"
            },
            {
                "label": "3 step",
                "value": "3",
                "type": "str"
            },
            {
                "label": "4 step",
                "value": "4",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "",
        "x": 210,
        "y": 200,
        "wires": [
            [
                "8c3f362c.b3ea18"
            ]
        ]
    },
    {
        "id": "bea47fb.ea09e8",
        "type": "ui_numeric",
        "z": "72b31fb9.cd844",
        "name": "",
        "label": "Rest1",
        "tooltip": "",
        "group": "23f88a1c.84f826",
        "order": 11,
        "width": 4,
        "height": 1,
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value}}m",
        "min": "1",
        "max": "90",
        "step": 1,
        "x": 270,
        "y": 560,
        "wires": [
            [
                "54d889fc.fec278"
            ]
        ]
    },
    {
        "id": "d0dd8cdc.5f055",
        "type": "ui_numeric",
        "z": "72b31fb9.cd844",
        "name": "",
        "label": "@",
        "tooltip": "",
        "group": "23f88a1c.84f826",
        "order": 10,
        "width": 4,
        "height": 1,
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value}}°C",
        "min": "30",
        "max": "80",
        "step": 1,
        "x": 730,
        "y": 560,
        "wires": [
            [
                "824c0665.eb7a58"
            ]
        ]
    },
    {
        "id": "c39e7e31.9012f",
        "type": "function",
        "z": "72b31fb9.cd844",
        "name": "Show/Hide rests",
        "func": "if(flow.get('mash_steps') === 0){msg.payload = {group:{hide:[\"Mash_Schedule_Control1\", \"Mash_Schedule_Control3\", \"Mash_Schedule_Rest4\", \"Mash_Schedule_Rest3\", \"Mash_Schedule_Rest2\", \"Mash_Schedule_Rest1\", \"Mash_Schedule_Rest4b\", \"Mash_Schedule_Rest3b\", \"Mash_Schedule_Rest2b\", \"Mash_Schedule_Rest1b\"]}}}\nif(flow.get('mash_steps') == 1){msg.payload = {group:{hide:[\"Mash_Schedule_Rest4\", \"Mash_Schedule_Rest3\", \"Mash_Schedule_Rest2\", \"Mash_Schedule_Rest4b\", \"Mash_Schedule_Rest3b\", \"Mash_Schedule_Rest2b\", \"Mash_Schedule_Rest1b\"], show:[\"Mash_Schedule_Control1\", \"Mash_Schedule_Control3\", \"Mash_Schedule_Rest1\"]}}}\nif(flow.get('mash_steps') == 2){msg.payload = {group:{hide:[\"Mash_Schedule_Rest4\", \"Mash_Schedule_Rest3\", \"Mash_Schedule_Rest4b\", \"Mash_Schedule_Rest3b\", \"Mash_Schedule_Rest2b\", \"Mash_Schedule_Rest1b\"], show:[\"Mash_Schedule_Control1\", \"Mash_Schedule_Control3\", \"Mash_Schedule_Rest1\", \"Mash_Schedule_Rest2\"]}}}\nif(flow.get('mash_steps') == 3){msg.payload = {group:{hide:[\"Mash_Schedule_Rest4\", \"Mash_Schedule_Rest4b\", \"Mash_Schedule_Rest3b\", \"Mash_Schedule_Rest2b\", \"Mash_Schedule_Rest1b\"], show:[\"Mash_Schedule_Control1\", \"Mash_Schedule_Control3\", \"Mash_Schedule_Rest1\", \"Mash_Schedule_Rest2\", \"Mash_Schedule_Rest3\"]}}}\nif(flow.get('mash_steps') == 4){msg.payload = {group:{hide:[\"Mash_Schedule_Rest4b\", \"Mash_Schedule_Rest3b\", \"Mash_Schedule_Rest2b\", \"Mash_Schedule_Rest1b\"], show:[\"Mash_Schedule_Control1\", \"Mash_Schedule_Control3\", \"Mash_Schedule_Rest1\", \"Mash_Schedule_Rest2\", \"Mash_Schedule_Rest3\", \"Mash_Schedule_Rest4\"]}}}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 660,
        "y": 200,
        "wires": [
            [
                "f1aab8bd.948098"
            ]
        ]
    },
    {
        "id": "243e426f.d733de",
        "type": "ui_numeric",
        "z": "72b31fb9.cd844",
        "name": "",
        "label": "Rest4",
        "tooltip": "",
        "group": "23f88a1c.84f826",
        "order": 17,
        "width": 4,
        "height": 1,
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value}}m",
        "min": "1",
        "max": "90",
        "step": 1,
        "x": 290,
        "y": 900,
        "wires": [
            [
                "dafdce2d.31b89"
            ]
        ]
    },
    {
        "id": "765c7c2.83aab84",
        "type": "ui_numeric",
        "z": "72b31fb9.cd844",
        "name": "",
        "label": "@",
        "tooltip": "",
        "group": "23f88a1c.84f826",
        "order": 16,
        "width": 4,
        "height": 1,
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value}}°C",
        "min": "35",
        "max": "80",
        "step": 1,
        "x": 730,
        "y": 900,
        "wires": [
            [
                "6f75eb58.650e74"
            ]
        ]
    },
    {
        "id": "985b9d76.67b74",
        "type": "ui_numeric",
        "z": "72b31fb9.cd844",
        "name": "",
        "label": "Rest3",
        "tooltip": "",
        "group": "23f88a1c.84f826",
        "order": 15,
        "width": 4,
        "height": 1,
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value}}m",
        "min": "1",
        "max": "90",
        "step": 1,
        "x": 290,
        "y": 800,
        "wires": [
            [
                "f5b3b280.81e69"
            ]
        ]
    },
    {
        "id": "84cda438.6294c8",
        "type": "ui_numeric",
        "z": "72b31fb9.cd844",
        "name": "",
        "label": "@",
        "tooltip": "",
        "group": "23f88a1c.84f826",
        "order": 14,
        "width": 4,
        "height": 1,
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value}}°C",
        "min": "35",
        "max": "80",
        "step": 1,
        "x": 730,
        "y": 800,
        "wires": [
            [
                "1e620532.28110b"
            ]
        ]
    },
    {
        "id": "95f7b113.2d14c",
        "type": "ui_numeric",
        "z": "72b31fb9.cd844",
        "name": "",
        "label": "Rest2",
        "tooltip": "",
        "group": "23f88a1c.84f826",
        "order": 13,
        "width": 4,
        "height": 1,
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value}}m",
        "min": "1",
        "max": "90",
        "step": 1,
        "x": 290,
        "y": 660,
        "wires": [
            [
                "d219f616.2a3148"
            ]
        ]
    },
    {
        "id": "e46a7bea.bc6268",
        "type": "ui_numeric",
        "z": "72b31fb9.cd844",
        "name": "",
        "label": "@",
        "tooltip": "",
        "group": "23f88a1c.84f826",
        "order": 12,
        "width": 4,
        "height": 1,
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value}}°C",
        "min": "35",
        "max": "80",
        "step": 1,
        "x": 730,
        "y": 660,
        "wires": [
            [
                "45490fbf.d8ed5"
            ]
        ]
    },
    {
        "id": "1f815edd.19d841",
        "type": "inject",
        "z": "72b31fb9.cd844",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "0",
        "payloadType": "num",
        "x": 150,
        "y": 160,
        "wires": [
            [
                "b5206534.a33328",
                "8c3f362c.b3ea18"
            ]
        ]
    },
    {
        "id": "bcd1488e.b74f48",
        "type": "inject",
        "z": "72b31fb9.cd844",
        "name": "Initialize lengths",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "10",
        "payloadType": "num",
        "x": 280,
        "y": 520,
        "wires": [
            [
                "bea47fb.ea09e8",
                "95f7b113.2d14c",
                "985b9d76.67b74",
                "243e426f.d733de",
                "54d889fc.fec278",
                "d219f616.2a3148",
                "f5b3b280.81e69",
                "dafdce2d.31b89"
            ]
        ]
    },
    {
        "id": "26ce270c.15f388",
        "type": "inject",
        "z": "72b31fb9.cd844",
        "name": "Initialize temp",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "35",
        "payloadType": "num",
        "x": 720,
        "y": 520,
        "wires": [
            [
                "d0dd8cdc.5f055",
                "e46a7bea.bc6268",
                "84cda438.6294c8",
                "765c7c2.83aab84",
                "45490fbf.d8ed5",
                "824c0665.eb7a58",
                "1e620532.28110b",
                "6f75eb58.650e74"
            ]
        ]
    },
    {
        "id": "8c3f362c.b3ea18",
        "type": "change",
        "z": "72b31fb9.cd844",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "mash_steps",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 440,
        "y": 200,
        "wires": [
            [
                "c39e7e31.9012f",
                "5952fa8d.edd3a4"
            ]
        ]
    },
    {
        "id": "54d889fc.fec278",
        "type": "change",
        "z": "72b31fb9.cd844",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "rest1_length",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 380,
        "y": 600,
        "wires": [
            [
                "bbb453b.99107b"
            ]
        ]
    },
    {
        "id": "d219f616.2a3148",
        "type": "change",
        "z": "72b31fb9.cd844",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "rest2_length",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 380,
        "y": 700,
        "wires": [
            [
                "5151db52.3073b4"
            ]
        ]
    },
    {
        "id": "1e620532.28110b",
        "type": "change",
        "z": "72b31fb9.cd844",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "rest3_temp",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 810,
        "y": 840,
        "wires": [
            [
                "fe4cc045.bdbe6"
            ]
        ]
    },
    {
        "id": "dafdce2d.31b89",
        "type": "change",
        "z": "72b31fb9.cd844",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "rest4_length",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 380,
        "y": 940,
        "wires": [
            [
                "f8dcce22.4ffbf"
            ]
        ]
    },
    {
        "id": "6f75eb58.650e74",
        "type": "change",
        "z": "72b31fb9.cd844",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "rest4_temp",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 810,
        "y": 940,
        "wires": [
            [
                "c6b7bee7.fb442"
            ]
        ]
    },
    {
        "id": "f5b3b280.81e69",
        "type": "change",
        "z": "72b31fb9.cd844",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "rest3_length",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 380,
        "y": 840,
        "wires": [
            [
                "b8a90dc4.ced48"
            ]
        ]
    },
    {
        "id": "45490fbf.d8ed5",
        "type": "change",
        "z": "72b31fb9.cd844",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "rest2_temp",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 810,
        "y": 700,
        "wires": [
            [
                "b721b610.dbcd78"
            ]
        ]
    },
    {
        "id": "824c0665.eb7a58",
        "type": "change",
        "z": "72b31fb9.cd844",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "rest1_temp",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 810,
        "y": 600,
        "wires": [
            [
                "47b45010.3bb38"
            ]
        ]
    },
    {
        "id": "97bf4ca1.dc8e6",
        "type": "ui_dropdown",
        "z": "72b31fb9.cd844",
        "name": "Start time",
        "label": "",
        "tooltip": "",
        "place": "",
        "group": "23f88a1c.84f826",
        "order": 7,
        "width": 8,
        "height": 1,
        "passthru": false,
        "options": [
            {
                "label": "Start now",
                "value": "now",
                "type": "str"
            },
            {
                "label": "Delay start by...",
                "value": "delay",
                "type": "str"
            },
            {
                "label": "Resume at...",
                "value": "resume",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "",
        "x": 300,
        "y": 380,
        "wires": [
            [
                "44db26dd.bf4728"
            ]
        ]
    },
    {
        "id": "2e872a77.ba4da6",
        "type": "function",
        "z": "72b31fb9.cd844",
        "name": "Show/Hide scheduler",
        "func": "if(flow.get('mash_start') == \"now\"){\n    msg.payload = {group:{hide:[\"Mash_Schedule_Control2\"]}}}else {\n        msg.payload = {group:{show:[\"Mash_Schedule_Control2\"]}}}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 740,
        "y": 380,
        "wires": [
            [
                "634f330e.d3755c"
            ]
        ]
    },
    {
        "id": "618743b2.1d6c9c",
        "type": "inject",
        "z": "72b31fb9.cd844",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "now",
        "payloadType": "str",
        "x": 250,
        "y": 340,
        "wires": [
            [
                "97bf4ca1.dc8e6",
                "44db26dd.bf4728"
            ]
        ]
    },
    {
        "id": "6e14e242.bb434c",
        "type": "ui_numeric",
        "z": "72b31fb9.cd844",
        "name": "Minutes",
        "label": "",
        "tooltip": "",
        "group": "23f88a1c.84f826",
        "order": 8,
        "width": 4,
        "height": 1,
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value}}m",
        "min": "0",
        "max": "59",
        "step": 1,
        "x": 400,
        "y": 460,
        "wires": [
            []
        ]
    },
    {
        "id": "ed5227c5.95b198",
        "type": "ui_numeric",
        "z": "72b31fb9.cd844",
        "name": "Hours",
        "label": "",
        "tooltip": "",
        "group": "23f88a1c.84f826",
        "order": 9,
        "width": 4,
        "height": 1,
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value}}h",
        "min": "0",
        "max": "12",
        "step": 1,
        "x": 250,
        "y": 460,
        "wires": [
            []
        ]
    },
    {
        "id": "fbe6eaf1.44f6e8",
        "type": "ui_button",
        "z": "72b31fb9.cd844",
        "name": "",
        "group": "92646333.6d2a3",
        "order": 1,
        "width": 8,
        "height": 1,
        "passthru": false,
        "label": "Run",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{colour}}",
        "icon": "",
        "payload": "true",
        "payloadType": "bool",
        "topic": "",
        "x": 250,
        "y": 1040,
        "wires": [
            [
                "89108d45.9df02"
            ]
        ]
    },
    {
        "id": "1f9aa013.3d31e",
        "type": "ui_button",
        "z": "5a12cee5.c91ac",
        "name": "",
        "group": "9d84adeb.2fb89",
        "order": 1,
        "width": 6,
        "height": 1,
        "passthru": false,
        "label": "Mash Schedule",
        "tooltip": "",
        "color": "#757575",
        "bgcolor": "white",
        "icon": "",
        "payload": "7",
        "payloadType": "num",
        "topic": "",
        "x": 120,
        "y": 660,
        "wires": [
            [
                "ac1d13c7.e234c"
            ]
        ]
    },
    {
        "id": "828cd2ce.5f475",
        "type": "ui_button",
        "z": "5a12cee5.c91ac",
        "name": "",
        "group": "21450869.2040f8",
        "order": 5,
        "width": 6,
        "height": 1,
        "passthru": false,
        "label": "Back",
        "tooltip": "",
        "color": "#757575",
        "bgcolor": "#e0e0e0",
        "icon": "",
        "payload": "1",
        "payloadType": "num",
        "topic": "",
        "x": 90,
        "y": 620,
        "wires": [
            [
                "ac1d13c7.e234c"
            ]
        ]
    },
    {
        "id": "bf056359.4e08b",
        "type": "inject",
        "z": "72b31fb9.cd844",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "false",
        "payloadType": "bool",
        "x": 390,
        "y": 1000,
        "wires": [
            [
                "423d2ee9.0f7a8"
            ]
        ]
    },
    {
        "id": "89108d45.9df02",
        "type": "switch",
        "z": "72b31fb9.cd844",
        "name": "",
        "property": "scheduler",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 390,
        "y": 1040,
        "wires": [
            [
                "423d2ee9.0f7a8"
            ],
            [
                "90fc72b8.126cc"
            ]
        ]
    },
    {
        "id": "423d2ee9.0f7a8",
        "type": "change",
        "z": "72b31fb9.cd844",
        "name": "Switch off",
        "rules": [
            {
                "t": "set",
                "p": "scheduler",
                "pt": "global",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 540,
        "y": 1020,
        "wires": [
            [
                "e342d8dc.01eb98"
            ]
        ]
    },
    {
        "id": "90fc72b8.126cc",
        "type": "change",
        "z": "72b31fb9.cd844",
        "name": "Switch on",
        "rules": [
            {
                "t": "set",
                "p": "scheduler",
                "pt": "global",
                "to": "true",
                "tot": "bool"
            },
            {
                "t": "set",
                "p": "click_time",
                "pt": "flow",
                "to": "",
                "tot": "date"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "",
                "tot": "date"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 540,
        "y": 1060,
        "wires": [
            [
                "e342d8dc.01eb98"
            ]
        ]
    },
    {
        "id": "bec712d8.4d887",
        "type": "change",
        "z": "72b31fb9.cd844",
        "name": "off colour",
        "rules": [
            {
                "t": "set",
                "p": "colour",
                "pt": "msg",
                "to": "grey",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 540,
        "y": 1200,
        "wires": [
            [
                "e06cdd3.d5cfc2"
            ]
        ]
    },
    {
        "id": "b631d130.5f1b",
        "type": "change",
        "z": "72b31fb9.cd844",
        "name": "on colour",
        "rules": [
            {
                "t": "set",
                "p": "colour",
                "pt": "msg",
                "to": "#66cc00",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 540,
        "y": 1160,
        "wires": [
            [
                "e06cdd3.d5cfc2"
            ]
        ]
    },
    {
        "id": "cd2c538b.e7fc1",
        "type": "switch",
        "z": "72b31fb9.cd844",
        "name": "Scheduler state",
        "property": "scheduler",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 360,
        "y": 1180,
        "wires": [
            [
                "b631d130.5f1b"
            ],
            [
                "bec712d8.4d887"
            ]
        ]
    },
    {
        "id": "2a5b06a3.63183a",
        "type": "delay",
        "z": "72b31fb9.cd844",
        "name": "delay",
        "pauseType": "delay",
        "timeout": "0.2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 290,
        "y": 1140,
        "wires": [
            [
                "cd2c538b.e7fc1"
            ]
        ]
    },
    {
        "id": "e06cdd3.d5cfc2",
        "type": "link out",
        "z": "72b31fb9.cd844",
        "name": "Run button colour",
        "links": [
            "4e86285b.9581e8"
        ],
        "x": 655,
        "y": 1180,
        "wires": []
    },
    {
        "id": "80b6c54a.558158",
        "type": "link in",
        "z": "72b31fb9.cd844",
        "name": "Scheduler update",
        "links": [
            "e342d8dc.01eb98"
        ],
        "x": 175,
        "y": 1140,
        "wires": [
            [
                "2a5b06a3.63183a"
            ]
        ]
    },
    {
        "id": "e342d8dc.01eb98",
        "type": "link out",
        "z": "72b31fb9.cd844",
        "name": "Scheduler update",
        "links": [
            "80b6c54a.558158",
            "b7d4f97a.f12ac8",
            "cf9ff09b.a81c"
        ],
        "x": 655,
        "y": 1040,
        "wires": []
    },
    {
        "id": "4e86285b.9581e8",
        "type": "link in",
        "z": "72b31fb9.cd844",
        "name": "Run button colour",
        "links": [
            "e06cdd3.d5cfc2"
        ],
        "x": 155,
        "y": 1040,
        "wires": [
            [
                "fbe6eaf1.44f6e8"
            ]
        ]
    },
    {
        "id": "97042c75.ea0fd",
        "type": "ui_ui_control",
        "z": "72b31fb9.cd844",
        "name": "Dashboard connection",
        "x": 200,
        "y": 40,
        "wires": [
            [
                "ead91af.51452e8"
            ]
        ]
    },
    {
        "id": "ead91af.51452e8",
        "type": "link out",
        "z": "72b31fb9.cd844",
        "name": "Connection established",
        "links": [
            "5b3d7a76.ca8224",
            "ba97614b.27cca",
            "24f4b37b.95902c"
        ],
        "x": 335,
        "y": 40,
        "wires": []
    },
    {
        "id": "24f4b37b.95902c",
        "type": "link in",
        "z": "72b31fb9.cd844",
        "name": "initialization",
        "links": [
            "ead91af.51452e8"
        ],
        "x": 215,
        "y": 1180,
        "wires": [
            [
                "cd2c538b.e7fc1"
            ]
        ]
    },
    {
        "id": "44db26dd.bf4728",
        "type": "change",
        "z": "72b31fb9.cd844",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "mash_start",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 510,
        "y": 380,
        "wires": [
            [
                "2e872a77.ba4da6"
            ]
        ]
    },
    {
        "id": "5b3d7a76.ca8224",
        "type": "link in",
        "z": "72b31fb9.cd844",
        "name": "Initialization",
        "links": [
            "ead91af.51452e8"
        ],
        "x": 575,
        "y": 340,
        "wires": [
            [
                "2e872a77.ba4da6"
            ]
        ]
    },
    {
        "id": "ba97614b.27cca",
        "type": "link in",
        "z": "72b31fb9.cd844",
        "name": "Initialization",
        "links": [
            "ead91af.51452e8"
        ],
        "x": 515,
        "y": 160,
        "wires": [
            [
                "c39e7e31.9012f"
            ]
        ]
    },
    {
        "id": "15fe9be9.93e1b4",
        "type": "link in",
        "z": "72b31fb9.cd844",
        "name": "UI dynamics",
        "links": [
            "f1aab8bd.948098",
            "634f330e.d3755c",
            "fda473b1.51713",
            "8baaa2a6.c6868",
            "3cbb5cc7.3c7574",
            "349de679.3837ba",
            "d162ed87.a37aa"
        ],
        "x": 55,
        "y": 40,
        "wires": [
            [
                "97042c75.ea0fd"
            ]
        ]
    },
    {
        "id": "f1aab8bd.948098",
        "type": "link out",
        "z": "72b31fb9.cd844",
        "name": "Rest # selector",
        "links": [
            "15fe9be9.93e1b4"
        ],
        "x": 775,
        "y": 200,
        "wires": []
    },
    {
        "id": "634f330e.d3755c",
        "type": "link out",
        "z": "72b31fb9.cd844",
        "name": "Scheduler visibility",
        "links": [
            "15fe9be9.93e1b4"
        ],
        "x": 875,
        "y": 380,
        "wires": []
    },
    {
        "id": "f11a53c.d9be1b",
        "type": "ui_text",
        "z": "72b31fb9.cd844",
        "group": "10057ba3.f09154",
        "order": 8,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Current time",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 750,
        "y": 1800,
        "wires": []
    },
    {
        "id": "cd901743.cfde98",
        "type": "inject",
        "z": "72b31fb9.cd844",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 330,
        "y": 1800,
        "wires": [
            [
                "4f8fd45d.53b22c"
            ]
        ]
    },
    {
        "id": "101ec3a6.2e028c",
        "type": "inject",
        "z": "72b31fb9.cd844",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 250,
        "y": 1600,
        "wires": [
            [
                "b0148cdb.84596"
            ]
        ]
    },
    {
        "id": "b0148cdb.84596",
        "type": "change",
        "z": "72b31fb9.cd844",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "step",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 430,
        "y": 1600,
        "wires": [
            []
        ]
    },
    {
        "id": "e247d5d.4e9f928",
        "type": "ui_text",
        "z": "72b31fb9.cd844",
        "group": "10057ba3.f09154",
        "order": 10,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Current target temperature",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 740,
        "y": 1840,
        "wires": []
    },
    {
        "id": "c9b9d2ef.493f1",
        "type": "inject",
        "z": "72b31fb9.cd844",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "50",
        "payloadType": "num",
        "x": 350,
        "y": 1840,
        "wires": [
            [
                "e247d5d.4e9f928"
            ]
        ]
    },
    {
        "id": "a3e3b9c.3db1648",
        "type": "ui_text",
        "z": "72b31fb9.cd844",
        "group": "10057ba3.f09154",
        "order": 6,
        "width": 0,
        "height": 0,
        "name": "Process stage",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "col-center",
        "x": 700,
        "y": 1640,
        "wires": []
    },
    {
        "id": "bd035fcf.d9bca",
        "type": "link in",
        "z": "c359f27b.fd6e3",
        "name": "BK bolt",
        "links": [
            "cba8dc71.24459",
            "71a21889.31f8b8"
        ],
        "x": 195,
        "y": 100,
        "wires": [
            [
                "5109657a.a7c11c"
            ]
        ]
    },
    {
        "id": "5109657a.a7c11c",
        "type": "change",
        "z": "c359f27b.fd6e3",
        "name": "Bolt updates",
        "rules": [
            {
                "t": "set",
                "p": "bk_on",
                "pt": "msg",
                "to": "bk_on",
                "tot": "global"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 370,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "32d7b993.0e83a6",
        "type": "ui_ui_control",
        "z": "c359f27b.fd6e3",
        "name": "Dashboard connection",
        "x": 140,
        "y": 40,
        "wires": [
            [
                "5109657a.a7c11c",
                "94f34131.cd15e",
                "d942bf94.dc37d"
            ]
        ]
    },
    {
        "id": "b0286250.530e4",
        "type": "ui_template",
        "z": "72b31fb9.cd844",
        "group": "10057ba3.f09154",
        "name": "Progress bar",
        "order": 7,
        "width": 8,
        "height": 1,
        "format": "<div>\n<md-progress-linear md-mode=\"{{msg.wait ? 'indeterminate' : 'determinate'}}\" value={{msg.payload}}></md-progress-linear>\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 690,
        "y": 1680,
        "wires": [
            []
        ]
    },
    {
        "id": "afd9045a.9d6488",
        "type": "function",
        "z": "72b31fb9.cd844",
        "name": "indeterminate or determinate",
        "func": "if(flow.get('step') in [1, 3, 5, 7]){msg.wait = true} else{\n    msg.wait = false}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 480,
        "y": 1680,
        "wires": [
            [
                "b0286250.530e4"
            ]
        ]
    },
    {
        "id": "5952fa8d.edd3a4",
        "type": "link out",
        "z": "72b31fb9.cd844",
        "name": "",
        "links": [
            "9059a043.20f12",
            "5f6316cf.d18528"
        ],
        "x": 595,
        "y": 240,
        "wires": []
    },
    {
        "id": "c05cf66d.ee8ad8",
        "type": "ui_text",
        "z": "72b31fb9.cd844",
        "group": "10057ba3.f09154",
        "order": 9,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Total schedule length",
        "format": "{{msg.payload}}m",
        "layout": "row-spread",
        "x": 720,
        "y": 1760,
        "wires": []
    },
    {
        "id": "715dabd1.367954",
        "type": "function",
        "z": "72b31fb9.cd844",
        "name": "Schedule length",
        "func": "msg.payload = 0.0\nif(flow.get('mash_steps') >= 1){msg.payload += flow.get('rest1_length')}\nif(flow.get('mash_steps') >= 2){msg.payload += flow.get('rest2_length')}\nif(flow.get('mash_steps') >= 3){msg.payload += flow.get('rest3_length')}\nif(flow.get('mash_steps') >= 4){msg.payload += flow.get('rest4_length')}\nflow.set('schedule_length', msg.payload)\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 320,
        "y": 1760,
        "wires": [
            [
                "c05cf66d.ee8ad8"
            ]
        ]
    },
    {
        "id": "9059a043.20f12",
        "type": "link in",
        "z": "72b31fb9.cd844",
        "name": "Update schedule length",
        "links": [
            "f8dcce22.4ffbf",
            "5151db52.3073b4",
            "bbb453b.99107b",
            "5952fa8d.edd3a4",
            "b8a90dc4.ced48"
        ],
        "x": 175,
        "y": 1760,
        "wires": [
            [
                "715dabd1.367954"
            ]
        ]
    },
    {
        "id": "8a964cd7.99d97",
        "type": "function",
        "z": "72b31fb9.cd844",
        "name": "Plain text process stage",
        "func": "if(flow.get('step') === 0){msg.payload=\"Not running\"}\nif(flow.get('step') == 1){msg.payload=\"Heating to rest 1\"}\nif(flow.get('step') == 2){msg.payload=\"Rest 1\"}\nif(flow.get('step') == 3){msg.payload=\"Heating to rest 2\"}\nif(flow.get('step') == 4){msg.payload=\"Rest 2\"}\nif(flow.get('step') == 5){msg.payload=\"Heating to rest 3\"}\nif(flow.get('step') == 6){msg.payload=\"Rest 3\"}\nif(flow.get('step') == 7){msg.payload=\"Heating to rest 4\"}\nif(flow.get('step') == 8){msg.payload=\"Rest 4\"}\nif(flow.get('step') == 10){msg.payload=\"Mash schedule completed!\"}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 470,
        "y": 1640,
        "wires": [
            [
                "a3e3b9c.3db1648"
            ]
        ]
    },
    {
        "id": "67ec0efa.dff24",
        "type": "inject",
        "z": "72b31fb9.cd844",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "2",
        "crontab": "",
        "once": true,
        "onceDelay": "0.5",
        "topic": "",
        "payload": "0",
        "payloadType": "num",
        "x": 230,
        "y": 1640,
        "wires": [
            [
                "8a964cd7.99d97",
                "afd9045a.9d6488"
            ]
        ]
    },
    {
        "id": "128e9000.d6e85",
        "type": "ui_template",
        "z": "72b31fb9.cd844",
        "group": "10057ba3.f09154",
        "name": "Read only rest1",
        "order": 2,
        "width": 8,
        "height": 1,
        "format": "<div ng-bind-html=\"msg.payload\" style=\"padding-left: 11px; color: grey\"></div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 640,
        "y": 1400,
        "wires": [
            []
        ]
    },
    {
        "id": "76d81207.fe7b4c",
        "type": "function",
        "z": "72b31fb9.cd844",
        "name": "rest1 length and temp",
        "func": "msg.payload = `Rest 1 ${flow.get('rest1_length')}m @ ${flow.get('rest1_temp')}°C`;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 380,
        "y": 1400,
        "wires": [
            [
                "128e9000.d6e85"
            ]
        ]
    },
    {
        "id": "c00ccd1.a0c563",
        "type": "ui_template",
        "z": "72b31fb9.cd844",
        "group": "10057ba3.f09154",
        "name": "Read only Mash steps",
        "order": 1,
        "width": 8,
        "height": 1,
        "format": "<div ng-bind-html=\"msg.payload\" style=\"padding-left: 11px; color: grey\"></div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 660,
        "y": 1360,
        "wires": [
            []
        ]
    },
    {
        "id": "2a731ea2.2d8712",
        "type": "function",
        "z": "72b31fb9.cd844",
        "name": "Read only mash steps text",
        "func": "if(flow.get('mash_steps') === 0){msg.payload = \"Disabled\"}\nif(flow.get('mash_steps') == 1){msg.payload = \"1 step\"}\nif(flow.get('mash_steps') == 2){msg.payload = \"2 step\"}\nif(flow.get('mash_steps') == 3){msg.payload = \"3 step\"}\nif(flow.get('mash_steps') == 4){msg.payload = \"4 step\"}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 400,
        "y": 1360,
        "wires": [
            [
                "c00ccd1.a0c563"
            ]
        ]
    },
    {
        "id": "3e592c31.1781b4",
        "type": "ui_template",
        "z": "72b31fb9.cd844",
        "group": "10057ba3.f09154",
        "name": "Read only rest2",
        "order": 3,
        "width": 8,
        "height": 1,
        "format": "<div ng-bind-html=\"msg.payload\" style=\"padding-left: 11px; color: grey\"></div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 640,
        "y": 1440,
        "wires": [
            []
        ]
    },
    {
        "id": "d6782f84.cdb5e",
        "type": "ui_template",
        "z": "72b31fb9.cd844",
        "group": "10057ba3.f09154",
        "name": "Read only rest3",
        "order": 4,
        "width": 8,
        "height": 1,
        "format": "<div ng-bind-html=\"msg.payload\" style=\"padding-left: 11px; color: grey\"></div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 640,
        "y": 1480,
        "wires": [
            []
        ]
    },
    {
        "id": "dcf8ac69.d6bf4",
        "type": "ui_template",
        "z": "72b31fb9.cd844",
        "group": "10057ba3.f09154",
        "name": "Read only rest4",
        "order": 5,
        "width": 8,
        "height": 1,
        "format": "<div ng-bind-html=\"msg.payload\" style=\"padding-left: 11px; color: grey\"></div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 640,
        "y": 1520,
        "wires": [
            []
        ]
    },
    {
        "id": "b7d4f97a.f12ac8",
        "type": "link in",
        "z": "72b31fb9.cd844",
        "name": "Scheduler update",
        "links": [
            "e342d8dc.01eb98"
        ],
        "x": 175,
        "y": 1280,
        "wires": [
            [
                "bf7f71a8.e6a29"
            ]
        ]
    },
    {
        "id": "bf7f71a8.e6a29",
        "type": "function",
        "z": "72b31fb9.cd844",
        "name": "UI updates",
        "func": "if(global.get('scheduler')){\n    msg.payload = {group:{show:[\"Mash_Schedule_Control4\", \"Mash_Schedule_MASH_SCHEDULE2\", \"Mash_Schedule_MASH_SCHEDULE\"], hide:[\"Mash_Schedule_Control1\", \"Mash_Schedule_Control2\"]}}\n} else {\n    if(flow.get('mash_start')== \"now\"){\n        msg.payload = {group:{show:[\"Mash_Schedule_MASH_SCHEDULE\", \"Mash_Schedule_Control1\"], hide:[\"Mash_Schedule_MASH_SCHEDULE2\", \"Mash_Schedule_Control4\"]}}\n    } else {\n        msg.payload = {group:{show:[\"Mash_Schedule_MASH_SCHEDULE\", \"Mash_Schedule_Control1\", \"Mash_Schedule_Control2\"], hide:[\"Mash_Schedule_MASH_SCHEDULE2\", \"Mash_Schedule_Control4\"]}}\n    }\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 350,
        "y": 1280,
        "wires": [
            [
                "349de679.3837ba"
            ]
        ]
    },
    {
        "id": "349de679.3837ba",
        "type": "link out",
        "z": "72b31fb9.cd844",
        "name": "Timer visibility",
        "links": [
            "15fe9be9.93e1b4"
        ],
        "x": 575,
        "y": 1280,
        "wires": []
    },
    {
        "id": "82b49e13.29e3d",
        "type": "function",
        "z": "72b31fb9.cd844",
        "name": "rest2 length and temp",
        "func": "msg.payload = `Rest 2 ${flow.get('rest2_length')}m @ ${flow.get('rest2_temp')}°C`;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 380,
        "y": 1440,
        "wires": [
            [
                "3e592c31.1781b4"
            ]
        ]
    },
    {
        "id": "50ccc1ce.7af86",
        "type": "function",
        "z": "72b31fb9.cd844",
        "name": "rest3 length and temp",
        "func": "msg.payload = `Rest 3 ${flow.get('rest3_length')}m @ ${flow.get('rest3_temp')}°C`;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 380,
        "y": 1480,
        "wires": [
            [
                "d6782f84.cdb5e"
            ]
        ]
    },
    {
        "id": "a6e7db1.2228028",
        "type": "function",
        "z": "72b31fb9.cd844",
        "name": "rest4 length and temp",
        "func": "msg.payload = `Rest 4 ${flow.get('rest4_length')}m @ ${flow.get('rest4_temp')}°C`;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 380,
        "y": 1520,
        "wires": [
            [
                "dcf8ac69.d6bf4"
            ]
        ]
    },
    {
        "id": "3a1b7cc2.39c054",
        "type": "link in",
        "z": "72b31fb9.cd844",
        "name": "rest1 read only",
        "links": [
            "bbb453b.99107b",
            "47b45010.3bb38"
        ],
        "x": 175,
        "y": 1400,
        "wires": [
            [
                "76d81207.fe7b4c"
            ]
        ]
    },
    {
        "id": "a07c8120.72b44",
        "type": "link in",
        "z": "72b31fb9.cd844",
        "name": "rest2 read only",
        "links": [
            "b721b610.dbcd78",
            "5151db52.3073b4"
        ],
        "x": 175,
        "y": 1440,
        "wires": [
            [
                "82b49e13.29e3d"
            ]
        ]
    },
    {
        "id": "64c36bfd.e4f294",
        "type": "link in",
        "z": "72b31fb9.cd844",
        "name": "rest 3 read only",
        "links": [
            "fe4cc045.bdbe6",
            "b8a90dc4.ced48"
        ],
        "x": 175,
        "y": 1480,
        "wires": [
            [
                "50ccc1ce.7af86"
            ]
        ]
    },
    {
        "id": "f22a006d.38e7e",
        "type": "link in",
        "z": "72b31fb9.cd844",
        "name": "rest4 read only",
        "links": [
            "f8dcce22.4ffbf",
            "c6b7bee7.fb442"
        ],
        "x": 175,
        "y": 1520,
        "wires": [
            [
                "a6e7db1.2228028"
            ]
        ]
    },
    {
        "id": "bbb453b.99107b",
        "type": "link out",
        "z": "72b31fb9.cd844",
        "name": "rest1 length",
        "links": [
            "9059a043.20f12",
            "3a1b7cc2.39c054"
        ],
        "x": 535,
        "y": 600,
        "wires": []
    },
    {
        "id": "5151db52.3073b4",
        "type": "link out",
        "z": "72b31fb9.cd844",
        "name": "rest2 length",
        "links": [
            "9059a043.20f12",
            "a07c8120.72b44"
        ],
        "x": 535,
        "y": 700,
        "wires": []
    },
    {
        "id": "b8a90dc4.ced48",
        "type": "link out",
        "z": "72b31fb9.cd844",
        "name": "rest3 length",
        "links": [
            "9059a043.20f12",
            "64c36bfd.e4f294"
        ],
        "x": 535,
        "y": 840,
        "wires": []
    },
    {
        "id": "f8dcce22.4ffbf",
        "type": "link out",
        "z": "72b31fb9.cd844",
        "name": "rest4 length",
        "links": [
            "9059a043.20f12",
            "f22a006d.38e7e"
        ],
        "x": 535,
        "y": 940,
        "wires": []
    },
    {
        "id": "47b45010.3bb38",
        "type": "link out",
        "z": "72b31fb9.cd844",
        "name": "rest1 temp",
        "links": [
            "3a1b7cc2.39c054"
        ],
        "x": 955,
        "y": 600,
        "wires": []
    },
    {
        "id": "b721b610.dbcd78",
        "type": "link out",
        "z": "72b31fb9.cd844",
        "name": "rest2 temp",
        "links": [
            "a07c8120.72b44"
        ],
        "x": 955,
        "y": 700,
        "wires": []
    },
    {
        "id": "fe4cc045.bdbe6",
        "type": "link out",
        "z": "72b31fb9.cd844",
        "name": "rest3 temp",
        "links": [
            "64c36bfd.e4f294"
        ],
        "x": 955,
        "y": 840,
        "wires": []
    },
    {
        "id": "c6b7bee7.fb442",
        "type": "link out",
        "z": "72b31fb9.cd844",
        "name": "rest4 temp",
        "links": [
            "f22a006d.38e7e"
        ],
        "x": 955,
        "y": 940,
        "wires": []
    },
    {
        "id": "5f6316cf.d18528",
        "type": "link in",
        "z": "72b31fb9.cd844",
        "name": "Mash step readonly",
        "links": [
            "5952fa8d.edd3a4"
        ],
        "x": 175,
        "y": 1360,
        "wires": [
            [
                "2a731ea2.2d8712"
            ]
        ]
    },
    {
        "id": "dd477a89.49f538",
        "type": "function",
        "z": "72b31fb9.cd844",
        "name": "Show read only schedule",
        "func": "if(global.get('scheduler')){\n  if(flow.get('mash_steps') === 0){msg.payload = {group:{hide:[\"Mash_Schedule_Control1\", \"Mash_Schedule_Control3\", \"Mash_Schedule_Rest4\", \"Mash_Schedule_Rest3\", \"Mash_Schedule_Rest2\", \"Mash_Schedule_Rest1\", \"Mash_Schedule_Rest4b\", \"Mash_Schedule_Rest3b\", \"Mash_Schedule_Rest2b\", \"Mash_Schedule_Rest1b\"]}}}\n  if(flow.get('mash_steps') == 1){msg.payload = {group:{hide:[\"Mash_Schedule_Rest4\", \"Mash_Schedule_Rest3\", \"Mash_Schedule_Rest2\", \"Mash_Schedule_Rest1\", \"Mash_Schedule_Rest4b\", \"Mash_Schedule_Rest3b\", \"Mash_Schedule_Rest2b\"], show:[\"Mash_Schedule_Control1\", \"Mash_Schedule_Control3\", \"Mash_Schedule_Rest1b\"]}}}\n  if(flow.get('mash_steps') == 2){msg.payload = {group:{hide:[\"Mash_Schedule_Rest4\", \"Mash_Schedule_Rest3\", \"Mash_Schedule_Rest4b\", \"Mash_Schedule_Rest3b\", \"Mash_Schedule_Rest2\", \"Mash_Schedule_Rest1\"], show:[\"Mash_Schedule_Control1\", \"Mash_Schedule_Control3\", \"Mash_Schedule_Rest1b\", \"Mash_Schedule_Rest2b\"]}}}\n  if(flow.get('mash_steps') == 3){msg.payload = {group:{hide:[\"Mash_Schedule_Rest4\", \"Mash_Schedule_Rest4b\", \"Mash_Schedule_Rest3\", \"Mash_Schedule_Rest2\", \"Mash_Schedule_Rest1\"], show:[\"Mash_Schedule_Control1\", \"Mash_Schedule_Control3\", \"Mash_Schedule_Rest1b\", \"Mash_Schedule_Rest2b\", \"Mash_Schedule_Rest3b\"]}}}\n  if(flow.get('mash_steps') == 4){msg.payload = {group:{hide:[\"Mash_Schedule_Rest4\", \"Mash_Schedule_Rest3\", \"Mash_Schedule_Rest2\", \"Mash_Schedule_Rest1\"], show:[\"Mash_Schedule_Control1\", \"Mash_Schedule_Control3\", \"Mash_Schedule_Rest1b\", \"Mash_Schedule_Rest2b\", \"Mash_Schedule_Rest3b\", \"Mash_Schedule_Rest4b\"]}}}}\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 390,
        "y": 1320,
        "wires": [
            [
                "d162ed87.a37aa"
            ]
        ]
    },
    {
        "id": "cf9ff09b.a81c",
        "type": "link in",
        "z": "72b31fb9.cd844",
        "name": "Scheduler update",
        "links": [
            "e342d8dc.01eb98"
        ],
        "x": 175,
        "y": 1320,
        "wires": [
            [
                "dd477a89.49f538"
            ]
        ]
    },
    {
        "id": "d162ed87.a37aa",
        "type": "link out",
        "z": "72b31fb9.cd844",
        "name": "Timer visibility",
        "links": [
            "15fe9be9.93e1b4"
        ],
        "x": 575,
        "y": 1320,
        "wires": []
    },
    {
        "id": "aeef6960.7606f8",
        "type": "link in",
        "z": "72b31fb9.cd844",
        "name": "",
        "links": [
            "7b84d85a.e62258",
            "b369ded7.b786"
        ],
        "x": 155,
        "y": 260,
        "wires": [
            [
                "b5206534.a33328"
            ]
        ]
    },
    {
        "id": "d4604158.07947",
        "type": "link in",
        "z": "72b31fb9.cd844",
        "name": "",
        "links": [
            "5fb42070.3f70d",
            "af606c1.bc4159"
        ],
        "x": 155,
        "y": 560,
        "wires": [
            [
                "bea47fb.ea09e8"
            ]
        ]
    },
    {
        "id": "d57f8d60.0bb0a",
        "type": "link in",
        "z": "72b31fb9.cd844",
        "name": "",
        "links": [
            "e2d538b4.03ee98",
            "736d5b41.5b1854"
        ],
        "x": 155,
        "y": 660,
        "wires": [
            [
                "95f7b113.2d14c"
            ]
        ]
    },
    {
        "id": "fe7f33fe.c37f6",
        "type": "link in",
        "z": "72b31fb9.cd844",
        "name": "",
        "links": [
            "d332f25.ecbef1",
            "ff3d470d.4d0f68"
        ],
        "x": 155,
        "y": 800,
        "wires": [
            [
                "985b9d76.67b74"
            ]
        ]
    },
    {
        "id": "edaf6d8d.71ddb",
        "type": "link in",
        "z": "72b31fb9.cd844",
        "name": "",
        "links": [
            "c67a14ee.a6d5a8",
            "dd1d40a2.bd18b"
        ],
        "x": 155,
        "y": 900,
        "wires": [
            [
                "243e426f.d733de"
            ]
        ]
    },
    {
        "id": "ef5e6bf9.2d1a48",
        "type": "link in",
        "z": "72b31fb9.cd844",
        "name": "",
        "links": [
            "3255ff95.2acfb",
            "8fd9baff.bfeb28"
        ],
        "x": 615,
        "y": 560,
        "wires": [
            [
                "d0dd8cdc.5f055"
            ]
        ]
    },
    {
        "id": "a12e3d48.1d46a",
        "type": "link in",
        "z": "72b31fb9.cd844",
        "name": "",
        "links": [
            "1642a376.00d4fd",
            "5d3f8fff.acc93"
        ],
        "x": 615,
        "y": 660,
        "wires": [
            [
                "e46a7bea.bc6268"
            ]
        ]
    },
    {
        "id": "83fc5b9b.945808",
        "type": "link in",
        "z": "72b31fb9.cd844",
        "name": "",
        "links": [
            "e84942c1.46001",
            "902cd286.04f0f"
        ],
        "x": 615,
        "y": 800,
        "wires": [
            [
                "84cda438.6294c8"
            ]
        ]
    },
    {
        "id": "df3d49fb.ff3f88",
        "type": "link in",
        "z": "72b31fb9.cd844",
        "name": "",
        "links": [
            "5513fb56.dbb7b4",
            "af171ec4.5933"
        ],
        "x": 615,
        "y": 900,
        "wires": [
            [
                "765c7c2.83aab84"
            ]
        ]
    },
    {
        "id": "7e18cb7.397f734",
        "type": "function",
        "z": "61cfa3a0.e85d6c",
        "name": "num of mash steps",
        "func": "var count = msg.payload.mashStepsCount + 1\nmsg.payload = count;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 650,
        "y": 80,
        "wires": [
            [
                "b369ded7.b786"
            ]
        ]
    },
    {
        "id": "b369ded7.b786",
        "type": "link out",
        "z": "61cfa3a0.e85d6c",
        "name": "",
        "links": [
            "aeef6960.7606f8"
        ],
        "x": 795,
        "y": 80,
        "wires": []
    },
    {
        "id": "d9fc76db.0f0128",
        "type": "function",
        "z": "61cfa3a0.e85d6c",
        "name": "step times",
        "func": "var batch = msg.payload;\nvar numOfSteps = batch.mashStepsCount;\nvar times = [{payload: 0}, null, null, null]\n\nfor (var i = 1; i <= numOfSteps; i++) {\n    times[i] = { payload: batch.recipe.mash.steps[i-1].stepTime }\n}\n\nreturn times;",
        "outputs": 4,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 630,
        "y": 140,
        "wires": [
            [
                "af606c1.bc4159"
            ],
            [
                "736d5b41.5b1854"
            ],
            [
                "ff3d470d.4d0f68"
            ],
            [
                "dd1d40a2.bd18b"
            ]
        ]
    },
    {
        "id": "af606c1.bc4159",
        "type": "link out",
        "z": "61cfa3a0.e85d6c",
        "name": "",
        "links": [
            "d4604158.07947"
        ],
        "x": 735,
        "y": 120,
        "wires": []
    },
    {
        "id": "736d5b41.5b1854",
        "type": "link out",
        "z": "61cfa3a0.e85d6c",
        "name": "",
        "links": [
            "d57f8d60.0bb0a"
        ],
        "x": 775,
        "y": 140,
        "wires": []
    },
    {
        "id": "ff3d470d.4d0f68",
        "type": "link out",
        "z": "61cfa3a0.e85d6c",
        "name": "",
        "links": [
            "fe7f33fe.c37f6"
        ],
        "x": 815,
        "y": 160,
        "wires": []
    },
    {
        "id": "dd1d40a2.bd18b",
        "type": "link out",
        "z": "61cfa3a0.e85d6c",
        "name": "",
        "links": [
            "edaf6d8d.71ddb"
        ],
        "x": 855,
        "y": 180,
        "wires": []
    },
    {
        "id": "2d63601f.5989c",
        "type": "function",
        "z": "61cfa3a0.e85d6c",
        "name": "stemp temps",
        "func": "var batch = msg.payload;\nvar temps = batch.recipe.mash.steps.map(function(step) {\n    return { payload: step.stepTemp }\n});\nreturn temps;",
        "outputs": 4,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 630,
        "y": 220,
        "wires": [
            [
                "8fd9baff.bfeb28"
            ],
            [
                "5d3f8fff.acc93"
            ],
            [
                "902cd286.04f0f"
            ],
            [
                "af171ec4.5933"
            ]
        ]
    },
    {
        "id": "8fd9baff.bfeb28",
        "type": "link out",
        "z": "61cfa3a0.e85d6c",
        "name": "BF stemp temp 1",
        "links": [
            "7543ba77.f4b134",
            "ef5e6bf9.2d1a48"
        ],
        "x": 735,
        "y": 200,
        "wires": []
    },
    {
        "id": "5d3f8fff.acc93",
        "type": "link out",
        "z": "61cfa3a0.e85d6c",
        "name": "BF stemp temp 2",
        "links": [
            "a12e3d48.1d46a"
        ],
        "x": 775,
        "y": 220,
        "wires": []
    },
    {
        "id": "902cd286.04f0f",
        "type": "link out",
        "z": "61cfa3a0.e85d6c",
        "name": "BF stemp temp 3",
        "links": [
            "83fc5b9b.945808"
        ],
        "x": 815,
        "y": 240,
        "wires": []
    },
    {
        "id": "af171ec4.5933",
        "type": "link out",
        "z": "61cfa3a0.e85d6c",
        "name": "BF stemp temp 4",
        "links": [
            "df3d49fb.ff3f88"
        ],
        "x": 855,
        "y": 260,
        "wires": []
    },
    {
        "id": "502f57b2.8da6f8",
        "type": "function",
        "z": "61cfa3a0.e85d6c",
        "name": "take first batch",
        "func": "//msg.payload = msg.payload[0];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 420,
        "y": 160,
        "wires": [
            [
                "d9fc76db.0f0128",
                "7e18cb7.397f734",
                "2d63601f.5989c",
                "65b1d4c3.bf188c"
            ]
        ]
    },
    {
        "id": "65b1d4c3.bf188c",
        "type": "function",
        "z": "61cfa3a0.e85d6c",
        "name": "recipe info",
        "func": "var batch = msg.payload;\nmsg.batchName = batch.name;\nmsg.batchNumber = batch.batchNo;\nmsg.recipeName = batch.recipe.name;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 630,
        "y": 360,
        "wires": [
            [
                "b5a9c908.7418c8"
            ]
        ]
    },
    {
        "id": "b5a9c908.7418c8",
        "type": "ui_template",
        "z": "61cfa3a0.e85d6c",
        "group": "23f88a1c.84f826",
        "name": "",
        "order": 5,
        "width": 8,
        "height": 2,
        "format": "<div style=\"text-align: center; font-size: 20px\">\n    <div style=\"width: 100%\">\n        <span>{{msg.batchName || '&lt;recipe info not loaded&gt;'}}</span>\n        <span>{{msg.batchNumber}}</span>\n    </div>\n    <span>{{msg.recipeName}}</span>\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "x": 880,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "c36e3227.29216",
        "type": "ui_button",
        "z": "61cfa3a0.e85d6c",
        "name": "",
        "group": "23f88a1c.84f826",
        "order": 2,
        "width": 4,
        "height": 1,
        "passthru": false,
        "label": "Load it!",
        "tooltip": "",
        "color": "#757575",
        "bgcolor": "#e0e0e0",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 120,
        "y": 80,
        "wires": [
            [
                "270a9412.422eec"
            ]
        ]
    },
    {
        "id": "965effc1.9c207",
        "type": "inject",
        "z": "61cfa3a0.e85d6c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{}",
        "payloadType": "json",
        "x": 810,
        "y": 320,
        "wires": [
            [
                "b5a9c908.7418c8"
            ]
        ]
    },
    {
        "id": "4f8fd45d.53b22c",
        "type": "moment",
        "z": "72b31fb9.cd844",
        "name": "",
        "topic": "",
        "input": "payload",
        "inputType": "msg",
        "inTz": "Europe/Stockholm",
        "adjAmount": "0",
        "adjType": "days",
        "adjDir": "add",
        "format": "LTS",
        "locale": "sv_SE",
        "output": "payload",
        "outputType": "msg",
        "outTz": "Europe/Stockholm",
        "x": 540,
        "y": 1800,
        "wires": [
            [
                "f11a53c.d9be1b"
            ]
        ]
    },
    {
        "id": "a4b233e3.da8b5",
        "type": "link in",
        "z": "93f34866.9e5ee8",
        "name": "BK Volume logger",
        "links": [
            "5293f78c.df80b8"
        ],
        "x": 175,
        "y": 1020,
        "wires": [
            [
                "37aca9b9.eacab6"
            ]
        ]
    },
    {
        "id": "37aca9b9.eacab6",
        "type": "switch",
        "z": "93f34866.9e5ee8",
        "name": "Output logging on?",
        "property": "volume_log",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 310,
        "y": 1020,
        "wires": [
            [
                "930783c3.ed05c"
            ]
        ]
    },
    {
        "id": "456b15ad.a621cc",
        "type": "function",
        "z": "93f34866.9e5ee8",
        "name": "Format output for influxdb",
        "func": "msg.payload = [\n    {\n        measurement: \"volume-BK\",\n        fields: {\n            volume: msg.volume,\n            target: msg.target,\n            brew: global.get(\"brew-label\")\n        },\n        timestamp: new Date()\n    }\n];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 940,
        "y": 1020,
        "wires": [
            [
                "8ae7b59d.406648"
            ]
        ]
    },
    {
        "id": "930783c3.ed05c",
        "type": "delay",
        "z": "93f34866.9e5ee8",
        "name": "",
        "pauseType": "delay",
        "timeout": "250",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 510,
        "y": 1020,
        "wires": [
            [
                "865792a0.f0882"
            ]
        ]
    },
    {
        "id": "865792a0.f0882",
        "type": "delay",
        "z": "93f34866.9e5ee8",
        "name": "",
        "pauseType": "rate",
        "timeout": "10",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "5",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "x": 700,
        "y": 1020,
        "wires": [
            [
                "456b15ad.a621cc"
            ]
        ]
    },
    {
        "id": "3b01ba5d.6841a6",
        "type": "inject",
        "z": "93f34866.9e5ee8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 590,
        "y": 360,
        "wires": [
            [
                "24671933.3e77b6",
                "1901740d.b6b03c"
            ]
        ]
    },
    {
        "id": "24671933.3e77b6",
        "type": "change",
        "z": "93f34866.9e5ee8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "volume_log",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 840,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "1901740d.b6b03c",
        "type": "ui_switch",
        "z": "93f34866.9e5ee8",
        "name": "",
        "label": "Volume",
        "tooltip": "",
        "group": "e804feb2.b941b",
        "order": 5,
        "width": 0,
        "height": 0,
        "passthru": true,
        "decouple": "false",
        "topic": "",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "x": 760,
        "y": 360,
        "wires": [
            [
                "24671933.3e77b6"
            ]
        ]
    },
    {
        "id": "7243f866.e42738",
        "type": "ui_dropdown",
        "z": "61cfa3a0.e85d6c",
        "name": "",
        "label": "",
        "tooltip": "",
        "place": "Select batch",
        "group": "23f88a1c.84f826",
        "order": 3,
        "width": 8,
        "height": 1,
        "passthru": false,
        "options": [],
        "payload": "",
        "topic": "",
        "x": 200,
        "y": 420,
        "wires": [
            [
                "9ddf4014.84f1b"
            ]
        ]
    },
    {
        "id": "f4104a58.94cd28",
        "type": "inject",
        "z": "61cfa3a0.e85d6c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 260,
        "wires": [
            [
                "f893af64.ca612"
            ]
        ]
    },
    {
        "id": "63de29cb.b7d398",
        "type": "function",
        "z": "61cfa3a0.e85d6c",
        "name": "transform options",
        "func": "var options = msg.payload.map(function(batch) {\n    var label = batch.name + \" #\" + batch.batchNo + \" - \" + batch.recipe.name;\n    var option = {};\n    option[label] = batch._id;\n    return option;\n});\nmsg.options = options;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 210,
        "y": 380,
        "wires": [
            [
                "7243f866.e42738"
            ]
        ]
    },
    {
        "id": "9ddf4014.84f1b",
        "type": "change",
        "z": "61cfa3a0.e85d6c",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "selected_batch_id",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 300,
        "y": 460,
        "wires": [
            []
        ]
    },
    {
        "id": "d72db052.821fa",
        "type": "sort",
        "z": "61cfa3a0.e85d6c",
        "name": "",
        "order": "descending",
        "as_num": true,
        "target": "payload",
        "targetType": "msg",
        "msgKey": "payload.batchNo",
        "msgKeyType": "jsonata",
        "seqKey": "payload",
        "seqKeyType": "msg",
        "x": 150,
        "y": 340,
        "wires": [
            [
                "63de29cb.b7d398"
            ]
        ]
    },
    {
        "id": "f893af64.ca612",
        "type": "brewfather-api-request",
        "z": "61cfa3a0.e85d6c",
        "name": "Get Batches",
        "property": "payload",
        "propertyType": "msg",
        "endpoint": "getbatches",
        "include": [],
        "complete": true,
        "inventoryexist": false,
        "inventoryadjust": "",
        "inventory": "",
        "status": "Planning",
        "offset": 0,
        "limit": 10,
        "x": 150,
        "y": 300,
        "wires": [
            [
                "d72db052.821fa",
                "8aed0cab.5dc32"
            ]
        ]
    },
    {
        "id": "270a9412.422eec",
        "type": "brewfather-api-request",
        "z": "61cfa3a0.e85d6c",
        "name": "Get Batch",
        "property": "selected_batch_id",
        "propertyType": "flow",
        "endpoint": "getbatch",
        "include": [],
        "complete": false,
        "inventoryexist": false,
        "inventoryadjust": "",
        "inventory": "",
        "status": "Planning",
        "offset": 0,
        "limit": 10,
        "x": 240,
        "y": 160,
        "wires": [
            [
                "502f57b2.8da6f8",
                "67e4b194.9f1b4"
            ]
        ]
    },
    {
        "id": "8aed0cab.5dc32",
        "type": "debug",
        "z": "61cfa3a0.e85d6c",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 360,
        "y": 340,
        "wires": []
    },
    {
        "id": "67e4b194.9f1b4",
        "type": "debug",
        "z": "61cfa3a0.e85d6c",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 400,
        "y": 220,
        "wires": []
    },
    {
        "id": "a99ed289.84938",
        "type": "ui_button",
        "z": "cd8e99f0.331958",
        "name": "",
        "group": "6f025f7e.49cd3",
        "order": 7,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "Manual",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{colour}}",
        "icon": "",
        "payload": "true",
        "payloadType": "bool",
        "topic": "",
        "x": 200,
        "y": 80,
        "wires": [
            [
                "22844271.028d4e"
            ]
        ]
    },
    {
        "id": "c0623a1c.7019e8",
        "type": "ui_button",
        "z": "cd8e99f0.331958",
        "name": "",
        "group": "6f025f7e.49cd3",
        "order": 6,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "PID",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{colour}}",
        "icon": "",
        "payload": "true",
        "payloadType": "bool",
        "topic": "",
        "x": 190,
        "y": 40,
        "wires": [
            [
                "94867baa.0cd288"
            ]
        ]
    },
    {
        "id": "16c6eaff.5da655",
        "type": "ui_button",
        "z": "cd8e99f0.331958",
        "name": "",
        "group": "6f025f7e.49cd3",
        "order": 8,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "Off",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{colour}}",
        "icon": "",
        "payload": "false",
        "payloadType": "bool",
        "topic": "",
        "x": 190,
        "y": 120,
        "wires": [
            [
                "5e1919c9.af31a8"
            ]
        ]
    },
    {
        "id": "4f290333.cc47fc",
        "type": "link in",
        "z": "cd8e99f0.331958",
        "name": "PID button colour",
        "links": [
            "8e92ee29.f3c02",
            "cd8fd53.01d4928"
        ],
        "x": 75,
        "y": 40,
        "wires": [
            [
                "c0623a1c.7019e8"
            ]
        ]
    },
    {
        "id": "c753613d.b1f4c",
        "type": "link in",
        "z": "cd8e99f0.331958",
        "name": "Manual button colour",
        "links": [
            "11b18ee3.fa19f1"
        ],
        "x": 75,
        "y": 80,
        "wires": [
            [
                "a99ed289.84938"
            ]
        ]
    },
    {
        "id": "8705961f.785a98",
        "type": "link in",
        "z": "cd8e99f0.331958",
        "name": "Off button colour",
        "links": [
            "e8194a2.04bc3b8"
        ],
        "x": 75,
        "y": 120,
        "wires": [
            [
                "16c6eaff.5da655"
            ]
        ]
    },
    {
        "id": "94867baa.0cd288",
        "type": "link out",
        "z": "cd8e99f0.331958",
        "name": "PID button",
        "links": [
            "82516921.e02948",
            "aa63b418.489c48",
            "d19888b2.f7cd28",
            "db025f23.d90c"
        ],
        "x": 315,
        "y": 40,
        "wires": []
    },
    {
        "id": "22844271.028d4e",
        "type": "link out",
        "z": "cd8e99f0.331958",
        "name": "Manual button",
        "links": [
            "5045c20a.237fec",
            "82516921.e02948",
            "aa63b418.489c48",
            "94cb79fa.10b548",
            "db025f23.d90c"
        ],
        "x": 315,
        "y": 80,
        "wires": []
    },
    {
        "id": "5e1919c9.af31a8",
        "type": "link out",
        "z": "cd8e99f0.331958",
        "name": "Off button",
        "links": [
            "6e212845.ab2e28",
            "82516921.e02948",
            "44a32235.5c77dc",
            "aa63b418.489c48",
            "1ce86bb1.b07bb4",
            "db025f23.d90c"
        ],
        "x": 315,
        "y": 120,
        "wires": []
    },
    {
        "id": "c44a9371.eba29",
        "type": "delay",
        "z": "cd8e99f0.331958",
        "name": "delay",
        "pauseType": "delay",
        "timeout": "0.2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 190,
        "y": 280,
        "wires": [
            [
                "a0ab064c.ebbac8"
            ]
        ]
    },
    {
        "id": "8e92ee29.f3c02",
        "type": "link out",
        "z": "cd8e99f0.331958",
        "name": "PID button colour",
        "links": [
            "4f290333.cc47fc"
        ],
        "x": 635,
        "y": 300,
        "wires": []
    },
    {
        "id": "db025f23.d90c",
        "type": "link in",
        "z": "cd8e99f0.331958",
        "name": "Button click",
        "links": [
            "22844271.028d4e",
            "5e1919c9.af31a8",
            "94867baa.0cd288",
            "11c18a22.2ff07e",
            "fd8c477a.99a1a"
        ],
        "x": 75,
        "y": 280,
        "wires": [
            [
                "c44a9371.eba29"
            ]
        ]
    },
    {
        "id": "94700384.2cc0e",
        "type": "change",
        "z": "cd8e99f0.331958",
        "name": "hlt off colour",
        "rules": [
            {
                "t": "set",
                "p": "colour",
                "pt": "msg",
                "to": "grey",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 510,
        "y": 420,
        "wires": [
            [
                "11b18ee3.fa19f1"
            ]
        ]
    },
    {
        "id": "c245ab1a.ad5a98",
        "type": "change",
        "z": "cd8e99f0.331958",
        "name": "hlt on colour",
        "rules": [
            {
                "t": "set",
                "p": "colour",
                "pt": "msg",
                "to": "#424242",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 510,
        "y": 380,
        "wires": [
            [
                "11b18ee3.fa19f1"
            ]
        ]
    },
    {
        "id": "6908927f.111afc",
        "type": "switch",
        "z": "cd8e99f0.331958",
        "name": "",
        "property": "hlt_on",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 230,
        "y": 420,
        "wires": [
            [
                "886ce356.69c4"
            ],
            [
                "94700384.2cc0e"
            ]
        ]
    },
    {
        "id": "93cc945.da0e668",
        "type": "delay",
        "z": "cd8e99f0.331958",
        "name": "delay",
        "pauseType": "delay",
        "timeout": "0.2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 190,
        "y": 380,
        "wires": [
            [
                "6908927f.111afc"
            ]
        ]
    },
    {
        "id": "11b18ee3.fa19f1",
        "type": "link out",
        "z": "cd8e99f0.331958",
        "name": "Manual button colour",
        "links": [
            "c753613d.b1f4c"
        ],
        "x": 615,
        "y": 400,
        "wires": []
    },
    {
        "id": "8efa032d.5f979",
        "type": "change",
        "z": "cd8e99f0.331958",
        "name": "hlt off colour",
        "rules": [
            {
                "t": "set",
                "p": "colour",
                "pt": "msg",
                "to": "#424242",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 370,
        "y": 540,
        "wires": [
            [
                "e8194a2.04bc3b8"
            ]
        ]
    },
    {
        "id": "3a147d4b.856982",
        "type": "change",
        "z": "cd8e99f0.331958",
        "name": "hlt on colour",
        "rules": [
            {
                "t": "set",
                "p": "colour",
                "pt": "msg",
                "to": "grey",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 370,
        "y": 500,
        "wires": [
            [
                "e8194a2.04bc3b8"
            ]
        ]
    },
    {
        "id": "721c5b8e.72e2c4",
        "type": "switch",
        "z": "cd8e99f0.331958",
        "name": "",
        "property": "hlt_on",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 210,
        "y": 520,
        "wires": [
            [
                "3a147d4b.856982"
            ],
            [
                "8efa032d.5f979"
            ]
        ]
    },
    {
        "id": "2c147ec9.0ce3a2",
        "type": "delay",
        "z": "cd8e99f0.331958",
        "name": "delay",
        "pauseType": "delay",
        "timeout": "0.2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 190,
        "y": 480,
        "wires": [
            [
                "721c5b8e.72e2c4"
            ]
        ]
    },
    {
        "id": "e8194a2.04bc3b8",
        "type": "link out",
        "z": "cd8e99f0.331958",
        "name": "Off button colour",
        "links": [
            "8705961f.785a98",
            "3e0efd1.4d98882",
            "c98ea849.baf91"
        ],
        "x": 475,
        "y": 520,
        "wires": []
    },
    {
        "id": "886ce356.69c4",
        "type": "switch",
        "z": "cd8e99f0.331958",
        "name": "",
        "property": "hlt_pid",
        "propertyType": "global",
        "rules": [
            {
                "t": "false"
            },
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 350,
        "y": 400,
        "wires": [
            [
                "c245ab1a.ad5a98"
            ],
            [
                "94700384.2cc0e"
            ]
        ]
    },
    {
        "id": "a0ab064c.ebbac8",
        "type": "switch",
        "z": "cd8e99f0.331958",
        "name": "",
        "property": "hlt_on",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 230,
        "y": 320,
        "wires": [
            [
                "fc6aafa9.5e534"
            ],
            [
                "23cb0ddd.f15cf2"
            ]
        ]
    },
    {
        "id": "fc6aafa9.5e534",
        "type": "switch",
        "z": "cd8e99f0.331958",
        "name": "",
        "property": "hlt_pid",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 370,
        "y": 300,
        "wires": [
            [
                "312b50dc.a4837"
            ],
            [
                "23cb0ddd.f15cf2"
            ]
        ]
    },
    {
        "id": "312b50dc.a4837",
        "type": "change",
        "z": "cd8e99f0.331958",
        "name": "hlt on colour",
        "rules": [
            {
                "t": "set",
                "p": "colour",
                "pt": "msg",
                "to": "#424242",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 530,
        "y": 280,
        "wires": [
            [
                "8e92ee29.f3c02"
            ]
        ]
    },
    {
        "id": "23cb0ddd.f15cf2",
        "type": "change",
        "z": "cd8e99f0.331958",
        "name": "hlt off colour",
        "rules": [
            {
                "t": "set",
                "p": "colour",
                "pt": "msg",
                "to": "grey",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 530,
        "y": 320,
        "wires": [
            [
                "8e92ee29.f3c02"
            ]
        ]
    },
    {
        "id": "82516921.e02948",
        "type": "link in",
        "z": "cd8e99f0.331958",
        "name": "Button click",
        "links": [
            "22844271.028d4e",
            "5e1919c9.af31a8",
            "94867baa.0cd288",
            "11c18a22.2ff07e",
            "fd8c477a.99a1a"
        ],
        "x": 75,
        "y": 380,
        "wires": [
            [
                "93cc945.da0e668"
            ]
        ]
    },
    {
        "id": "aa63b418.489c48",
        "type": "link in",
        "z": "cd8e99f0.331958",
        "name": "Button click",
        "links": [
            "22844271.028d4e",
            "5e1919c9.af31a8",
            "94867baa.0cd288",
            "11c18a22.2ff07e",
            "fd8c477a.99a1a"
        ],
        "x": 75,
        "y": 480,
        "wires": [
            [
                "2c147ec9.0ce3a2"
            ]
        ]
    },
    {
        "id": "eae1c385.bb334",
        "type": "link in",
        "z": "cd8e99f0.331958",
        "name": "Button initialization",
        "links": [
            "a902d194.51df48",
            "4c513a7c.432ff4"
        ],
        "x": 75,
        "y": 320,
        "wires": [
            [
                "a0ab064c.ebbac8"
            ]
        ]
    },
    {
        "id": "f789df6e.1f872",
        "type": "link in",
        "z": "cd8e99f0.331958",
        "name": "Button initialization",
        "links": [
            "a902d194.51df48",
            "4c513a7c.432ff4"
        ],
        "x": 75,
        "y": 420,
        "wires": [
            [
                "6908927f.111afc"
            ]
        ]
    },
    {
        "id": "9261731e.80618",
        "type": "link in",
        "z": "cd8e99f0.331958",
        "name": "Button initialization",
        "links": [
            "a902d194.51df48",
            "4c513a7c.432ff4"
        ],
        "x": 75,
        "y": 520,
        "wires": [
            [
                "721c5b8e.72e2c4"
            ]
        ]
    },
    {
        "id": "e3f7b10c.5a67a",
        "type": "ui_ui_control",
        "z": "cd8e99f0.331958",
        "name": "Dashboard connection",
        "x": 160,
        "y": 200,
        "wires": [
            [
                "4c513a7c.432ff4"
            ]
        ]
    },
    {
        "id": "4c513a7c.432ff4",
        "type": "link out",
        "z": "cd8e99f0.331958",
        "name": "Button initialization on connection",
        "links": [
            "f789df6e.1f872",
            "eae1c385.bb334",
            "9261731e.80618"
        ],
        "x": 315,
        "y": 200,
        "wires": []
    },
    {
        "id": "31e5393d.55e5d6",
        "type": "inject",
        "z": "5975e44b.d697ac",
        "name": "Default Element Duty",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "0.1",
        "topic": "",
        "payload": "100",
        "payloadType": "num",
        "x": 140,
        "y": 200,
        "wires": [
            [
                "dfee0bff.6d4a88",
                "8ffc1fe1.9821e"
            ]
        ]
    },
    {
        "id": "8385dbfc.e046f8",
        "type": "change",
        "z": "5975e44b.d697ac",
        "name": "hlt_lock=true",
        "rules": [
            {
                "t": "set",
                "p": "hlt_lock",
                "pt": "global",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 990,
        "y": 1520,
        "wires": [
            []
        ]
    },
    {
        "id": "1db9f760.94df19",
        "type": "change",
        "z": "5975e44b.d697ac",
        "name": "hlt_on = hlt_try",
        "rules": [
            {
                "t": "set",
                "p": "hlt_on",
                "pt": "global",
                "to": "hlt_try",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "hlt_try",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 660,
        "y": 1540,
        "wires": [
            [
                "162d9911.0dc7b7",
                "caea86d3.7d1a28"
            ]
        ]
    },
    {
        "id": "162d9911.0dc7b7",
        "type": "switch",
        "z": "5975e44b.d697ac",
        "name": "hlt_on",
        "property": "hlt_on",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 830,
        "y": 1540,
        "wires": [
            [
                "8385dbfc.e046f8"
            ],
            [
                "f5ec271a.981818"
            ]
        ]
    },
    {
        "id": "4ddb4e8d.506ec",
        "type": "switch",
        "z": "5975e44b.d697ac",
        "name": "Check rims_lock",
        "property": "rims_lock",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 270,
        "y": 1500,
        "wires": [
            [
                "b40b886b.2c22f8"
            ],
            [
                "1d04f32.d92350d"
            ]
        ]
    },
    {
        "id": "cca0912e.e0362",
        "type": "ui_toast",
        "z": "5975e44b.d697ac",
        "position": "top right",
        "displayTime": "5",
        "highlight": "",
        "outputs": 0,
        "ok": "OK",
        "cancel": "",
        "topic": "",
        "name": "",
        "x": 550,
        "y": 1360,
        "wires": []
    },
    {
        "id": "b40b886b.2c22f8",
        "type": "change",
        "z": "5975e44b.d697ac",
        "name": "Element lock message",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Can not access boil kettle element controls while RIMS element is active",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 520,
        "y": 1400,
        "wires": [
            [
                "cca0912e.e0362"
            ]
        ]
    },
    {
        "id": "f5ec271a.981818",
        "type": "delay",
        "z": "5975e44b.d697ac",
        "name": "",
        "pauseType": "delay",
        "timeout": "3",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 980,
        "y": 1560,
        "wires": [
            [
                "854a7189.d6b1f"
            ]
        ]
    },
    {
        "id": "854a7189.d6b1f",
        "type": "change",
        "z": "5975e44b.d697ac",
        "name": "hlt_lock = false",
        "rules": [
            {
                "t": "set",
                "p": "hlt_lock",
                "pt": "global",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1040,
        "y": 1600,
        "wires": [
            [
                "2604a4ae.1f8fec"
            ]
        ]
    },
    {
        "id": "2604a4ae.1f8fec",
        "type": "link out",
        "z": "5975e44b.d697ac",
        "name": "HLT Bolt update",
        "links": [
            "87eb4a41.7763c8"
        ],
        "x": 1115,
        "y": 1500,
        "wires": []
    },
    {
        "id": "caea86d3.7d1a28",
        "type": "link out",
        "z": "5975e44b.d697ac",
        "name": "HLT Bolt update",
        "links": [
            "87eb4a41.7763c8"
        ],
        "x": 895,
        "y": 1480,
        "wires": []
    },
    {
        "id": "e5018213.faaad",
        "type": "ui_numeric",
        "z": "5975e44b.d697ac",
        "name": "",
        "label": "K𝗉",
        "tooltip": "",
        "group": "5bdce100.b1b46",
        "order": 3,
        "width": 4,
        "height": 1,
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value | number:1}}",
        "min": 0,
        "max": "99.8",
        "step": "0.2",
        "x": 130,
        "y": 520,
        "wires": [
            [
                "d9cb82b9.d41e6"
            ]
        ]
    },
    {
        "id": "3bdbf429.25f24c",
        "type": "ui_numeric",
        "z": "5975e44b.d697ac",
        "name": "",
        "label": "K𝗂",
        "tooltip": "",
        "group": "5bdce100.b1b46",
        "order": 5,
        "width": 4,
        "height": 1,
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value | number:1}}",
        "min": 0,
        "max": "100",
        "step": "0.2",
        "x": 130,
        "y": 620,
        "wires": [
            [
                "37b21ea2.472cb2"
            ]
        ]
    },
    {
        "id": "bec6c0c0.7aec7",
        "type": "ui_numeric",
        "z": "5975e44b.d697ac",
        "name": "",
        "label": "K𝖽",
        "tooltip": "",
        "group": "5bdce100.b1b46",
        "order": 7,
        "width": 4,
        "height": 1,
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value | number:1}}",
        "min": 0,
        "max": "100",
        "step": "0.2",
        "x": 130,
        "y": 720,
        "wires": [
            [
                "65a07918.4d83f8"
            ]
        ]
    },
    {
        "id": "d9cb82b9.d41e6",
        "type": "change",
        "z": "5975e44b.d697ac",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "p",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 300,
        "y": 520,
        "wires": [
            []
        ]
    },
    {
        "id": "37b21ea2.472cb2",
        "type": "change",
        "z": "5975e44b.d697ac",
        "name": "set flow.i",
        "rules": [
            {
                "t": "set",
                "p": "i",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 300,
        "y": 620,
        "wires": [
            []
        ]
    },
    {
        "id": "65a07918.4d83f8",
        "type": "change",
        "z": "5975e44b.d697ac",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "d",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 300,
        "y": 720,
        "wires": [
            []
        ]
    },
    {
        "id": "eb521572.956588",
        "type": "inject",
        "z": "5975e44b.d697ac",
        "name": "Default P",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "45",
        "payloadType": "num",
        "x": 100,
        "y": 480,
        "wires": [
            [
                "e5018213.faaad",
                "d9cb82b9.d41e6"
            ]
        ]
    },
    {
        "id": "61ce69df.16b788",
        "type": "inject",
        "z": "5975e44b.d697ac",
        "name": "Default I",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "0.2",
        "payloadType": "num",
        "x": 100,
        "y": 580,
        "wires": [
            [
                "3bdbf429.25f24c",
                "37b21ea2.472cb2"
            ]
        ]
    },
    {
        "id": "2e9e9348.d6b6cc",
        "type": "inject",
        "z": "5975e44b.d697ac",
        "name": "Default D",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "90",
        "payloadType": "num",
        "x": 100,
        "y": 680,
        "wires": [
            [
                "bec6c0c0.7aec7",
                "65a07918.4d83f8"
            ]
        ]
    },
    {
        "id": "729b2a7c.255364",
        "type": "inject",
        "z": "5975e44b.d697ac",
        "name": "Default HLT Target",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "65",
        "payloadType": "num",
        "x": 130,
        "y": 320,
        "wires": [
            [
                "3d4343ec.a516bc",
                "8b277808.acbbf8",
                "67ee4a85.f6a154",
                "2afa676b.b64ae8"
            ]
        ]
    },
    {
        "id": "2ce764e2.99002c",
        "type": "function",
        "z": "5975e44b.d697ac",
        "name": "HLT PID",
        "func": "// Note that the algorithm provided below assumes a 1 second iteration time\n// Justin Angevaare\n// May 2018\n\n// Set temperature\nmsg.temperature =  msg.payload;\nnode.warn('Temp: ' + msg.payload);\n// Well that node doesn't work... do manually\nmsg.interval = 2000\n\n// Calculate error\nmsg.error = flow.get('hlt_target') - msg.temperature;\n\n// Set output max\nmsg.max_output = 100\n\n// Calculate proportional action\nvar pTerm = msg.error * flow.get('p');\n\n// Calculate intergral action\nvar iTerm = 0;\nif (pTerm < msg.max_output) {\n    // Calculate integrator max\n    msg.integrator_max = msg.max_output/flow.get('i');\n    \n    // Update integrator\n    // For purposes of integrator, bound error by [-1, 1]\n    msg.integrator = flow.get('integrator');\n    msg.integrator += (msg.interval/1000) * Math.max(Math.min(msg.error, 1), -1);\n    \n    // Bound total integrator by absolute maximum\n    msg.integrator = Math.max(Math.min(msg.integrator, msg.integrator_max), -msg.integrator_max);\n    \n    // Output updated integrator to flow context\n    flow.set('integrator', msg.integrator);\n    \n    iTerm = msg.integrator * flow.get('i');\n}\n\n// Calculate derivative action\nmsg.derivative = (msg.error - flow.get('last_error'))/(msg.interval/1000);\nvar dTerm = msg.derivative * flow.get('d');\n\nmsg.output = pTerm + iTerm + dTerm;\nnode.warn(pTerm + ' ' + iTerm + ' ' + dTerm);\n// Bound output by [0, max_output]\nmsg.output = Math.max(Math.min(msg.output, msg.max_output), 0);\n\n// Output updated last_error to flow context\nmsg.last_error = msg.error;\nflow.set('last_error', msg.last_error);\n\n// Set payload to element output\nmsg.payload = msg.output;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 460,
        "y": 100,
        "wires": [
            [
                "223c352a.a9bf1a",
                "12aee65c.b7589a"
            ]
        ]
    },
    {
        "id": "6da1e268.4d65ac",
        "type": "switch",
        "z": "5975e44b.d697ac",
        "name": "hlt_pid switch",
        "property": "hlt_pid",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 280,
        "y": 120,
        "wires": [
            [
                "2ce764e2.99002c",
                "18fe4894.896187"
            ],
            [
                "b2c225e7.564588"
            ]
        ]
    },
    {
        "id": "b2c225e7.564588",
        "type": "change",
        "z": "5975e44b.d697ac",
        "name": "payload = hlt_manual_duty",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "hlt_manual_duty",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 520,
        "y": 140,
        "wires": [
            [
                "223c352a.a9bf1a"
            ]
        ]
    },
    {
        "id": "3dfeebc5.fc88c4",
        "type": "link in",
        "z": "5975e44b.d697ac",
        "name": "HLT PID temperature input",
        "links": [
            "b6d06129.1aaff"
        ],
        "x": 175,
        "y": 40,
        "wires": [
            [
                "a6cfc11c.be4ac",
                "fed330c7.256e6"
            ]
        ]
    },
    {
        "id": "8b277808.acbbf8",
        "type": "change",
        "z": "5975e44b.d697ac",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "hlt_target",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 450,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "223c352a.a9bf1a",
        "type": "link out",
        "z": "5975e44b.d697ac",
        "name": "PID or Manual Duty",
        "links": [
            "36ae1958.c0bc16",
            "6b17371b.fcc858"
        ],
        "x": 695,
        "y": 100,
        "wires": []
    },
    {
        "id": "beeaba30.245c58",
        "type": "change",
        "z": "5975e44b.d697ac",
        "name": "hlt_pid, hlt_try = true",
        "rules": [
            {
                "t": "set",
                "p": "hlt_pid",
                "pt": "global",
                "to": "true",
                "tot": "bool"
            },
            {
                "t": "set",
                "p": "hlt_try",
                "pt": "flow",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 300,
        "y": 1040,
        "wires": [
            [
                "a82efed6.89b42"
            ]
        ]
    },
    {
        "id": "d1fc189a.83b798",
        "type": "change",
        "z": "5975e44b.d697ac",
        "name": "hlt_pid = false, hlt_try = true",
        "rules": [
            {
                "t": "set",
                "p": "hlt_pid",
                "pt": "global",
                "to": "false",
                "tot": "bool"
            },
            {
                "t": "set",
                "p": "hlt_try",
                "pt": "flow",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 320,
        "y": 1080,
        "wires": [
            [
                "f15ab675.ddf0f8"
            ]
        ]
    },
    {
        "id": "1a416eeb.95b651",
        "type": "change",
        "z": "5975e44b.d697ac",
        "name": "hlt_pid, hlt_try = false",
        "rules": [
            {
                "t": "set",
                "p": "hlt_pid",
                "pt": "global",
                "to": "false",
                "tot": "bool"
            },
            {
                "t": "set",
                "p": "hlt_try",
                "pt": "flow",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 300,
        "y": 1000,
        "wires": [
            [
                "c0377373.423c5"
            ]
        ]
    },
    {
        "id": "f15ab675.ddf0f8",
        "type": "link out",
        "z": "5975e44b.d697ac",
        "name": "Boil Try Output",
        "links": [
            "d9a7ee65.9edea"
        ],
        "x": 515,
        "y": 1080,
        "wires": []
    },
    {
        "id": "d9a7ee65.9edea",
        "type": "link in",
        "z": "5975e44b.d697ac",
        "name": "Boil Try Input",
        "links": [
            "f15ab675.ddf0f8",
            "a82efed6.89b42",
            "c0377373.423c5"
        ],
        "x": 135,
        "y": 1420,
        "wires": [
            [
                "1db9f760.94df19"
            ]
        ]
    },
    {
        "id": "a6cfc11c.be4ac",
        "type": "switch",
        "z": "5975e44b.d697ac",
        "name": "hlt_on",
        "property": "hlt_on",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 130,
        "y": 120,
        "wires": [
            [
                "6da1e268.4d65ac"
            ]
        ]
    },
    {
        "id": "8ffc1fe1.9821e",
        "type": "change",
        "z": "5975e44b.d697ac",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "hlt_manual_duty",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 470,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "3ea75a2f.ea7976",
        "type": "change",
        "z": "5975e44b.d697ac",
        "name": "payload = 0",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 270,
        "y": 1240,
        "wires": [
            [
                "9789724e.0d54d"
            ]
        ]
    },
    {
        "id": "9789724e.0d54d",
        "type": "link out",
        "z": "5975e44b.d697ac",
        "name": "Off Duty",
        "links": [
            "6b17371b.fcc858",
            "36ae1958.c0bc16"
        ],
        "x": 515,
        "y": 1240,
        "wires": []
    },
    {
        "id": "4b1bd9c5.202e48",
        "type": "link out",
        "z": "5975e44b.d697ac",
        "name": "Boil PID display",
        "links": [
            "5285e8f7.b9ad08",
            "eda67ad.0cd1d88",
            "c4785d2b.c68f3"
        ],
        "x": 515,
        "y": 1160,
        "wires": []
    },
    {
        "id": "9a52984a.ce1b88",
        "type": "change",
        "z": "5975e44b.d697ac",
        "name": "Zero everything",
        "rules": [
            {
                "t": "set",
                "p": "last_error",
                "pt": "msg",
                "to": "0.0",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "integrator",
                "pt": "msg",
                "to": "0.0",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "derivative",
                "pt": "msg",
                "to": "0.0",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "last_error",
                "pt": "flow",
                "to": "last_error",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "integrator",
                "pt": "flow",
                "to": "integrator",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "output",
                "pt": "msg",
                "to": "0.0",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "target",
                "pt": "msg",
                "to": "hlt_target",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 280,
        "y": 1160,
        "wires": [
            [
                "4b1bd9c5.202e48"
            ]
        ]
    },
    {
        "id": "12aee65c.b7589a",
        "type": "link out",
        "z": "5975e44b.d697ac",
        "name": "HLT PID display",
        "links": [
            "c4785d2b.c68f3",
            "f97c86fe.8d3ac8"
        ],
        "x": 575,
        "y": 60,
        "wires": []
    },
    {
        "id": "d19888b2.f7cd28",
        "type": "link in",
        "z": "5975e44b.d697ac",
        "name": "PID button",
        "links": [
            "89ce3e25.3ad2f8",
            "94867baa.0cd288"
        ],
        "x": 135,
        "y": 1040,
        "wires": [
            [
                "beeaba30.245c58"
            ]
        ]
    },
    {
        "id": "a82efed6.89b42",
        "type": "link out",
        "z": "5975e44b.d697ac",
        "name": "Boil Try Output",
        "links": [
            "d9a7ee65.9edea"
        ],
        "x": 515,
        "y": 1040,
        "wires": []
    },
    {
        "id": "c0377373.423c5",
        "type": "link out",
        "z": "5975e44b.d697ac",
        "name": "Boil Try Output",
        "links": [
            "d9a7ee65.9edea"
        ],
        "x": 515,
        "y": 1000,
        "wires": []
    },
    {
        "id": "94cb79fa.10b548",
        "type": "link in",
        "z": "5975e44b.d697ac",
        "name": "Manual button",
        "links": [
            "ed41478a.5a2028",
            "22844271.028d4e"
        ],
        "x": 135,
        "y": 1080,
        "wires": [
            [
                "d1fc189a.83b798"
            ]
        ]
    },
    {
        "id": "5045c20a.237fec",
        "type": "link in",
        "z": "5975e44b.d697ac",
        "name": "Manual button",
        "links": [
            "ed41478a.5a2028",
            "22844271.028d4e"
        ],
        "x": 135,
        "y": 1120,
        "wires": [
            [
                "9a52984a.ce1b88"
            ]
        ]
    },
    {
        "id": "1ce86bb1.b07bb4",
        "type": "link in",
        "z": "5975e44b.d697ac",
        "name": "Off button",
        "links": [
            "11c18a22.2ff07e",
            "fd8c477a.99a1a",
            "5e1919c9.af31a8"
        ],
        "x": 135,
        "y": 1000,
        "wires": [
            [
                "1a416eeb.95b651"
            ]
        ]
    },
    {
        "id": "6e212845.ab2e28",
        "type": "link in",
        "z": "5975e44b.d697ac",
        "name": "Off button",
        "links": [
            "f012ed08.d6a83",
            "d068c868.178e4",
            "11c18a22.2ff07e",
            "fd8c477a.99a1a",
            "5e1919c9.af31a8"
        ],
        "x": 135,
        "y": 1240,
        "wires": [
            [
                "3ea75a2f.ea7976"
            ]
        ]
    },
    {
        "id": "30d2a885.06d168",
        "type": "inject",
        "z": "5975e44b.d697ac",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "0.1",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 780,
        "wires": [
            [
                "f012ed08.d6a83"
            ]
        ]
    },
    {
        "id": "44a32235.5c77dc",
        "type": "link in",
        "z": "5975e44b.d697ac",
        "name": "Off button",
        "links": [
            "f012ed08.d6a83",
            "11c18a22.2ff07e",
            "fd8c477a.99a1a",
            "5e1919c9.af31a8"
        ],
        "x": 135,
        "y": 1160,
        "wires": [
            [
                "9a52984a.ce1b88"
            ]
        ]
    },
    {
        "id": "f012ed08.d6a83",
        "type": "link out",
        "z": "5975e44b.d697ac",
        "name": "Off button - initialization",
        "links": [
            "6e212845.ab2e28",
            "d5b9cec2.3afd6",
            "44a32235.5c77dc"
        ],
        "x": 275,
        "y": 780,
        "wires": []
    },
    {
        "id": "d5b9cec2.3afd6",
        "type": "link in",
        "z": "5975e44b.d697ac",
        "name": "Off button - initialization",
        "links": [
            "f012ed08.d6a83"
        ],
        "x": 135,
        "y": 960,
        "wires": [
            [
                "1d0bc472.24deec"
            ]
        ]
    },
    {
        "id": "1d0bc472.24deec",
        "type": "change",
        "z": "5975e44b.d697ac",
        "name": "hlt_lock, hlt_on, hlt_pid, hlt_try = false",
        "rules": [
            {
                "t": "set",
                "p": "bk_lock",
                "pt": "global",
                "to": "false",
                "tot": "bool"
            },
            {
                "t": "set",
                "p": "hlt_on",
                "pt": "global",
                "to": "false",
                "tot": "bool"
            },
            {
                "t": "set",
                "p": "hlt_pid",
                "pt": "global",
                "to": "false",
                "tot": "bool"
            },
            {
                "t": "set",
                "p": "hlt_try",
                "pt": "flow",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 350,
        "y": 960,
        "wires": [
            []
        ]
    },
    {
        "id": "3d4343ec.a516bc",
        "type": "ui_slider",
        "z": "5975e44b.d697ac",
        "name": "Kettle target slider",
        "label": "Target",
        "tooltip": "",
        "group": "6f025f7e.49cd3",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": true,
        "outs": "end",
        "topic": "",
        "min": "20",
        "max": "100",
        "step": "1",
        "x": 170,
        "y": 360,
        "wires": [
            [
                "8b277808.acbbf8",
                "67ee4a85.f6a154",
                "2afa676b.b64ae8"
            ]
        ]
    },
    {
        "id": "dfee0bff.6d4a88",
        "type": "ui_slider",
        "z": "5975e44b.d697ac",
        "name": "Manual duty slider",
        "label": "Manual",
        "tooltip": "",
        "group": "6f025f7e.49cd3",
        "order": 5,
        "width": 0,
        "height": 0,
        "passthru": true,
        "outs": "end",
        "topic": "",
        "min": "20",
        "max": "100",
        "step": "1",
        "x": 170,
        "y": 240,
        "wires": [
            [
                "8ffc1fe1.9821e"
            ]
        ]
    },
    {
        "id": "faaf1430.09ab68",
        "type": "change",
        "z": "5975e44b.d697ac",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "hlt_try",
                "pt": "flow",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 480,
        "y": 1320,
        "wires": [
            []
        ]
    },
    {
        "id": "67ee4a85.f6a154",
        "type": "ui_text",
        "z": "5975e44b.d697ac",
        "group": "5bdce100.b1b46",
        "order": 2,
        "width": 3,
        "height": 1,
        "name": "Kettle target",
        "label": "Target",
        "format": "{{payload | number:1}}°C",
        "layout": "col-center",
        "x": 430,
        "y": 420,
        "wires": []
    },
    {
        "id": "fed330c7.256e6",
        "type": "change",
        "z": "5975e44b.d697ac",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "temp-HLT",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 180,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "1d04f32.d92350d",
        "type": "switch",
        "z": "5975e44b.d697ac",
        "name": "check minimum volume",
        "property": "current_volume",
        "propertyType": "global",
        "rules": [
            {
                "t": "lt",
                "v": "8",
                "vt": "num"
            },
            {
                "t": "gte",
                "v": "8",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 390,
        "y": 1560,
        "wires": [
            [
                "5a09cd4a.bb90a4"
            ],
            []
        ]
    },
    {
        "id": "5a09cd4a.bb90a4",
        "type": "change",
        "z": "5975e44b.d697ac",
        "name": "Lock message",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Can not turn element on as walter level is below 8L",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 660,
        "y": 1440,
        "wires": [
            [
                "b2682a2.f333bd8"
            ]
        ]
    },
    {
        "id": "b2682a2.f333bd8",
        "type": "ui_toast",
        "z": "5975e44b.d697ac",
        "position": "top right",
        "displayTime": "5",
        "highlight": "",
        "sendall": true,
        "outputs": 0,
        "ok": "OK",
        "cancel": "",
        "raw": false,
        "topic": "",
        "name": "",
        "x": 730,
        "y": 1480,
        "wires": []
    },
    {
        "id": "18fe4894.896187",
        "type": "debug",
        "z": "5975e44b.d697ac",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 810,
        "y": 220,
        "wires": []
    },
    {
        "id": "10073e08.aff472",
        "type": "link in",
        "z": "5975e44b.d697ac",
        "name": "HLT kettle target temp",
        "links": [],
        "x": 35,
        "y": 360,
        "wires": [
            [
                "3d4343ec.a516bc"
            ]
        ]
    },
    {
        "id": "1334bc38.8868f4",
        "type": "smooth",
        "z": "b1634535.4f6908",
        "name": "",
        "property": "payload",
        "action": "mean",
        "count": "5",
        "round": "1",
        "mult": "single",
        "reduce": false,
        "x": 780,
        "y": 180,
        "wires": [
            [
                "bea1a901.13d168"
            ]
        ]
    },
    {
        "id": "318c0c66.4d9384",
        "type": "sensor-ds18b20",
        "z": "b1634535.4f6908",
        "name": "temp-HLT",
        "sensorid": "28-041657bcbdff",
        "timer": "2",
        "repeat": false,
        "x": 320,
        "y": 100,
        "wires": [
            [
                "397fe89c.a05a98",
                "aabb9f30.560e8"
            ]
        ]
    },
    {
        "id": "b6d06129.1aaff",
        "type": "link out",
        "z": "b1634535.4f6908",
        "name": "HLT calibrated temperature",
        "links": [
            "3dfeebc5.fc88c4",
            "78ec6046.90b92",
            "feb66cc.68f179",
            "c520737b.b5b8f"
        ],
        "x": 735,
        "y": 40,
        "wires": []
    },
    {
        "id": "c2435e8a.7c9d2",
        "type": "ui_text",
        "z": "b1634535.4f6908",
        "group": "5bdce100.b1b46",
        "order": 1,
        "width": 3,
        "height": 1,
        "name": "HLT temperature display",
        "label": "Kettle",
        "format": "{{msg.payload | number:1}}°C",
        "layout": "col-center",
        "x": 830,
        "y": 120,
        "wires": []
    },
    {
        "id": "397fe89c.a05a98",
        "type": "function",
        "z": "b1634535.4f6908",
        "name": "calibrated HLT temp value",
        "func": "var rawHigh = global.get('HLT-raw-high');\nvar rawLow = global.get('HLT-raw-low');\n\nvar referenceHigh = 99.9;\nvar referenceLow = 0.0;\nvar rawRange = rawHigh - rawLow;\nvar referenceRange = referenceHigh - referenceLow;\n\nvar rawValue = msg.payload;\n\nvar correctedValue = (((rawValue - rawLow) * referenceRange) / rawRange) + referenceLow;\nmsg.payload = correctedValue;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 530,
        "y": 100,
        "wires": [
            [
                "c2435e8a.7c9d2",
                "1334bc38.8868f4",
                "b6d06129.1aaff"
            ]
        ]
    },
    {
        "id": "bc40be2.e5bcb4",
        "type": "inject",
        "z": "b1634535.4f6908",
        "d": true,
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "65",
        "payloadType": "num",
        "x": 310,
        "y": 160,
        "wires": [
            [
                "397fe89c.a05a98"
            ]
        ]
    },
    {
        "id": "aabb9f30.560e8",
        "type": "link out",
        "z": "b1634535.4f6908",
        "name": "HLT raw temperature",
        "links": [
            "b2ebd69c.b39d68"
        ],
        "x": 475,
        "y": 40,
        "wires": []
    },
    {
        "id": "5d14c3f9.78faac",
        "type": "ui_text",
        "z": "d55676b0.dddf38",
        "group": "5bdce100.b1b46",
        "order": 6,
        "width": 2,
        "height": 1,
        "name": "HLT PID Integrator",
        "label": "Integral",
        "format": "{{integrator | number:1}}°C⦁s",
        "layout": "col-center",
        "x": 410,
        "y": 360,
        "wires": []
    },
    {
        "id": "188bdfdf.3165c",
        "type": "ui_text",
        "z": "d55676b0.dddf38",
        "group": "5bdce100.b1b46",
        "order": 4,
        "width": 2,
        "height": 1,
        "name": "HLT PID Error",
        "label": "Error",
        "format": "{{last_error | number:1}}°C",
        "layout": "col-center",
        "x": 400,
        "y": 320,
        "wires": []
    },
    {
        "id": "9eb441b6.b84a7",
        "type": "ui_text",
        "z": "d55676b0.dddf38",
        "group": "5bdce100.b1b46",
        "order": 8,
        "width": 2,
        "height": 1,
        "name": "HLT PID Derivative",
        "label": "Derivative",
        "format": "{{derivative | number:1}}°C/s",
        "layout": "col-center",
        "x": 410,
        "y": 400,
        "wires": []
    },
    {
        "id": "f97c86fe.8d3ac8",
        "type": "link in",
        "z": "d55676b0.dddf38",
        "name": "HLT PID display",
        "links": [
            "12aee65c.b7589a"
        ],
        "x": 215,
        "y": 360,
        "wires": [
            [
                "5d14c3f9.78faac",
                "9eb441b6.b84a7",
                "188bdfdf.3165c"
            ]
        ]
    },
    {
        "id": "64296408.5ef7bc",
        "type": "rpi-gpio out",
        "z": "d27bb3af.67797",
        "name": "HLT GPIO",
        "pin": "36",
        "set": false,
        "level": "0",
        "freq": "1",
        "out": "pwm",
        "x": 500,
        "y": 60,
        "wires": []
    },
    {
        "id": "36ae1958.c0bc16",
        "type": "link in",
        "z": "d27bb3af.67797",
        "name": "HLT GPIO",
        "links": [
            "223c352a.a9bf1a",
            "9789724e.0d54d"
        ],
        "x": 195,
        "y": 100,
        "wires": [
            [
                "64296408.5ef7bc",
                "ff2d40d6.ee5bf"
            ]
        ]
    },
    {
        "id": "ca76f532.18cb58",
        "type": "ui_text",
        "z": "6d4aa149.e93b9",
        "group": "4a8e3f4b.cad74",
        "order": 1,
        "width": 6,
        "height": 1,
        "name": "HLT Raw temperature",
        "label": "Raw",
        "format": "{{msg.payload | number:1}}°C",
        "layout": "col-center",
        "x": 380,
        "y": 100,
        "wires": []
    },
    {
        "id": "b2ebd69c.b39d68",
        "type": "link in",
        "z": "6d4aa149.e93b9",
        "name": "HLT raw temperature input",
        "links": [
            "aabb9f30.560e8"
        ],
        "x": 175,
        "y": 100,
        "wires": [
            [
                "ca76f532.18cb58"
            ]
        ]
    },
    {
        "id": "c520737b.b5b8f",
        "type": "link in",
        "z": "6d4aa149.e93b9",
        "name": "HLT calibrated temperature input",
        "links": [
            "b6d06129.1aaff"
        ],
        "x": 175,
        "y": 160,
        "wires": [
            [
                "22ed34ab.2a67fc"
            ]
        ]
    },
    {
        "id": "22ed34ab.2a67fc",
        "type": "ui_text",
        "z": "6d4aa149.e93b9",
        "group": "4a8e3f4b.cad74",
        "order": 2,
        "width": 6,
        "height": 1,
        "name": "HLT Calibrated temperature",
        "label": "Calibrated",
        "format": "{{msg.payload | number:1}}°C",
        "layout": "col-center",
        "x": 400,
        "y": 160,
        "wires": []
    },
    {
        "id": "46b75b43.ae2794",
        "type": "ui_numeric",
        "z": "6d4aa149.e93b9",
        "name": "HLT Raw High",
        "label": "Raw high",
        "tooltip": "",
        "group": "4a8e3f4b.cad74",
        "order": 4,
        "width": 6,
        "height": 1,
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value}}°C",
        "min": 0,
        "max": "100",
        "step": "0.05",
        "x": 830,
        "y": 40,
        "wires": [
            [
                "f4828914.a1fa28"
            ]
        ]
    },
    {
        "id": "4f248657.ae9278",
        "type": "inject",
        "z": "6d4aa149.e93b9",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "98",
        "payloadType": "num",
        "x": 630,
        "y": 80,
        "wires": [
            [
                "46b75b43.ae2794",
                "f4828914.a1fa28"
            ]
        ]
    },
    {
        "id": "31ed0e71.cbc262",
        "type": "ui_numeric",
        "z": "6d4aa149.e93b9",
        "name": "HLT Raw Low",
        "label": "Raw low",
        "tooltip": "",
        "group": "4a8e3f4b.cad74",
        "order": 3,
        "width": 6,
        "height": 1,
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value}}°C",
        "min": 0,
        "max": "100",
        "step": "0.05",
        "x": 820,
        "y": 120,
        "wires": [
            [
                "3f25bc9b.fdaf24"
            ]
        ]
    },
    {
        "id": "f4828914.a1fa28",
        "type": "change",
        "z": "6d4aa149.e93b9",
        "name": "set global.HLT-raw-high",
        "rules": [
            {
                "t": "set",
                "p": "HLT-raw-high",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1060,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "86396687.26cd68",
        "type": "inject",
        "z": "6d4aa149.e93b9",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "0.0",
        "payloadType": "num",
        "x": 630,
        "y": 160,
        "wires": [
            [
                "31ed0e71.cbc262",
                "3f25bc9b.fdaf24"
            ]
        ]
    },
    {
        "id": "3f25bc9b.fdaf24",
        "type": "change",
        "z": "6d4aa149.e93b9",
        "name": "set global.HLT-raw-low",
        "rules": [
            {
                "t": "set",
                "p": "HLT-raw-low",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1060,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "3367ff15.c38b1",
        "type": "link in",
        "z": "c359f27b.fd6e3",
        "name": "MLT bolt",
        "links": [
            "e7dff68b.90fd08",
            "dfead430.233f78"
        ],
        "x": 195,
        "y": 160,
        "wires": [
            [
                "94f34131.cd15e"
            ]
        ]
    },
    {
        "id": "94f34131.cd15e",
        "type": "change",
        "z": "c359f27b.fd6e3",
        "name": "Bolt updates",
        "rules": [
            {
                "t": "set",
                "p": "mlt_on",
                "pt": "msg",
                "to": "mlt_on",
                "tot": "global"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 370,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "87eb4a41.7763c8",
        "type": "link in",
        "z": "c359f27b.fd6e3",
        "name": "HLT bolt",
        "links": [
            "2604a4ae.1f8fec",
            "caea86d3.7d1a28"
        ],
        "x": 195,
        "y": 220,
        "wires": [
            [
                "d942bf94.dc37d"
            ]
        ]
    },
    {
        "id": "d942bf94.dc37d",
        "type": "change",
        "z": "c359f27b.fd6e3",
        "name": "Bolt updates",
        "rules": [
            {
                "t": "set",
                "p": "hlt_on",
                "pt": "msg",
                "to": "hlt_on",
                "tot": "global"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 370,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "d8e8be85.8b836",
        "type": "rpi-gpio out",
        "z": "faf8fffb.af798",
        "name": "Pump GPIO",
        "pin": "33",
        "set": true,
        "level": "0",
        "freq": "1",
        "out": "out",
        "x": 650,
        "y": 740,
        "wires": []
    },
    {
        "id": "89ff1424.953b88",
        "type": "change",
        "z": "faf8fffb.af798",
        "name": "pump - off colour",
        "rules": [
            {
                "t": "set",
                "p": "colour",
                "pt": "msg",
                "to": "grey",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 440,
        "wires": [
            [
                "83d700fd.ccf7b"
            ]
        ]
    },
    {
        "id": "ae2d09fe.c6ead8",
        "type": "change",
        "z": "faf8fffb.af798",
        "name": "pump - on colour",
        "rules": [
            {
                "t": "set",
                "p": "colour",
                "pt": "msg",
                "to": "gold",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 400,
        "wires": [
            [
                "83d700fd.ccf7b"
            ]
        ]
    },
    {
        "id": "f9e13fbc.6c82",
        "type": "switch",
        "z": "faf8fffb.af798",
        "name": "Pump state",
        "property": "hlt_pump",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 430,
        "y": 420,
        "wires": [
            [
                "ae2d09fe.c6ead8"
            ],
            [
                "89ff1424.953b88"
            ]
        ]
    },
    {
        "id": "49e26a7.9fd8494",
        "type": "delay",
        "z": "faf8fffb.af798",
        "d": true,
        "name": "delay",
        "pauseType": "delay",
        "timeout": "0.2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 370,
        "y": 380,
        "wires": [
            [
                "f9e13fbc.6c82"
            ]
        ]
    },
    {
        "id": "83d700fd.ccf7b",
        "type": "link out",
        "z": "faf8fffb.af798",
        "name": "Pump button colour",
        "links": [
            "828d644d.35ac88"
        ],
        "x": 775,
        "y": 420,
        "wires": []
    },
    {
        "id": "a3d4ee49.97423",
        "type": "link in",
        "z": "faf8fffb.af798",
        "name": "Pump update",
        "links": [
            "2e4dd3a9.02091c"
        ],
        "x": 255,
        "y": 380,
        "wires": [
            [
                "49e26a7.9fd8494",
                "f9e13fbc.6c82"
            ]
        ]
    },
    {
        "id": "41d228c4.61da88",
        "type": "inject",
        "z": "faf8fffb.af798",
        "name": "",
        "props": [
            {
                "p": "payload",
                "v": "0",
                "vt": "num"
            },
            {
                "p": "topic",
                "v": "",
                "vt": "string"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "0",
        "payloadType": "num",
        "x": 210,
        "y": 40,
        "wires": [
            [
                "77d581b0.245cc",
                "1fe3acca.155c93",
                "212b232f.55130c"
            ]
        ]
    },
    {
        "id": "703d8925.063fe8",
        "type": "change",
        "z": "faf8fffb.af798",
        "name": "Pump update",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "hlt_pump",
                "tot": "global"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 460,
        "y": 740,
        "wires": [
            [
                "d8e8be85.8b836"
            ]
        ]
    },
    {
        "id": "d4eca3ca.3148e",
        "type": "ui_button",
        "z": "faf8fffb.af798",
        "name": "",
        "group": "6f025f7e.49cd3",
        "order": 9,
        "width": 6,
        "height": 1,
        "passthru": false,
        "label": "HLT Pump",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{colour}}",
        "icon": "",
        "payload": "true",
        "payloadType": "bool",
        "topic": "",
        "x": 230,
        "y": 120,
        "wires": [
            [
                "6b71615a.c5ebd"
            ]
        ]
    },
    {
        "id": "828d644d.35ac88",
        "type": "link in",
        "z": "faf8fffb.af798",
        "name": "Pump button colour",
        "links": [
            "83d700fd.ccf7b"
        ],
        "x": 115,
        "y": 120,
        "wires": [
            [
                "d4eca3ca.3148e"
            ]
        ]
    },
    {
        "id": "981ba39d.5c827",
        "type": "ui_ui_control",
        "z": "faf8fffb.af798",
        "name": "Dashboard connection",
        "x": 220,
        "y": 420,
        "wires": [
            [
                "f9e13fbc.6c82"
            ]
        ]
    },
    {
        "id": "6b71615a.c5ebd",
        "type": "switch",
        "z": "faf8fffb.af798",
        "name": "Pump state",
        "property": "hlt_pump",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 450,
        "y": 120,
        "wires": [
            [
                "8e561b22.bb8028"
            ],
            [
                "74039f00.5b686"
            ]
        ]
    },
    {
        "id": "74039f00.5b686",
        "type": "change",
        "z": "faf8fffb.af798",
        "name": "Turn off",
        "rules": [
            {
                "t": "set",
                "p": "hlt_pump",
                "pt": "global",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 660,
        "y": 140,
        "wires": [
            [
                "2e4dd3a9.02091c"
            ]
        ]
    },
    {
        "id": "8e561b22.bb8028",
        "type": "change",
        "z": "faf8fffb.af798",
        "name": "Turn on",
        "rules": [
            {
                "t": "set",
                "p": "hlt_pump",
                "pt": "global",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 660,
        "y": 100,
        "wires": [
            [
                "2e4dd3a9.02091c"
            ]
        ]
    },
    {
        "id": "2e4dd3a9.02091c",
        "type": "link out",
        "z": "faf8fffb.af798",
        "name": "Pump update",
        "links": [
            "a3d4ee49.97423",
            "cb2d8925.a0c258"
        ],
        "x": 775,
        "y": 120,
        "wires": []
    },
    {
        "id": "77d581b0.245cc",
        "type": "change",
        "z": "faf8fffb.af798",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "hlt_pump",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 390,
        "y": 60,
        "wires": [
            []
        ]
    },
    {
        "id": "cb2d8925.a0c258",
        "type": "link in",
        "z": "faf8fffb.af798",
        "name": "Pump update",
        "links": [
            "2e4dd3a9.02091c"
        ],
        "x": 315,
        "y": 740,
        "wires": [
            [
                "703d8925.063fe8"
            ]
        ]
    },
    {
        "id": "a6053836.54d8a8",
        "type": "ui_button",
        "z": "faf8fffb.af798",
        "name": "",
        "group": "af73f68d.436728",
        "order": 9,
        "width": 6,
        "height": 1,
        "passthru": false,
        "label": "MLT Pump",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{colour}}",
        "icon": "",
        "payload": "true",
        "payloadType": "bool",
        "topic": "",
        "x": 230,
        "y": 200,
        "wires": [
            [
                "2d27f932.c56a26"
            ]
        ]
    },
    {
        "id": "13dbd2fe.d2cecd",
        "type": "link in",
        "z": "faf8fffb.af798",
        "name": "Pump button colour",
        "links": [
            "bc43a2bd.dd218"
        ],
        "x": 115,
        "y": 200,
        "wires": [
            [
                "a6053836.54d8a8"
            ]
        ]
    },
    {
        "id": "2d27f932.c56a26",
        "type": "switch",
        "z": "faf8fffb.af798",
        "name": "Pump state",
        "property": "mlt_pump",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 450,
        "y": 200,
        "wires": [
            [
                "fb1e945d.e55db8"
            ],
            [
                "f8c9398c.715128"
            ]
        ]
    },
    {
        "id": "f8c9398c.715128",
        "type": "change",
        "z": "faf8fffb.af798",
        "name": "Turn off",
        "rules": [
            {
                "t": "set",
                "p": "mlt_pump",
                "pt": "global",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 660,
        "y": 220,
        "wires": [
            [
                "59254cb6.8c9c14"
            ]
        ]
    },
    {
        "id": "fb1e945d.e55db8",
        "type": "change",
        "z": "faf8fffb.af798",
        "name": "Turn on",
        "rules": [
            {
                "t": "set",
                "p": "mlt_pump",
                "pt": "global",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 660,
        "y": 180,
        "wires": [
            [
                "59254cb6.8c9c14"
            ]
        ]
    },
    {
        "id": "59254cb6.8c9c14",
        "type": "link out",
        "z": "faf8fffb.af798",
        "name": "Pump update",
        "links": [
            "1d3fe2a0.3238cd",
            "58841453.7ef81c"
        ],
        "x": 775,
        "y": 200,
        "wires": []
    },
    {
        "id": "a592c60f.ad0d08",
        "type": "ui_button",
        "z": "faf8fffb.af798",
        "name": "",
        "group": "28cab5d7.f6e5fa",
        "order": 9,
        "width": 6,
        "height": 1,
        "passthru": false,
        "label": "BK Pump",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{colour}}",
        "icon": "",
        "payload": "true",
        "payloadType": "bool",
        "topic": "",
        "x": 220,
        "y": 280,
        "wires": [
            [
                "3a0cf599.1ce69a"
            ]
        ]
    },
    {
        "id": "53b5315e.b1d5f",
        "type": "link in",
        "z": "faf8fffb.af798",
        "name": "Pump button colour",
        "links": [
            "80705ea2.7558"
        ],
        "x": 115,
        "y": 280,
        "wires": [
            [
                "a592c60f.ad0d08"
            ]
        ]
    },
    {
        "id": "3a0cf599.1ce69a",
        "type": "switch",
        "z": "faf8fffb.af798",
        "name": "Pump state",
        "property": "bk_pump",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 450,
        "y": 280,
        "wires": [
            [
                "70c4ddb4.6411f4"
            ],
            [
                "932217f5.a4ada8"
            ]
        ]
    },
    {
        "id": "932217f5.a4ada8",
        "type": "change",
        "z": "faf8fffb.af798",
        "name": "Turn off",
        "rules": [
            {
                "t": "set",
                "p": "bk_pump",
                "pt": "global",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 660,
        "y": 300,
        "wires": [
            [
                "9bff86f0.967b28"
            ]
        ]
    },
    {
        "id": "70c4ddb4.6411f4",
        "type": "change",
        "z": "faf8fffb.af798",
        "name": "Turn on",
        "rules": [
            {
                "t": "set",
                "p": "bk_pump",
                "pt": "global",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 660,
        "y": 260,
        "wires": [
            [
                "9bff86f0.967b28"
            ]
        ]
    },
    {
        "id": "9bff86f0.967b28",
        "type": "link out",
        "z": "faf8fffb.af798",
        "name": "Pump update",
        "links": [
            "91efe7db.47c3e8",
            "d28afa89.794048"
        ],
        "x": 775,
        "y": 280,
        "wires": []
    },
    {
        "id": "f3f4f631.abbc98",
        "type": "rpi-gpio out",
        "z": "faf8fffb.af798",
        "name": "Pump GPIO",
        "pin": "31",
        "set": true,
        "level": "0",
        "freq": "1",
        "out": "out",
        "x": 650,
        "y": 800,
        "wires": []
    },
    {
        "id": "a16c8193.2e1e5",
        "type": "change",
        "z": "faf8fffb.af798",
        "name": "Pump update",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "mlt_pump",
                "tot": "global"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 460,
        "y": 800,
        "wires": [
            [
                "f3f4f631.abbc98"
            ]
        ]
    },
    {
        "id": "1d3fe2a0.3238cd",
        "type": "link in",
        "z": "faf8fffb.af798",
        "name": "Pump update",
        "links": [
            "59254cb6.8c9c14"
        ],
        "x": 315,
        "y": 800,
        "wires": [
            [
                "a16c8193.2e1e5"
            ]
        ]
    },
    {
        "id": "f7177096.9183f",
        "type": "rpi-gpio out",
        "z": "faf8fffb.af798",
        "name": "Pump GPIO",
        "pin": "29",
        "set": true,
        "level": "0",
        "freq": "1",
        "out": "out",
        "x": 650,
        "y": 860,
        "wires": []
    },
    {
        "id": "8b9470c3.ed9b5",
        "type": "change",
        "z": "faf8fffb.af798",
        "name": "Pump update",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "bk_pump",
                "tot": "global"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 460,
        "y": 860,
        "wires": [
            [
                "f7177096.9183f"
            ]
        ]
    },
    {
        "id": "91efe7db.47c3e8",
        "type": "link in",
        "z": "faf8fffb.af798",
        "name": "Pump update",
        "links": [
            "9bff86f0.967b28"
        ],
        "x": 315,
        "y": 860,
        "wires": [
            [
                "8b9470c3.ed9b5"
            ]
        ]
    },
    {
        "id": "62bce8f2.2c28f8",
        "type": "change",
        "z": "faf8fffb.af798",
        "name": "pump - off colour",
        "rules": [
            {
                "t": "set",
                "p": "colour",
                "pt": "msg",
                "to": "grey",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 540,
        "wires": [
            [
                "bc43a2bd.dd218"
            ]
        ]
    },
    {
        "id": "f7eb6609.7835b8",
        "type": "change",
        "z": "faf8fffb.af798",
        "name": "pump - on colour",
        "rules": [
            {
                "t": "set",
                "p": "colour",
                "pt": "msg",
                "to": "gold",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 500,
        "wires": [
            [
                "bc43a2bd.dd218"
            ]
        ]
    },
    {
        "id": "2f235175.ba06de",
        "type": "switch",
        "z": "faf8fffb.af798",
        "name": "Pump state",
        "property": "mlt_pump",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 430,
        "y": 520,
        "wires": [
            [
                "f7eb6609.7835b8"
            ],
            [
                "62bce8f2.2c28f8"
            ]
        ]
    },
    {
        "id": "cdac302a.fb2a4",
        "type": "delay",
        "z": "faf8fffb.af798",
        "d": true,
        "name": "delay",
        "pauseType": "delay",
        "timeout": "0.2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 370,
        "y": 480,
        "wires": [
            [
                "2f235175.ba06de"
            ]
        ]
    },
    {
        "id": "bc43a2bd.dd218",
        "type": "link out",
        "z": "faf8fffb.af798",
        "name": "Pump button colour",
        "links": [
            "13dbd2fe.d2cecd"
        ],
        "x": 775,
        "y": 520,
        "wires": []
    },
    {
        "id": "58841453.7ef81c",
        "type": "link in",
        "z": "faf8fffb.af798",
        "name": "Pump update",
        "links": [
            "59254cb6.8c9c14"
        ],
        "x": 255,
        "y": 480,
        "wires": [
            [
                "cdac302a.fb2a4",
                "2f235175.ba06de"
            ]
        ]
    },
    {
        "id": "f80a6c39.a346d",
        "type": "ui_ui_control",
        "z": "faf8fffb.af798",
        "name": "Dashboard connection",
        "x": 220,
        "y": 520,
        "wires": [
            [
                "2f235175.ba06de"
            ]
        ]
    },
    {
        "id": "7e47b7be.14f798",
        "type": "change",
        "z": "faf8fffb.af798",
        "name": "pump - off colour",
        "rules": [
            {
                "t": "set",
                "p": "colour",
                "pt": "msg",
                "to": "grey",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 620,
        "wires": [
            [
                "80705ea2.7558"
            ]
        ]
    },
    {
        "id": "8fea3613.bf7318",
        "type": "change",
        "z": "faf8fffb.af798",
        "name": "pump - on colour",
        "rules": [
            {
                "t": "set",
                "p": "colour",
                "pt": "msg",
                "to": "gold",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 580,
        "wires": [
            [
                "80705ea2.7558"
            ]
        ]
    },
    {
        "id": "c6d5d86f.296c88",
        "type": "switch",
        "z": "faf8fffb.af798",
        "name": "Pump state",
        "property": "bk_pump",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 430,
        "y": 600,
        "wires": [
            [
                "8fea3613.bf7318"
            ],
            [
                "7e47b7be.14f798"
            ]
        ]
    },
    {
        "id": "165f0abf.ab21c5",
        "type": "delay",
        "z": "faf8fffb.af798",
        "d": true,
        "name": "delay",
        "pauseType": "delay",
        "timeout": "0.2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 370,
        "y": 560,
        "wires": [
            [
                "c6d5d86f.296c88"
            ]
        ]
    },
    {
        "id": "80705ea2.7558",
        "type": "link out",
        "z": "faf8fffb.af798",
        "name": "Pump button colour",
        "links": [
            "53b5315e.b1d5f"
        ],
        "x": 775,
        "y": 600,
        "wires": []
    },
    {
        "id": "d28afa89.794048",
        "type": "link in",
        "z": "faf8fffb.af798",
        "name": "Pump update",
        "links": [
            "9bff86f0.967b28"
        ],
        "x": 255,
        "y": 560,
        "wires": [
            [
                "165f0abf.ab21c5",
                "c6d5d86f.296c88"
            ]
        ]
    },
    {
        "id": "a9f3cbf6.689958",
        "type": "ui_ui_control",
        "z": "faf8fffb.af798",
        "name": "Dashboard connection",
        "x": 220,
        "y": 600,
        "wires": [
            [
                "c6d5d86f.296c88"
            ]
        ]
    },
    {
        "id": "1fe3acca.155c93",
        "type": "change",
        "z": "faf8fffb.af798",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "mlt_pump",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 580,
        "y": 20,
        "wires": [
            []
        ]
    },
    {
        "id": "212b232f.55130c",
        "type": "change",
        "z": "faf8fffb.af798",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "bk_pump",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 820,
        "y": 40,
        "wires": [
            []
        ]
    },
    {
        "id": "bea1a901.13d168",
        "type": "ui_gauge",
        "z": "b1634535.4f6908",
        "name": "HLT Actual Temp",
        "group": "6f025f7e.49cd3",
        "order": 2,
        "width": 3,
        "height": 2,
        "gtype": "gage",
        "title": "",
        "label": "Actual Temp",
        "format": "{{value}}c",
        "min": 0,
        "max": "101",
        "colors": [
            "#ffd700",
            "#ffd700",
            "#ffd700"
        ],
        "seg1": "50",
        "seg2": "78",
        "x": 990,
        "y": 180,
        "wires": []
    },
    {
        "id": "2afa676b.b64ae8",
        "type": "ui_gauge",
        "z": "5975e44b.d697ac",
        "name": "HLT Target temp",
        "group": "6f025f7e.49cd3",
        "order": 3,
        "width": 3,
        "height": 2,
        "gtype": "gage",
        "title": "",
        "label": "Target Temp",
        "format": "{{value}}c",
        "min": 0,
        "max": "100",
        "colors": [
            "#00b500",
            "#00b500",
            "#ca3838"
        ],
        "seg1": "50",
        "seg2": "78",
        "x": 500,
        "y": 360,
        "wires": []
    },
    {
        "id": "ff2d40d6.ee5bf",
        "type": "ui_gauge",
        "z": "d27bb3af.67797",
        "name": "HLT Duty Gauge",
        "group": "6f025f7e.49cd3",
        "order": 1,
        "width": 6,
        "height": 3,
        "gtype": "gage",
        "title": "",
        "label": "Power",
        "format": "{{value}}%",
        "min": 0,
        "max": "100",
        "colors": [
            "#ffd700",
            "#ffd700",
            "#ffd700"
        ],
        "seg1": "40",
        "seg2": "75",
        "x": 520,
        "y": 120,
        "wires": []
    },
    {
        "id": "7a3ad960.60ed88",
        "type": "inject",
        "z": "d0b13d4e.c9901",
        "name": "Default Element Duty",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "0.1",
        "topic": "",
        "payload": "100",
        "payloadType": "num",
        "x": 140,
        "y": 200,
        "wires": [
            [
                "219ad4c3.d6746c",
                "64a53337.24b75c"
            ]
        ]
    },
    {
        "id": "427f978f.8e1988",
        "type": "change",
        "z": "d0b13d4e.c9901",
        "name": "bk_lock=true",
        "rules": [
            {
                "t": "set",
                "p": "bk_lock",
                "pt": "global",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 990,
        "y": 1520,
        "wires": [
            []
        ]
    },
    {
        "id": "40dc079.8d176f8",
        "type": "change",
        "z": "d0b13d4e.c9901",
        "name": "bk_on = bk_try",
        "rules": [
            {
                "t": "set",
                "p": "bk_on",
                "pt": "global",
                "to": "bk_try",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "bk_try",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 660,
        "y": 1540,
        "wires": [
            [
                "ed46e156.7be45",
                "71a21889.31f8b8"
            ]
        ]
    },
    {
        "id": "ed46e156.7be45",
        "type": "switch",
        "z": "d0b13d4e.c9901",
        "name": "bk_on",
        "property": "bk_on",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 830,
        "y": 1540,
        "wires": [
            [
                "427f978f.8e1988"
            ],
            [
                "d8441c6.9a39ee"
            ]
        ]
    },
    {
        "id": "a59f629a.02cef",
        "type": "switch",
        "z": "d0b13d4e.c9901",
        "name": "Check rims_lock",
        "property": "rims_lock",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 270,
        "y": 1500,
        "wires": [
            [
                "5d582296.33a80c"
            ],
            [
                "66f7b8a3.be64c8"
            ]
        ]
    },
    {
        "id": "b20fcbf5.fac928",
        "type": "ui_toast",
        "z": "d0b13d4e.c9901",
        "position": "top right",
        "displayTime": "5",
        "highlight": "",
        "outputs": 0,
        "ok": "OK",
        "cancel": "",
        "topic": "",
        "name": "",
        "x": 550,
        "y": 1360,
        "wires": []
    },
    {
        "id": "5d582296.33a80c",
        "type": "change",
        "z": "d0b13d4e.c9901",
        "name": "Element lock message",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Can not access boil kettle element controls while RIMS element is active",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 520,
        "y": 1400,
        "wires": [
            [
                "b20fcbf5.fac928"
            ]
        ]
    },
    {
        "id": "d8441c6.9a39ee",
        "type": "delay",
        "z": "d0b13d4e.c9901",
        "name": "",
        "pauseType": "delay",
        "timeout": "3",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 980,
        "y": 1560,
        "wires": [
            [
                "fe5b135d.1055b"
            ]
        ]
    },
    {
        "id": "fe5b135d.1055b",
        "type": "change",
        "z": "d0b13d4e.c9901",
        "name": "bk_lock = false",
        "rules": [
            {
                "t": "set",
                "p": "bk_lock",
                "pt": "global",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1040,
        "y": 1600,
        "wires": [
            [
                "cba8dc71.24459"
            ]
        ]
    },
    {
        "id": "cba8dc71.24459",
        "type": "link out",
        "z": "d0b13d4e.c9901",
        "name": "BK Bolt update",
        "links": [
            "bd035fcf.d9bca"
        ],
        "x": 1115,
        "y": 1500,
        "wires": []
    },
    {
        "id": "71a21889.31f8b8",
        "type": "link out",
        "z": "d0b13d4e.c9901",
        "name": "BK Bolt update",
        "links": [
            "bd035fcf.d9bca"
        ],
        "x": 895,
        "y": 1480,
        "wires": []
    },
    {
        "id": "c43718fc.b6cb18",
        "type": "ui_numeric",
        "z": "d0b13d4e.c9901",
        "name": "",
        "label": "K𝗉",
        "tooltip": "",
        "group": "d2aa40aa.53d6",
        "order": 6,
        "width": "4",
        "height": "1",
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value | number:1}}",
        "min": 0,
        "max": "99.8",
        "step": "0.2",
        "x": 130,
        "y": 520,
        "wires": [
            [
                "34393d58.b8a322"
            ]
        ]
    },
    {
        "id": "ab45563d.f4d408",
        "type": "ui_numeric",
        "z": "d0b13d4e.c9901",
        "name": "",
        "label": "K𝗂",
        "tooltip": "",
        "group": "d2aa40aa.53d6",
        "order": 7,
        "width": "4",
        "height": "1",
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value | number:1}}",
        "min": 0,
        "max": "100",
        "step": "0.2",
        "x": 130,
        "y": 620,
        "wires": [
            [
                "73c460e7.7a6a4"
            ]
        ]
    },
    {
        "id": "348a4ab8.bbdd76",
        "type": "ui_numeric",
        "z": "d0b13d4e.c9901",
        "name": "",
        "label": "K𝖽",
        "tooltip": "",
        "group": "d2aa40aa.53d6",
        "order": 8,
        "width": "4",
        "height": "1",
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value | number:1}}",
        "min": 0,
        "max": "100",
        "step": "0.2",
        "x": 130,
        "y": 720,
        "wires": [
            [
                "bb15dffa.162d7"
            ]
        ]
    },
    {
        "id": "34393d58.b8a322",
        "type": "change",
        "z": "d0b13d4e.c9901",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "p",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 300,
        "y": 520,
        "wires": [
            []
        ]
    },
    {
        "id": "73c460e7.7a6a4",
        "type": "change",
        "z": "d0b13d4e.c9901",
        "name": "set flow.i",
        "rules": [
            {
                "t": "set",
                "p": "i",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 300,
        "y": 620,
        "wires": [
            []
        ]
    },
    {
        "id": "bb15dffa.162d7",
        "type": "change",
        "z": "d0b13d4e.c9901",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "d",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 300,
        "y": 720,
        "wires": [
            []
        ]
    },
    {
        "id": "c55c801b.555a",
        "type": "inject",
        "z": "d0b13d4e.c9901",
        "name": "Default P",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "45",
        "payloadType": "num",
        "x": 100,
        "y": 480,
        "wires": [
            [
                "c43718fc.b6cb18",
                "34393d58.b8a322"
            ]
        ]
    },
    {
        "id": "95b337d8.5efb08",
        "type": "inject",
        "z": "d0b13d4e.c9901",
        "name": "Default I",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "0.2",
        "payloadType": "num",
        "x": 100,
        "y": 580,
        "wires": [
            [
                "ab45563d.f4d408",
                "73c460e7.7a6a4"
            ]
        ]
    },
    {
        "id": "1a7f9296.059a7d",
        "type": "inject",
        "z": "d0b13d4e.c9901",
        "name": "Default D",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "90",
        "payloadType": "num",
        "x": 100,
        "y": 680,
        "wires": [
            [
                "348a4ab8.bbdd76",
                "bb15dffa.162d7"
            ]
        ]
    },
    {
        "id": "a5196256.05e88",
        "type": "inject",
        "z": "d0b13d4e.c9901",
        "name": "Default BK Target",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "70",
        "payloadType": "num",
        "x": 130,
        "y": 320,
        "wires": [
            [
                "b9804c99.4a043",
                "bcc9cf55.d4eaf",
                "ac19d2b5.1529f",
                "ef90af31.5b595"
            ]
        ]
    },
    {
        "id": "7f9d207c.e0c88",
        "type": "function",
        "z": "d0b13d4e.c9901",
        "name": "BK PID",
        "func": "// Note that the algorithm provided below assumes a 1 second iteration time\n// Justin Angevaare\n// May 2018\n\n// Set temperature\nmsg.temperature =  msg.payload;\nnode.warn('Temp: ' + msg.payload);\n// Well that node doesn't work... do manually\nmsg.interval = 2000\n\n// Calculate error\nmsg.error = flow.get('bk_target') - msg.temperature;\n\n// Set output max\nmsg.max_output = 100\n\n// Calculate proportional action\nvar pTerm = msg.error * flow.get('p');\n\n// Calculate intergral action\nvar iTerm = 0;\nif (pTerm < msg.max_output) {\n    // Calculate integrator max\n    msg.integrator_max = msg.max_output/flow.get('i');\n    \n    // Update integrator\n    // For purposes of integrator, bound error by [-1, 1]\n    msg.integrator = flow.get('integrator');\n    msg.integrator += (msg.interval/1000) * Math.max(Math.min(msg.error, 1), -1);\n    \n    // Bound total integrator by absolute maximum\n    msg.integrator = Math.max(Math.min(msg.integrator, msg.integrator_max), -msg.integrator_max);\n    \n    // Output updated integrator to flow context\n    flow.set('integrator', msg.integrator);\n    \n    iTerm = msg.integrator * flow.get('i');\n}\n\n// Calculate derivative action\nmsg.derivative = (msg.error - flow.get('last_error'))/(msg.interval/1000);\nvar dTerm = msg.derivative * flow.get('d');\n\nmsg.output = pTerm + iTerm + dTerm;\nnode.warn(pTerm + ' ' + iTerm + ' ' + dTerm);\n// Bound output by [0, max_output]\nmsg.output = Math.max(Math.min(msg.output, msg.max_output), 0);\n\n// Output updated last_error to flow context\nmsg.last_error = msg.error;\nflow.set('last_error', msg.last_error);\n\n// Set payload to element output\nmsg.payload = msg.output;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 460,
        "y": 100,
        "wires": [
            [
                "56001502.c4b62c",
                "6572ea6.d50e714"
            ]
        ]
    },
    {
        "id": "79d6ac79.5ecff4",
        "type": "switch",
        "z": "d0b13d4e.c9901",
        "name": "bk_pid switch",
        "property": "bk_pid",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 280,
        "y": 120,
        "wires": [
            [
                "7f9d207c.e0c88",
                "e6cd5547.2f9c88"
            ],
            [
                "7dc5f4f7.9f319c"
            ]
        ]
    },
    {
        "id": "7dc5f4f7.9f319c",
        "type": "change",
        "z": "d0b13d4e.c9901",
        "name": "payload = bk_manual_duty",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "bk_manual_duty",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 520,
        "y": 140,
        "wires": [
            [
                "56001502.c4b62c"
            ]
        ]
    },
    {
        "id": "6bc4eae0.439b94",
        "type": "link in",
        "z": "d0b13d4e.c9901",
        "name": "BK PID temperature input",
        "links": [
            "189619f4.f71566"
        ],
        "x": 175,
        "y": 40,
        "wires": [
            [
                "6fe96396.296f3c",
                "9b7cdfc1.725b9"
            ]
        ]
    },
    {
        "id": "bcc9cf55.d4eaf",
        "type": "change",
        "z": "d0b13d4e.c9901",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "bk_target",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 450,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "56001502.c4b62c",
        "type": "link out",
        "z": "d0b13d4e.c9901",
        "name": "PID or Manual Duty",
        "links": [
            "50083236.dde5dc",
            "6b17371b.fcc858",
            "5bad4c3c.29a0e4"
        ],
        "x": 695,
        "y": 100,
        "wires": []
    },
    {
        "id": "5160a578.00b3fc",
        "type": "change",
        "z": "d0b13d4e.c9901",
        "name": "bk_pid, bk_try = true",
        "rules": [
            {
                "t": "set",
                "p": "bk_pid",
                "pt": "global",
                "to": "true",
                "tot": "bool"
            },
            {
                "t": "set",
                "p": "bk_try",
                "pt": "flow",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 300,
        "y": 1040,
        "wires": [
            [
                "8178b107.a2405"
            ]
        ]
    },
    {
        "id": "2982825e.9ae08e",
        "type": "change",
        "z": "d0b13d4e.c9901",
        "name": "bk_pid = false, bk_try = true",
        "rules": [
            {
                "t": "set",
                "p": "bk_pid",
                "pt": "global",
                "to": "false",
                "tot": "bool"
            },
            {
                "t": "set",
                "p": "bk_try",
                "pt": "flow",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 320,
        "y": 1080,
        "wires": [
            [
                "352d1c71.cfcb74"
            ]
        ]
    },
    {
        "id": "242de4ba.7bd1ec",
        "type": "change",
        "z": "d0b13d4e.c9901",
        "name": "bk_pid, bk_try = false",
        "rules": [
            {
                "t": "set",
                "p": "bk_pid",
                "pt": "global",
                "to": "false",
                "tot": "bool"
            },
            {
                "t": "set",
                "p": "bk_try",
                "pt": "flow",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 300,
        "y": 1000,
        "wires": [
            [
                "9cce1832.748528"
            ]
        ]
    },
    {
        "id": "352d1c71.cfcb74",
        "type": "link out",
        "z": "d0b13d4e.c9901",
        "name": "BK Try Output",
        "links": [
            "90088102.80da"
        ],
        "x": 515,
        "y": 1080,
        "wires": []
    },
    {
        "id": "90088102.80da",
        "type": "link in",
        "z": "d0b13d4e.c9901",
        "name": "BK Try Input",
        "links": [
            "9cce1832.748528",
            "352d1c71.cfcb74",
            "8178b107.a2405"
        ],
        "x": 135,
        "y": 1420,
        "wires": [
            [
                "40dc079.8d176f8"
            ]
        ]
    },
    {
        "id": "6fe96396.296f3c",
        "type": "switch",
        "z": "d0b13d4e.c9901",
        "name": "bk_on",
        "property": "bk_on",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 130,
        "y": 120,
        "wires": [
            [
                "79d6ac79.5ecff4"
            ]
        ]
    },
    {
        "id": "64a53337.24b75c",
        "type": "change",
        "z": "d0b13d4e.c9901",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "bk_manual_duty",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 470,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "397bb665.364b3a",
        "type": "change",
        "z": "d0b13d4e.c9901",
        "name": "payload = 0",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 270,
        "y": 1240,
        "wires": [
            [
                "6ff7cb7.3cae834"
            ]
        ]
    },
    {
        "id": "6ff7cb7.3cae834",
        "type": "link out",
        "z": "d0b13d4e.c9901",
        "name": "Off Duty",
        "links": [
            "6b17371b.fcc858",
            "50083236.dde5dc",
            "5bad4c3c.29a0e4"
        ],
        "x": 515,
        "y": 1240,
        "wires": []
    },
    {
        "id": "7dd28a85.2eec94",
        "type": "link out",
        "z": "d0b13d4e.c9901",
        "name": "BK PID display",
        "links": [
            "c4785d2b.c68f3"
        ],
        "x": 515,
        "y": 1160,
        "wires": []
    },
    {
        "id": "29683ca5.6285f4",
        "type": "change",
        "z": "d0b13d4e.c9901",
        "name": "Zero everything",
        "rules": [
            {
                "t": "set",
                "p": "last_error",
                "pt": "msg",
                "to": "0.0",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "integrator",
                "pt": "msg",
                "to": "0.0",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "derivative",
                "pt": "msg",
                "to": "0.0",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "last_error",
                "pt": "flow",
                "to": "last_error",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "integrator",
                "pt": "flow",
                "to": "integrator",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "output",
                "pt": "msg",
                "to": "0.0",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "target",
                "pt": "msg",
                "to": "bk_target",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 280,
        "y": 1160,
        "wires": [
            [
                "7dd28a85.2eec94"
            ]
        ]
    },
    {
        "id": "6572ea6.d50e714",
        "type": "link out",
        "z": "d0b13d4e.c9901",
        "name": "BK PID display",
        "links": [
            "c4785d2b.c68f3",
            "1ec3b286.53835d"
        ],
        "x": 575,
        "y": 60,
        "wires": []
    },
    {
        "id": "4be4257.fdd14dc",
        "type": "link in",
        "z": "d0b13d4e.c9901",
        "name": "PID button",
        "links": [
            "9a5cb0a1.2d174"
        ],
        "x": 135,
        "y": 1040,
        "wires": [
            [
                "5160a578.00b3fc"
            ]
        ]
    },
    {
        "id": "8178b107.a2405",
        "type": "link out",
        "z": "d0b13d4e.c9901",
        "name": "BK Try Output",
        "links": [
            "90088102.80da"
        ],
        "x": 515,
        "y": 1040,
        "wires": []
    },
    {
        "id": "9cce1832.748528",
        "type": "link out",
        "z": "d0b13d4e.c9901",
        "name": "BK Try Output",
        "links": [
            "90088102.80da"
        ],
        "x": 515,
        "y": 1000,
        "wires": []
    },
    {
        "id": "c0c523bb.2643c",
        "type": "link in",
        "z": "d0b13d4e.c9901",
        "name": "Manual button",
        "links": [
            "80446360.5833f"
        ],
        "x": 135,
        "y": 1080,
        "wires": [
            [
                "2982825e.9ae08e"
            ]
        ]
    },
    {
        "id": "f9fbb34b.e7523",
        "type": "link in",
        "z": "d0b13d4e.c9901",
        "name": "Manual button",
        "links": [
            "80446360.5833f"
        ],
        "x": 135,
        "y": 1120,
        "wires": [
            [
                "29683ca5.6285f4"
            ]
        ]
    },
    {
        "id": "60c34cb4.9abe74",
        "type": "link in",
        "z": "d0b13d4e.c9901",
        "name": "Off button",
        "links": [
            "c34823b2.deb2a"
        ],
        "x": 135,
        "y": 1000,
        "wires": [
            [
                "242de4ba.7bd1ec"
            ]
        ]
    },
    {
        "id": "68fe23e4.24230c",
        "type": "link in",
        "z": "d0b13d4e.c9901",
        "name": "Off button",
        "links": [
            "262835a7.ad0c8a",
            "c34823b2.deb2a"
        ],
        "x": 135,
        "y": 1240,
        "wires": [
            [
                "397bb665.364b3a"
            ]
        ]
    },
    {
        "id": "3df66a6c.580c06",
        "type": "inject",
        "z": "d0b13d4e.c9901",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "0.1",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 780,
        "wires": [
            [
                "262835a7.ad0c8a"
            ]
        ]
    },
    {
        "id": "c8b7bf3b.b700b",
        "type": "link in",
        "z": "d0b13d4e.c9901",
        "name": "Off button",
        "links": [
            "262835a7.ad0c8a",
            "c34823b2.deb2a"
        ],
        "x": 135,
        "y": 1160,
        "wires": [
            [
                "29683ca5.6285f4"
            ]
        ]
    },
    {
        "id": "262835a7.ad0c8a",
        "type": "link out",
        "z": "d0b13d4e.c9901",
        "name": "Off button - initialization",
        "links": [
            "68fe23e4.24230c",
            "c674bc6.e504e4",
            "c8b7bf3b.b700b"
        ],
        "x": 275,
        "y": 780,
        "wires": []
    },
    {
        "id": "c674bc6.e504e4",
        "type": "link in",
        "z": "d0b13d4e.c9901",
        "name": "Off button - initialization",
        "links": [
            "262835a7.ad0c8a"
        ],
        "x": 135,
        "y": 960,
        "wires": [
            [
                "f966bfa6.5a43"
            ]
        ]
    },
    {
        "id": "f966bfa6.5a43",
        "type": "change",
        "z": "d0b13d4e.c9901",
        "name": "bk_lock, bk_on, bk_pid, bk_try = false",
        "rules": [
            {
                "t": "set",
                "p": "bk_lock",
                "pt": "global",
                "to": "false",
                "tot": "bool"
            },
            {
                "t": "set",
                "p": "bk_on",
                "pt": "global",
                "to": "false",
                "tot": "bool"
            },
            {
                "t": "set",
                "p": "bk_pid",
                "pt": "global",
                "to": "false",
                "tot": "bool"
            },
            {
                "t": "set",
                "p": "bk_try",
                "pt": "flow",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 350,
        "y": 960,
        "wires": [
            []
        ]
    },
    {
        "id": "b9804c99.4a043",
        "type": "ui_slider",
        "z": "d0b13d4e.c9901",
        "name": "Kettle target slider",
        "label": "Target",
        "tooltip": "",
        "group": "28cab5d7.f6e5fa",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": true,
        "outs": "end",
        "topic": "",
        "min": "20",
        "max": "100",
        "step": "1",
        "x": 170,
        "y": 360,
        "wires": [
            [
                "bcc9cf55.d4eaf",
                "ac19d2b5.1529f",
                "ef90af31.5b595"
            ]
        ]
    },
    {
        "id": "219ad4c3.d6746c",
        "type": "ui_slider",
        "z": "d0b13d4e.c9901",
        "name": "Manual duty slider",
        "label": "Manual",
        "tooltip": "",
        "group": "28cab5d7.f6e5fa",
        "order": 5,
        "width": 0,
        "height": 0,
        "passthru": true,
        "outs": "end",
        "topic": "",
        "min": "20",
        "max": "100",
        "step": "1",
        "x": 170,
        "y": 240,
        "wires": [
            [
                "64a53337.24b75c"
            ]
        ]
    },
    {
        "id": "d7e3dca0.1a2da",
        "type": "change",
        "z": "d0b13d4e.c9901",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "bk_try",
                "pt": "flow",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 480,
        "y": 1320,
        "wires": [
            []
        ]
    },
    {
        "id": "ac19d2b5.1529f",
        "type": "ui_text",
        "z": "d0b13d4e.c9901",
        "group": "d2aa40aa.53d6",
        "order": 2,
        "width": 2,
        "height": 1,
        "name": "Kettle target",
        "label": "Target",
        "format": "{{payload | number:1}}°C",
        "layout": "col-center",
        "x": 430,
        "y": 420,
        "wires": []
    },
    {
        "id": "9b7cdfc1.725b9",
        "type": "change",
        "z": "d0b13d4e.c9901",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "temp-BK",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 170,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "66f7b8a3.be64c8",
        "type": "switch",
        "z": "d0b13d4e.c9901",
        "name": "check minimum volume",
        "property": "current_volume",
        "propertyType": "global",
        "rules": [
            {
                "t": "lt",
                "v": "8",
                "vt": "num"
            },
            {
                "t": "gte",
                "v": "8",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 390,
        "y": 1560,
        "wires": [
            [
                "54cd4353.37e88c"
            ],
            []
        ]
    },
    {
        "id": "54cd4353.37e88c",
        "type": "change",
        "z": "d0b13d4e.c9901",
        "name": "Lock message",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Can not turn element on as walter level is below 8L",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 660,
        "y": 1440,
        "wires": [
            [
                "118b0048.523a7"
            ]
        ]
    },
    {
        "id": "118b0048.523a7",
        "type": "ui_toast",
        "z": "d0b13d4e.c9901",
        "position": "top right",
        "displayTime": "5",
        "highlight": "",
        "sendall": true,
        "outputs": 0,
        "ok": "OK",
        "cancel": "",
        "raw": false,
        "topic": "",
        "name": "",
        "x": 730,
        "y": 1480,
        "wires": []
    },
    {
        "id": "e6cd5547.2f9c88",
        "type": "debug",
        "z": "d0b13d4e.c9901",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 810,
        "y": 220,
        "wires": []
    },
    {
        "id": "91f8b4cd.eb3be8",
        "type": "link in",
        "z": "d0b13d4e.c9901",
        "name": "BK kettle target temp",
        "links": [],
        "x": 35,
        "y": 360,
        "wires": [
            [
                "b9804c99.4a043"
            ]
        ]
    },
    {
        "id": "ef90af31.5b595",
        "type": "ui_gauge",
        "z": "d0b13d4e.c9901",
        "name": "BK Target temp",
        "group": "28cab5d7.f6e5fa",
        "order": 3,
        "width": 3,
        "height": 2,
        "gtype": "gage",
        "title": "",
        "label": "Target Temp",
        "format": "{{value}}c",
        "min": 0,
        "max": "100",
        "colors": [
            "#00b500",
            "#00b500",
            "#ca3838"
        ],
        "seg1": "50",
        "seg2": "78",
        "x": 500,
        "y": 360,
        "wires": []
    },
    {
        "id": "25a2e2b8.6fe99e",
        "type": "ui_gauge",
        "z": "b1634535.4f6908",
        "name": "BK Actual Temp",
        "group": "28cab5d7.f6e5fa",
        "order": 2,
        "width": 3,
        "height": 2,
        "gtype": "gage",
        "title": "",
        "label": "Actual Temp",
        "format": "{{value}}c",
        "min": 0,
        "max": "101",
        "colors": [
            "#ffd700",
            "#ffd700",
            "#ffd700"
        ],
        "seg1": "50",
        "seg2": "78",
        "x": 980,
        "y": 380,
        "wires": []
    },
    {
        "id": "de9b6229.73fa1",
        "type": "ui_button",
        "z": "8e53633a.d159a",
        "name": "",
        "group": "61adaa9e.bf1b34",
        "order": 11,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Stop",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "fa-clock-o",
        "payload": "{ \"payload\": \"stop\" }",
        "payloadType": "str",
        "topic": "",
        "x": 110,
        "y": 460,
        "wires": [
            [
                "f948081b.a47378"
            ]
        ]
    },
    {
        "id": "8d5a90ed.39812",
        "type": "function",
        "z": "8e53633a.d159a",
        "name": "Sekunden zu Minuten",
        "func": "var minuten = msg.payload /60;\nmsg.payload=minuten;\n\n//msg.ui_control = {\"min\":0,\"max\":10, \"seg1\":0, \"seg2\":1}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 680,
        "y": 240,
        "wires": [
            [
                "a8a36ff7.1cc67"
            ]
        ]
    },
    {
        "id": "a8a36ff7.1cc67",
        "type": "ui_gauge",
        "z": "8e53633a.d159a",
        "name": "Countdown Timer",
        "group": "61adaa9e.bf1b34",
        "order": 2,
        "width": 6,
        "height": 3,
        "gtype": "donut",
        "title": "",
        "label": "Minutes",
        "format": "{{value | number:0}}",
        "min": 0,
        "max": "1",
        "colors": [
            "#ff2600",
            "#e6e600",
            "#00f900"
        ],
        "seg1": "",
        "seg2": "",
        "x": 670,
        "y": 300,
        "wires": []
    },
    {
        "id": "33936a2d.a17c56",
        "type": "function",
        "z": "8e53633a.d159a",
        "name": "Seconds to minutes",
        "func": "var sekunden = msg.payload * 60;\n\n// msg.ui_control = {\"min\":0,\"max\":10, \"seg1\":0, \"seg2\":1}\n\n\nmsg.payload=\"{\\\"payload\\\": \\\"on\\\", \\\"timeout\\\":\" + sekunden + \", \\\"warning\\\": 30}\"\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 300,
        "y": 100,
        "wires": [
            [
                "f948081b.a47378"
            ]
        ]
    },
    {
        "id": "4cf745b0.41247c",
        "type": "debug",
        "z": "8e53633a.d159a",
        "name": "Produksjon",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 650,
        "y": 100,
        "wires": []
    },
    {
        "id": "79da3a0e.027a14",
        "type": "ui_slider",
        "z": "8e53633a.d159a",
        "name": "",
        "label": "Start",
        "tooltip": "",
        "group": "61adaa9e.bf1b34",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "outs": "end",
        "topic": "",
        "min": "1",
        "max": "10",
        "step": 1,
        "x": 110,
        "y": 100,
        "wires": [
            [
                "33936a2d.a17c56"
            ]
        ]
    },
    {
        "id": "a10d0f28.9fc6f",
        "type": "ui_toast",
        "z": "8e53633a.d159a",
        "position": "top right",
        "displayTime": "10",
        "highlight": "#e83a2c",
        "sendall": true,
        "outputs": 0,
        "ok": "OK",
        "cancel": "",
        "raw": false,
        "topic": "",
        "name": "",
        "x": 670,
        "y": 160,
        "wires": []
    },
    {
        "id": "55e6e11b.0d8a1",
        "type": "comment",
        "z": "8e53633a.d159a",
        "name": "(c) 2020 Thomas Wenzlaff   www.wenzlaff.info",
        "info": "",
        "x": 570,
        "y": 40,
        "wires": []
    },
    {
        "id": "a1604eab.7655a",
        "type": "comment",
        "z": "8e53633a.d159a",
        "name": "Countdown Timer",
        "info": "",
        "x": 170,
        "y": 40,
        "wires": []
    },
    {
        "id": "f948081b.a47378",
        "type": "mytimeout",
        "z": "8e53633a.d159a",
        "name": "1-10 Minutes timer",
        "outtopic": "",
        "outsafe": "",
        "outwarning": "30 seconds left",
        "outunsafe": "Reset timer for next countdown",
        "warning": "",
        "timer": "",
        "debug": false,
        "ndebug": true,
        "ignoreCase": false,
        "repeat": false,
        "again": false,
        "x": 390,
        "y": 260,
        "wires": [
            [
                "a10d0f28.9fc6f",
                "11b47771.d7c3b9"
            ],
            [
                "8d5a90ed.39812"
            ]
        ]
    },
    {
        "id": "55610a1b.3d5ff4",
        "type": "ui_button",
        "z": "bdc66a52.bcf498",
        "name": "",
        "group": "af73f68d.436728",
        "order": 7,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "Manual",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{colour}}",
        "icon": "",
        "payload": "true",
        "payloadType": "bool",
        "topic": "",
        "x": 260,
        "y": 80,
        "wires": [
            [
                "b5e0d7a3.48f798"
            ]
        ]
    },
    {
        "id": "b28bc83d.92aca8",
        "type": "ui_button",
        "z": "bdc66a52.bcf498",
        "name": "",
        "group": "af73f68d.436728",
        "order": 6,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "PID",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{colour}}",
        "icon": "",
        "payload": "true",
        "payloadType": "bool",
        "topic": "",
        "x": 250,
        "y": 40,
        "wires": [
            [
                "6feae93.77a4a18"
            ]
        ]
    },
    {
        "id": "754bd0.3f7f143",
        "type": "ui_button",
        "z": "bdc66a52.bcf498",
        "name": "",
        "group": "af73f68d.436728",
        "order": 8,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "Off",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{colour}}",
        "icon": "",
        "payload": "false",
        "payloadType": "bool",
        "topic": "",
        "x": 250,
        "y": 120,
        "wires": [
            [
                "156b234d.d49c8d"
            ]
        ]
    },
    {
        "id": "ef8676bb.01d1e8",
        "type": "link in",
        "z": "bdc66a52.bcf498",
        "name": "PID button colour",
        "links": [
            "a6fce0a6.9ffe9",
            "cd8fd53.01d4928"
        ],
        "x": 135,
        "y": 40,
        "wires": [
            [
                "b28bc83d.92aca8"
            ]
        ]
    },
    {
        "id": "2da0ff85.79c96",
        "type": "link in",
        "z": "bdc66a52.bcf498",
        "name": "Manual button colour",
        "links": [
            "17f2cf5b.31c001"
        ],
        "x": 135,
        "y": 80,
        "wires": [
            [
                "55610a1b.3d5ff4"
            ]
        ]
    },
    {
        "id": "62612741.2d3d98",
        "type": "link in",
        "z": "bdc66a52.bcf498",
        "name": "Off button colour",
        "links": [
            "29edeb4a.dcaf44"
        ],
        "x": 135,
        "y": 120,
        "wires": [
            [
                "754bd0.3f7f143"
            ]
        ]
    },
    {
        "id": "6feae93.77a4a18",
        "type": "link out",
        "z": "bdc66a52.bcf498",
        "name": "PID button",
        "links": [
            "1bec2d6a.330533",
            "614f1fa1.79615",
            "60954c4e.5a0174",
            "8990054e.fb1388"
        ],
        "x": 375,
        "y": 40,
        "wires": []
    },
    {
        "id": "b5e0d7a3.48f798",
        "type": "link out",
        "z": "bdc66a52.bcf498",
        "name": "Manual button",
        "links": [
            "1bec2d6a.330533",
            "3697e5fd.c4ef3a",
            "614f1fa1.79615",
            "60954c4e.5a0174",
            "9c28d29c.3688f"
        ],
        "x": 375,
        "y": 80,
        "wires": []
    },
    {
        "id": "156b234d.d49c8d",
        "type": "link out",
        "z": "bdc66a52.bcf498",
        "name": "Off button",
        "links": [
            "1bec2d6a.330533",
            "f10e88b7.72c678",
            "614f1fa1.79615",
            "60954c4e.5a0174",
            "f1a2186c.848b88",
            "80d4e147.b1815"
        ],
        "x": 375,
        "y": 120,
        "wires": []
    },
    {
        "id": "e0b4c480.9e0b88",
        "type": "delay",
        "z": "bdc66a52.bcf498",
        "name": "delay",
        "pauseType": "delay",
        "timeout": "0.2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 250,
        "y": 280,
        "wires": [
            [
                "80f838dc.095958"
            ]
        ]
    },
    {
        "id": "a6fce0a6.9ffe9",
        "type": "link out",
        "z": "bdc66a52.bcf498",
        "name": "PID button colour",
        "links": [
            "ef8676bb.01d1e8"
        ],
        "x": 695,
        "y": 300,
        "wires": []
    },
    {
        "id": "60954c4e.5a0174",
        "type": "link in",
        "z": "bdc66a52.bcf498",
        "name": "Button click",
        "links": [
            "b5e0d7a3.48f798",
            "156b234d.d49c8d",
            "6feae93.77a4a18"
        ],
        "x": 135,
        "y": 280,
        "wires": [
            [
                "e0b4c480.9e0b88"
            ]
        ]
    },
    {
        "id": "ca67c298.4b8a",
        "type": "change",
        "z": "bdc66a52.bcf498",
        "name": "mlt off colour",
        "rules": [
            {
                "t": "set",
                "p": "colour",
                "pt": "msg",
                "to": "grey",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 570,
        "y": 420,
        "wires": [
            [
                "17f2cf5b.31c001"
            ]
        ]
    },
    {
        "id": "e0713cba.de828",
        "type": "change",
        "z": "bdc66a52.bcf498",
        "name": "mlt on colour",
        "rules": [
            {
                "t": "set",
                "p": "colour",
                "pt": "msg",
                "to": "#424242",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 570,
        "y": 380,
        "wires": [
            [
                "17f2cf5b.31c001"
            ]
        ]
    },
    {
        "id": "d1aa89f7.a71b38",
        "type": "switch",
        "z": "bdc66a52.bcf498",
        "name": "",
        "property": "mlt_on",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 290,
        "y": 420,
        "wires": [
            [
                "c4d08df0.e394c"
            ],
            [
                "ca67c298.4b8a"
            ]
        ]
    },
    {
        "id": "6b7cc2b5.e3617c",
        "type": "delay",
        "z": "bdc66a52.bcf498",
        "name": "delay",
        "pauseType": "delay",
        "timeout": "0.2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 250,
        "y": 380,
        "wires": [
            [
                "d1aa89f7.a71b38"
            ]
        ]
    },
    {
        "id": "17f2cf5b.31c001",
        "type": "link out",
        "z": "bdc66a52.bcf498",
        "name": "Manual button colour",
        "links": [
            "2da0ff85.79c96"
        ],
        "x": 675,
        "y": 400,
        "wires": []
    },
    {
        "id": "c7d53776.ee3478",
        "type": "change",
        "z": "bdc66a52.bcf498",
        "name": "mlt off colour",
        "rules": [
            {
                "t": "set",
                "p": "colour",
                "pt": "msg",
                "to": "#424242",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 430,
        "y": 540,
        "wires": [
            [
                "29edeb4a.dcaf44"
            ]
        ]
    },
    {
        "id": "a10c68e2.b6e568",
        "type": "change",
        "z": "bdc66a52.bcf498",
        "name": "mlt on colour",
        "rules": [
            {
                "t": "set",
                "p": "colour",
                "pt": "msg",
                "to": "grey",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 430,
        "y": 500,
        "wires": [
            [
                "29edeb4a.dcaf44"
            ]
        ]
    },
    {
        "id": "9987a9ff.2402a8",
        "type": "switch",
        "z": "bdc66a52.bcf498",
        "name": "",
        "property": "mlt_on",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 270,
        "y": 520,
        "wires": [
            [
                "a10c68e2.b6e568"
            ],
            [
                "c7d53776.ee3478"
            ]
        ]
    },
    {
        "id": "15694a5c.afc4f6",
        "type": "delay",
        "z": "bdc66a52.bcf498",
        "name": "delay",
        "pauseType": "delay",
        "timeout": "0.2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 250,
        "y": 480,
        "wires": [
            [
                "9987a9ff.2402a8"
            ]
        ]
    },
    {
        "id": "29edeb4a.dcaf44",
        "type": "link out",
        "z": "bdc66a52.bcf498",
        "name": "Off button colour",
        "links": [
            "62612741.2d3d98",
            "3e0efd1.4d98882",
            "c98ea849.baf91"
        ],
        "x": 535,
        "y": 520,
        "wires": []
    },
    {
        "id": "c4d08df0.e394c",
        "type": "switch",
        "z": "bdc66a52.bcf498",
        "name": "",
        "property": "mlt_pid",
        "propertyType": "global",
        "rules": [
            {
                "t": "false"
            },
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 410,
        "y": 400,
        "wires": [
            [
                "e0713cba.de828"
            ],
            [
                "ca67c298.4b8a"
            ]
        ]
    },
    {
        "id": "80f838dc.095958",
        "type": "switch",
        "z": "bdc66a52.bcf498",
        "name": "",
        "property": "mlt_on",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 290,
        "y": 320,
        "wires": [
            [
                "9f268db6.7d0ec"
            ],
            [
                "aace3261.30b73"
            ]
        ]
    },
    {
        "id": "9f268db6.7d0ec",
        "type": "switch",
        "z": "bdc66a52.bcf498",
        "name": "",
        "property": "mlt_pid",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 430,
        "y": 300,
        "wires": [
            [
                "5853035.b18fefc"
            ],
            [
                "aace3261.30b73"
            ]
        ]
    },
    {
        "id": "5853035.b18fefc",
        "type": "change",
        "z": "bdc66a52.bcf498",
        "name": "mlt on colour",
        "rules": [
            {
                "t": "set",
                "p": "colour",
                "pt": "msg",
                "to": "#424242",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 590,
        "y": 280,
        "wires": [
            [
                "a6fce0a6.9ffe9"
            ]
        ]
    },
    {
        "id": "aace3261.30b73",
        "type": "change",
        "z": "bdc66a52.bcf498",
        "name": "mlt off colour",
        "rules": [
            {
                "t": "set",
                "p": "colour",
                "pt": "msg",
                "to": "grey",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 590,
        "y": 320,
        "wires": [
            [
                "a6fce0a6.9ffe9"
            ]
        ]
    },
    {
        "id": "1bec2d6a.330533",
        "type": "link in",
        "z": "bdc66a52.bcf498",
        "name": "Button click",
        "links": [
            "b5e0d7a3.48f798",
            "156b234d.d49c8d",
            "6feae93.77a4a18",
            "11c18a22.2ff07e",
            "fd8c477a.99a1a"
        ],
        "x": 135,
        "y": 380,
        "wires": [
            [
                "6b7cc2b5.e3617c"
            ]
        ]
    },
    {
        "id": "614f1fa1.79615",
        "type": "link in",
        "z": "bdc66a52.bcf498",
        "name": "Button click",
        "links": [
            "b5e0d7a3.48f798",
            "156b234d.d49c8d",
            "6feae93.77a4a18",
            "11c18a22.2ff07e",
            "fd8c477a.99a1a"
        ],
        "x": 135,
        "y": 480,
        "wires": [
            [
                "15694a5c.afc4f6"
            ]
        ]
    },
    {
        "id": "ed06ce9.d7f663",
        "type": "link in",
        "z": "bdc66a52.bcf498",
        "name": "Button initialization",
        "links": [
            "5d1f53ac.442b6c"
        ],
        "x": 135,
        "y": 320,
        "wires": [
            [
                "80f838dc.095958"
            ]
        ]
    },
    {
        "id": "cd591345.bf567",
        "type": "link in",
        "z": "bdc66a52.bcf498",
        "name": "Button initialization",
        "links": [
            "a902d194.51df48",
            "5d1f53ac.442b6c"
        ],
        "x": 135,
        "y": 420,
        "wires": [
            [
                "d1aa89f7.a71b38"
            ]
        ]
    },
    {
        "id": "d8685e37.ea187",
        "type": "link in",
        "z": "bdc66a52.bcf498",
        "name": "Button initialization",
        "links": [
            "a902d194.51df48",
            "5d1f53ac.442b6c"
        ],
        "x": 135,
        "y": 520,
        "wires": [
            [
                "9987a9ff.2402a8"
            ]
        ]
    },
    {
        "id": "50a7ec8b.dcaeb4",
        "type": "ui_ui_control",
        "z": "bdc66a52.bcf498",
        "name": "Dashboard connection",
        "x": 220,
        "y": 200,
        "wires": [
            [
                "5d1f53ac.442b6c"
            ]
        ]
    },
    {
        "id": "5d1f53ac.442b6c",
        "type": "link out",
        "z": "bdc66a52.bcf498",
        "name": "Button initialization on connection",
        "links": [
            "ed06ce9.d7f663",
            "d8685e37.ea187",
            "cd591345.bf567"
        ],
        "x": 375,
        "y": 200,
        "wires": []
    },
    {
        "id": "a98de748.c12f58",
        "type": "inject",
        "z": "2a42b19e.b8592e",
        "name": "Default Element Duty",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "0.1",
        "topic": "",
        "payload": "100",
        "payloadType": "num",
        "x": 200,
        "y": 200,
        "wires": [
            [
                "932323d9.e73c8",
                "ead983a7.4be75"
            ]
        ]
    },
    {
        "id": "3a3aa99e.169386",
        "type": "change",
        "z": "2a42b19e.b8592e",
        "name": "mlt_lock=true",
        "rules": [
            {
                "t": "set",
                "p": "mlt_lock",
                "pt": "global",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1060,
        "y": 1520,
        "wires": [
            []
        ]
    },
    {
        "id": "53a3eb80.d63514",
        "type": "change",
        "z": "2a42b19e.b8592e",
        "name": "mlt_on = mlt_try",
        "rules": [
            {
                "t": "set",
                "p": "mlt_on",
                "pt": "global",
                "to": "mlt_try",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "mlt_try",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 720,
        "y": 1540,
        "wires": [
            [
                "d89fb162.34ef9",
                "dfead430.233f78"
            ]
        ]
    },
    {
        "id": "d89fb162.34ef9",
        "type": "switch",
        "z": "2a42b19e.b8592e",
        "name": "mlt_on",
        "property": "mlt_on",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 890,
        "y": 1540,
        "wires": [
            [
                "3a3aa99e.169386"
            ],
            [
                "82571d6b.8890f"
            ]
        ]
    },
    {
        "id": "ea05d0c2.89994",
        "type": "switch",
        "z": "2a42b19e.b8592e",
        "name": "Check rims_lock",
        "property": "rims_lock",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 330,
        "y": 1500,
        "wires": [
            [
                "8d430dbc.21d1"
            ],
            [
                "4cd5ac88.b82564"
            ]
        ]
    },
    {
        "id": "ba917f10.5b7e",
        "type": "ui_toast",
        "z": "2a42b19e.b8592e",
        "position": "top right",
        "displayTime": "5",
        "highlight": "",
        "sendall": true,
        "outputs": 0,
        "ok": "OK",
        "cancel": "",
        "raw": false,
        "topic": "",
        "name": "",
        "x": 610,
        "y": 1360,
        "wires": []
    },
    {
        "id": "8d430dbc.21d1",
        "type": "change",
        "z": "2a42b19e.b8592e",
        "name": "Element lock message",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Can not access boil kettle element controls while RIMS element is active",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 580,
        "y": 1400,
        "wires": [
            [
                "ba917f10.5b7e"
            ]
        ]
    },
    {
        "id": "82571d6b.8890f",
        "type": "delay",
        "z": "2a42b19e.b8592e",
        "name": "",
        "pauseType": "delay",
        "timeout": "3",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 1040,
        "y": 1560,
        "wires": [
            [
                "2034d45f.21516c"
            ]
        ]
    },
    {
        "id": "2034d45f.21516c",
        "type": "change",
        "z": "2a42b19e.b8592e",
        "name": "mlt_lock = false",
        "rules": [
            {
                "t": "set",
                "p": "mlt_lock",
                "pt": "global",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1100,
        "y": 1600,
        "wires": [
            [
                "e7dff68b.90fd08"
            ]
        ]
    },
    {
        "id": "e7dff68b.90fd08",
        "type": "link out",
        "z": "2a42b19e.b8592e",
        "name": "MLT Bolt update",
        "links": [
            "3367ff15.c38b1"
        ],
        "x": 1175,
        "y": 1500,
        "wires": []
    },
    {
        "id": "dfead430.233f78",
        "type": "link out",
        "z": "2a42b19e.b8592e",
        "name": "MLT Bolt update",
        "links": [
            "3367ff15.c38b1"
        ],
        "x": 955,
        "y": 1480,
        "wires": []
    },
    {
        "id": "24b4fa39.ded456",
        "type": "ui_numeric",
        "z": "2a42b19e.b8592e",
        "name": "",
        "label": "K𝗉",
        "tooltip": "",
        "group": "d4dfa142.5bce",
        "order": 5,
        "width": 4,
        "height": 1,
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value | number:1}}",
        "min": 0,
        "max": "99.8",
        "step": "0.2",
        "x": 190,
        "y": 520,
        "wires": [
            [
                "5f3b5574.23270c"
            ]
        ]
    },
    {
        "id": "acfd76af.994c88",
        "type": "ui_numeric",
        "z": "2a42b19e.b8592e",
        "name": "",
        "label": "K𝗂",
        "tooltip": "",
        "group": "d4dfa142.5bce",
        "order": 7,
        "width": 4,
        "height": 1,
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value | number:1}}",
        "min": 0,
        "max": "100",
        "step": "0.2",
        "x": 190,
        "y": 620,
        "wires": [
            [
                "b1cc934a.2f8dd"
            ]
        ]
    },
    {
        "id": "4a076185.534ad",
        "type": "ui_numeric",
        "z": "2a42b19e.b8592e",
        "name": "",
        "label": "K𝖽",
        "tooltip": "",
        "group": "d4dfa142.5bce",
        "order": 9,
        "width": 4,
        "height": 1,
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value | number:1}}",
        "min": 0,
        "max": "100",
        "step": "0.2",
        "x": 190,
        "y": 720,
        "wires": [
            [
                "d5fa2476.453008"
            ]
        ]
    },
    {
        "id": "5f3b5574.23270c",
        "type": "change",
        "z": "2a42b19e.b8592e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "p",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 360,
        "y": 520,
        "wires": [
            []
        ]
    },
    {
        "id": "b1cc934a.2f8dd",
        "type": "change",
        "z": "2a42b19e.b8592e",
        "name": "set flow.i",
        "rules": [
            {
                "t": "set",
                "p": "i",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 360,
        "y": 620,
        "wires": [
            []
        ]
    },
    {
        "id": "d5fa2476.453008",
        "type": "change",
        "z": "2a42b19e.b8592e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "d",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 360,
        "y": 720,
        "wires": [
            []
        ]
    },
    {
        "id": "85043dc2.e06d6",
        "type": "inject",
        "z": "2a42b19e.b8592e",
        "name": "Default P",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "45",
        "payloadType": "num",
        "x": 160,
        "y": 480,
        "wires": [
            [
                "24b4fa39.ded456",
                "5f3b5574.23270c"
            ]
        ]
    },
    {
        "id": "d907e114.1a9a1",
        "type": "inject",
        "z": "2a42b19e.b8592e",
        "name": "Default I",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "0.2",
        "payloadType": "num",
        "x": 160,
        "y": 580,
        "wires": [
            [
                "acfd76af.994c88",
                "b1cc934a.2f8dd"
            ]
        ]
    },
    {
        "id": "eedb1f65.c2ffe",
        "type": "inject",
        "z": "2a42b19e.b8592e",
        "name": "Default D",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "90",
        "payloadType": "num",
        "x": 160,
        "y": 680,
        "wires": [
            [
                "4a076185.534ad",
                "d5fa2476.453008"
            ]
        ]
    },
    {
        "id": "ddac93d5.03405",
        "type": "inject",
        "z": "2a42b19e.b8592e",
        "name": "Default MLT Target",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "65",
        "payloadType": "num",
        "x": 190,
        "y": 380,
        "wires": [
            [
                "9e2f1062.9f82f",
                "3ca82a3c.8fd116",
                "298d0cbf.c85ed4",
                "3ce48946.1b8536",
                "47c04454.19036c"
            ]
        ]
    },
    {
        "id": "d4acd3cf.e1e11",
        "type": "function",
        "z": "2a42b19e.b8592e",
        "name": "MLT PID",
        "func": "// Note that the algorithm provided below assumes a 1 second iteration time\n// Justin Angevaare\n// May 2018\n\n// Set temperature\nmsg.temperature =  msg.payload;\nnode.warn('Temp: ' + msg.payload);\n// Well that node doesn't work... do manually\nmsg.interval = 2000\n\n// Calculate error\nmsg.error = flow.get('mlt_target') - msg.temperature;\n\n// Set output max\nmsg.max_output = 100\n\n// Calculate proportional action\nvar pTerm = msg.error * flow.get('p');\n\n// Calculate intergral action\nvar iTerm = 0;\nif (pTerm < msg.max_output) {\n    // Calculate integrator max\n    msg.integrator_max = msg.max_output/flow.get('i');\n    \n    // Update integrator\n    // For purposes of integrator, bound error by [-1, 1]\n    msg.integrator = flow.get('integrator');\n    msg.integrator += (msg.interval/1000) * Math.max(Math.min(msg.error, 1), -1);\n    \n    // Bound total integrator by absolute maximum\n    msg.integrator = Math.max(Math.min(msg.integrator, msg.integrator_max), -msg.integrator_max);\n    \n    // Output updated integrator to flow context\n    flow.set('integrator', msg.integrator);\n    \n    iTerm = msg.integrator * flow.get('i');\n}\n\n// Calculate derivative action\nmsg.derivative = (msg.error - flow.get('last_error'))/(msg.interval/1000);\nvar dTerm = msg.derivative * flow.get('d');\n\nmsg.output = pTerm + iTerm + dTerm;\nnode.warn(pTerm + ' ' + iTerm + ' ' + dTerm);\n// Bound output by [0, max_output]\nmsg.output = Math.max(Math.min(msg.output, msg.max_output), 0);\n\n// Output updated last_error to flow context\nmsg.last_error = msg.error;\nflow.set('last_error', msg.last_error);\n\n// Set payload to element output\nmsg.payload = msg.output;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 520,
        "y": 100,
        "wires": [
            [
                "d1cf7c7f.62da6",
                "1e2a61c.a871d9e"
            ]
        ]
    },
    {
        "id": "eba485c5.5dde48",
        "type": "switch",
        "z": "2a42b19e.b8592e",
        "name": "mlt_pid switch",
        "property": "mlt_pid",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 340,
        "y": 120,
        "wires": [
            [
                "d4acd3cf.e1e11",
                "eb0b48e8.8b9558"
            ],
            [
                "f3b37399.82c0e"
            ]
        ]
    },
    {
        "id": "f3b37399.82c0e",
        "type": "change",
        "z": "2a42b19e.b8592e",
        "name": "payload = mlt_manual_duty",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "mlt_manual_duty",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 580,
        "y": 140,
        "wires": [
            [
                "d1cf7c7f.62da6"
            ]
        ]
    },
    {
        "id": "d2fd7596.022278",
        "type": "link in",
        "z": "2a42b19e.b8592e",
        "name": "MLT PID temperature input",
        "links": [
            "1e947cf9.2fd033"
        ],
        "x": 235,
        "y": 40,
        "wires": [
            [
                "7173a5eb.4d908c",
                "215ad9da.e14a46"
            ]
        ]
    },
    {
        "id": "3ca82a3c.8fd116",
        "type": "change",
        "z": "2a42b19e.b8592e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "mlt_target",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 510,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "d1cf7c7f.62da6",
        "type": "link out",
        "z": "2a42b19e.b8592e",
        "name": "PID or Manual Duty",
        "links": [
            "6b17371b.fcc858",
            "34d42ba6.9b4b64"
        ],
        "x": 755,
        "y": 100,
        "wires": []
    },
    {
        "id": "5057db.6e9dd824",
        "type": "change",
        "z": "2a42b19e.b8592e",
        "name": "mlt_pid, mlt_try = true",
        "rules": [
            {
                "t": "set",
                "p": "mlt_pid",
                "pt": "global",
                "to": "true",
                "tot": "bool"
            },
            {
                "t": "set",
                "p": "mlt_try",
                "pt": "flow",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 360,
        "y": 1040,
        "wires": [
            [
                "7b8acfe8.74c68"
            ]
        ]
    },
    {
        "id": "b241b0c8.0ba5a",
        "type": "change",
        "z": "2a42b19e.b8592e",
        "name": "mlt_pid = false, mlt_try = true",
        "rules": [
            {
                "t": "set",
                "p": "mlt_pid",
                "pt": "global",
                "to": "false",
                "tot": "bool"
            },
            {
                "t": "set",
                "p": "mlt_try",
                "pt": "flow",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 380,
        "y": 1080,
        "wires": [
            [
                "cc1d3f6a.fc466"
            ]
        ]
    },
    {
        "id": "cb3882f2.87411",
        "type": "change",
        "z": "2a42b19e.b8592e",
        "name": "mlt_pid, mlt_try = false",
        "rules": [
            {
                "t": "set",
                "p": "mlt_pid",
                "pt": "global",
                "to": "false",
                "tot": "bool"
            },
            {
                "t": "set",
                "p": "mlt_try",
                "pt": "flow",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 360,
        "y": 1000,
        "wires": [
            [
                "3a27fd91.407452"
            ]
        ]
    },
    {
        "id": "cc1d3f6a.fc466",
        "type": "link out",
        "z": "2a42b19e.b8592e",
        "name": "MLT Try Output",
        "links": [
            "48315a9e.e197e4"
        ],
        "x": 575,
        "y": 1080,
        "wires": []
    },
    {
        "id": "48315a9e.e197e4",
        "type": "link in",
        "z": "2a42b19e.b8592e",
        "name": "MLT Try Input",
        "links": [
            "7b8acfe8.74c68",
            "3a27fd91.407452",
            "cc1d3f6a.fc466"
        ],
        "x": 195,
        "y": 1420,
        "wires": [
            [
                "53a3eb80.d63514"
            ]
        ]
    },
    {
        "id": "7173a5eb.4d908c",
        "type": "switch",
        "z": "2a42b19e.b8592e",
        "name": "mlt_on",
        "property": "mlt_on",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 190,
        "y": 120,
        "wires": [
            [
                "eba485c5.5dde48"
            ]
        ]
    },
    {
        "id": "ead983a7.4be75",
        "type": "change",
        "z": "2a42b19e.b8592e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "mlt_manual_duty",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 530,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "bf49121.b2006f",
        "type": "change",
        "z": "2a42b19e.b8592e",
        "name": "payload = 0",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 330,
        "y": 1240,
        "wires": [
            [
                "f43b6e2a.37dd"
            ]
        ]
    },
    {
        "id": "f43b6e2a.37dd",
        "type": "link out",
        "z": "2a42b19e.b8592e",
        "name": "Off Duty",
        "links": [
            "6b17371b.fcc858",
            "34d42ba6.9b4b64"
        ],
        "x": 575,
        "y": 1240,
        "wires": []
    },
    {
        "id": "23076fba.6ed76",
        "type": "link out",
        "z": "2a42b19e.b8592e",
        "name": "MLT PID display",
        "links": [
            "c4785d2b.c68f3",
            "b0e38f8.d2a867"
        ],
        "x": 575,
        "y": 1160,
        "wires": []
    },
    {
        "id": "2f30e5f0.e9eefa",
        "type": "change",
        "z": "2a42b19e.b8592e",
        "name": "Zero everything",
        "rules": [
            {
                "t": "set",
                "p": "last_error",
                "pt": "msg",
                "to": "0.0",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "integrator",
                "pt": "msg",
                "to": "0.0",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "derivative",
                "pt": "msg",
                "to": "0.0",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "last_error",
                "pt": "flow",
                "to": "last_error",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "integrator",
                "pt": "flow",
                "to": "integrator",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "output",
                "pt": "msg",
                "to": "0.0",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "target",
                "pt": "msg",
                "to": "mlt_target",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 340,
        "y": 1160,
        "wires": [
            [
                "23076fba.6ed76"
            ]
        ]
    },
    {
        "id": "1e2a61c.a871d9e",
        "type": "link out",
        "z": "2a42b19e.b8592e",
        "name": "MLT PID display",
        "links": [
            "c4785d2b.c68f3",
            "b0e38f8.d2a867"
        ],
        "x": 635,
        "y": 60,
        "wires": []
    },
    {
        "id": "8990054e.fb1388",
        "type": "link in",
        "z": "2a42b19e.b8592e",
        "name": "PID button",
        "links": [
            "6feae93.77a4a18"
        ],
        "x": 195,
        "y": 1040,
        "wires": [
            [
                "5057db.6e9dd824"
            ]
        ]
    },
    {
        "id": "7b8acfe8.74c68",
        "type": "link out",
        "z": "2a42b19e.b8592e",
        "name": "MLT Try Output",
        "links": [
            "48315a9e.e197e4"
        ],
        "x": 575,
        "y": 1040,
        "wires": []
    },
    {
        "id": "3a27fd91.407452",
        "type": "link out",
        "z": "2a42b19e.b8592e",
        "name": "MLT Try Output",
        "links": [
            "48315a9e.e197e4"
        ],
        "x": 575,
        "y": 1000,
        "wires": []
    },
    {
        "id": "9c28d29c.3688f",
        "type": "link in",
        "z": "2a42b19e.b8592e",
        "name": "Manual button",
        "links": [
            "b5e0d7a3.48f798"
        ],
        "x": 195,
        "y": 1080,
        "wires": [
            [
                "b241b0c8.0ba5a"
            ]
        ]
    },
    {
        "id": "3697e5fd.c4ef3a",
        "type": "link in",
        "z": "2a42b19e.b8592e",
        "name": "Manual button",
        "links": [
            "b5e0d7a3.48f798"
        ],
        "x": 195,
        "y": 1120,
        "wires": [
            [
                "2f30e5f0.e9eefa"
            ]
        ]
    },
    {
        "id": "f10e88b7.72c678",
        "type": "link in",
        "z": "2a42b19e.b8592e",
        "name": "Off button",
        "links": [
            "156b234d.d49c8d"
        ],
        "x": 195,
        "y": 1000,
        "wires": [
            [
                "cb3882f2.87411"
            ]
        ]
    },
    {
        "id": "f1a2186c.848b88",
        "type": "link in",
        "z": "2a42b19e.b8592e",
        "name": "Off button",
        "links": [
            "6dd91880.564e28",
            "156b234d.d49c8d"
        ],
        "x": 195,
        "y": 1240,
        "wires": [
            [
                "bf49121.b2006f"
            ]
        ]
    },
    {
        "id": "d2efc3a4.b3b66",
        "type": "inject",
        "z": "2a42b19e.b8592e",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "0.1",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 170,
        "y": 780,
        "wires": [
            [
                "6dd91880.564e28"
            ]
        ]
    },
    {
        "id": "80d4e147.b1815",
        "type": "link in",
        "z": "2a42b19e.b8592e",
        "name": "Off button",
        "links": [
            "6dd91880.564e28",
            "156b234d.d49c8d"
        ],
        "x": 195,
        "y": 1160,
        "wires": [
            [
                "2f30e5f0.e9eefa"
            ]
        ]
    },
    {
        "id": "6dd91880.564e28",
        "type": "link out",
        "z": "2a42b19e.b8592e",
        "name": "Off button - initialization",
        "links": [
            "f1a2186c.848b88",
            "4e80bd47.cbe504",
            "80d4e147.b1815"
        ],
        "x": 335,
        "y": 780,
        "wires": []
    },
    {
        "id": "4e80bd47.cbe504",
        "type": "link in",
        "z": "2a42b19e.b8592e",
        "name": "Off button - initialization",
        "links": [
            "6dd91880.564e28"
        ],
        "x": 195,
        "y": 960,
        "wires": [
            [
                "e1b12385.ef7ce"
            ]
        ]
    },
    {
        "id": "e1b12385.ef7ce",
        "type": "change",
        "z": "2a42b19e.b8592e",
        "name": "mlt_lock, mlt_on, mlt_pid, mlt_try = false",
        "rules": [
            {
                "t": "set",
                "p": "mlt_lock",
                "pt": "global",
                "to": "false",
                "tot": "bool"
            },
            {
                "t": "set",
                "p": "mlt_on",
                "pt": "global",
                "to": "false",
                "tot": "bool"
            },
            {
                "t": "set",
                "p": "mlt_pid",
                "pt": "global",
                "to": "false",
                "tot": "bool"
            },
            {
                "t": "set",
                "p": "mlt_try",
                "pt": "flow",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 420,
        "y": 960,
        "wires": [
            []
        ]
    },
    {
        "id": "9e2f1062.9f82f",
        "type": "ui_slider",
        "z": "2a42b19e.b8592e",
        "name": "Kettle target slider",
        "label": "Target",
        "tooltip": "",
        "group": "af73f68d.436728",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": true,
        "outs": "end",
        "topic": "",
        "min": "20",
        "max": "100",
        "step": "1",
        "x": 230,
        "y": 420,
        "wires": [
            [
                "3ca82a3c.8fd116",
                "298d0cbf.c85ed4",
                "3ce48946.1b8536"
            ]
        ]
    },
    {
        "id": "932323d9.e73c8",
        "type": "ui_slider",
        "z": "2a42b19e.b8592e",
        "name": "Manual duty slider",
        "label": "Manual",
        "tooltip": "",
        "group": "af73f68d.436728",
        "order": 5,
        "width": 0,
        "height": 0,
        "passthru": true,
        "outs": "end",
        "topic": "",
        "min": "20",
        "max": "100",
        "step": "1",
        "x": 230,
        "y": 240,
        "wires": [
            [
                "ead983a7.4be75"
            ]
        ]
    },
    {
        "id": "e5d6e1d1.cfd2b",
        "type": "change",
        "z": "2a42b19e.b8592e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "mlt_try",
                "pt": "flow",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 540,
        "y": 1320,
        "wires": [
            []
        ]
    },
    {
        "id": "298d0cbf.c85ed4",
        "type": "ui_text",
        "z": "2a42b19e.b8592e",
        "group": "d4dfa142.5bce",
        "order": 3,
        "width": 2,
        "height": 1,
        "name": "Kettle target",
        "label": "Target",
        "format": "{{payload | number:1}}°C",
        "layout": "col-center",
        "x": 490,
        "y": 480,
        "wires": []
    },
    {
        "id": "215ad9da.e14a46",
        "type": "change",
        "z": "2a42b19e.b8592e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "temp-MLT",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 240,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "4cd5ac88.b82564",
        "type": "switch",
        "z": "2a42b19e.b8592e",
        "name": "check minimum volume",
        "property": "current_volume",
        "propertyType": "global",
        "rules": [
            {
                "t": "lt",
                "v": "8",
                "vt": "num"
            },
            {
                "t": "gte",
                "v": "8",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 450,
        "y": 1560,
        "wires": [
            [
                "3acc78af.4ba9d8"
            ],
            []
        ]
    },
    {
        "id": "3acc78af.4ba9d8",
        "type": "change",
        "z": "2a42b19e.b8592e",
        "name": "Lock message",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Can not turn element on as walter level is below 8L",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 720,
        "y": 1440,
        "wires": [
            [
                "a5fc2fa8.2584d"
            ]
        ]
    },
    {
        "id": "a5fc2fa8.2584d",
        "type": "ui_toast",
        "z": "2a42b19e.b8592e",
        "position": "top right",
        "displayTime": "5",
        "highlight": "",
        "sendall": true,
        "outputs": 0,
        "ok": "OK",
        "cancel": "",
        "raw": false,
        "topic": "",
        "name": "",
        "x": 790,
        "y": 1480,
        "wires": []
    },
    {
        "id": "eb0b48e8.8b9558",
        "type": "debug",
        "z": "2a42b19e.b8592e",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 870,
        "y": 220,
        "wires": []
    },
    {
        "id": "7543ba77.f4b134",
        "type": "link in",
        "z": "2a42b19e.b8592e",
        "name": "MLT kettle target temp",
        "links": [
            "8fd9baff.bfeb28"
        ],
        "x": 75,
        "y": 420,
        "wires": [
            [
                "9e2f1062.9f82f"
            ]
        ]
    },
    {
        "id": "3ce48946.1b8536",
        "type": "ui_gauge",
        "z": "2a42b19e.b8592e",
        "name": "MLT target temp",
        "group": "af73f68d.436728",
        "order": 3,
        "width": 3,
        "height": 2,
        "gtype": "gage",
        "title": "",
        "label": "Target Temp",
        "format": "{{value}}c",
        "min": 0,
        "max": "100",
        "colors": [
            "#00b500",
            "#00b500",
            "#ca3838"
        ],
        "seg1": "50",
        "seg2": "78",
        "x": 560,
        "y": 420,
        "wires": []
    },
    {
        "id": "b7a5b3fc.4da27",
        "type": "ui_gauge",
        "z": "b1634535.4f6908",
        "name": "MLT Actual Temp",
        "group": "af73f68d.436728",
        "order": 2,
        "width": 3,
        "height": 2,
        "gtype": "gage",
        "title": "",
        "label": "Actual Temp",
        "format": "{{value}}c",
        "min": 0,
        "max": "101",
        "colors": [
            "#ffd700",
            "#ffd700",
            "#ffd700"
        ],
        "seg1": "50",
        "seg2": "78",
        "x": 990,
        "y": 600,
        "wires": []
    },
    {
        "id": "d71994b8.dabd78",
        "type": "ui_gauge",
        "z": "d27bb3af.67797",
        "name": "MLT Duty Gauge",
        "group": "af73f68d.436728",
        "order": 1,
        "width": 6,
        "height": 3,
        "gtype": "gage",
        "title": "",
        "label": "Power",
        "format": "{{value}}%",
        "min": 0,
        "max": "100",
        "colors": [
            "#ffd700",
            "#ffd700",
            "#ffd700"
        ],
        "seg1": "40",
        "seg2": "75",
        "x": 530,
        "y": 240,
        "wires": []
    },
    {
        "id": "9cb821f8.6bb58",
        "type": "ui_text",
        "z": "d55676b0.dddf38",
        "group": "d4dfa142.5bce",
        "order": 6,
        "width": 2,
        "height": 1,
        "name": "MLT PID Integrator",
        "label": "Integral",
        "format": "{{integrator | number:1}}°C⦁s",
        "layout": "col-center",
        "x": 410,
        "y": 80,
        "wires": []
    },
    {
        "id": "49966405.2652fc",
        "type": "ui_text",
        "z": "d55676b0.dddf38",
        "group": "d4dfa142.5bce",
        "order": 4,
        "width": 2,
        "height": 1,
        "name": "MLT PID Error",
        "label": "Error",
        "format": "{{last_error | number:1}}°C",
        "layout": "col-center",
        "x": 400,
        "y": 40,
        "wires": []
    },
    {
        "id": "3976bfd9.77aa8",
        "type": "ui_text",
        "z": "d55676b0.dddf38",
        "group": "d4dfa142.5bce",
        "order": 8,
        "width": 2,
        "height": 1,
        "name": "MLT PID Derivative",
        "label": "Derivative",
        "format": "{{derivative | number:1}}°C/s",
        "layout": "col-center",
        "x": 410,
        "y": 120,
        "wires": []
    },
    {
        "id": "b0e38f8.d2a867",
        "type": "link in",
        "z": "d55676b0.dddf38",
        "name": "MLT PID display",
        "links": [
            "23076fba.6ed76",
            "1e2a61c.a871d9e"
        ],
        "x": 215,
        "y": 80,
        "wires": [
            [
                "9cb821f8.6bb58",
                "3976bfd9.77aa8",
                "49966405.2652fc"
            ]
        ]
    },
    {
        "id": "73b29684.205e88",
        "type": "ui_gauge",
        "z": "d27bb3af.67797",
        "name": "BK Duty Gauge",
        "group": "28cab5d7.f6e5fa",
        "order": 1,
        "width": 6,
        "height": 3,
        "gtype": "gage",
        "title": "",
        "label": "Power",
        "format": "{{value}}%",
        "min": 0,
        "max": "100",
        "colors": [
            "#ffd700",
            "#ffd700",
            "#ffd700"
        ],
        "seg1": "40",
        "seg2": "75",
        "x": 520,
        "y": 360,
        "wires": []
    },
    {
        "id": "35dd5e9b.8dbbf2",
        "type": "rpi-gpio out",
        "z": "d27bb3af.67797",
        "name": "BK2 GPIO",
        "pin": "37",
        "set": false,
        "level": "0",
        "freq": "1",
        "out": "pwm",
        "x": 510,
        "y": 420,
        "wires": []
    },
    {
        "id": "5bad4c3c.29a0e4",
        "type": "link in",
        "z": "d27bb3af.67797",
        "name": "BK GPIO",
        "links": [
            "56001502.c4b62c",
            "6ff7cb7.3cae834"
        ],
        "x": 195,
        "y": 440,
        "wires": [
            [
                "35dd5e9b.8dbbf2"
            ]
        ]
    },
    {
        "id": "47c04454.19036c",
        "type": "link out",
        "z": "2a42b19e.b8592e",
        "name": "MLT target slider output",
        "links": [],
        "x": 375,
        "y": 320,
        "wires": []
    },
    {
        "id": "ee00dbe4.edba78",
        "type": "link in",
        "z": "2a42b19e.b8592e",
        "name": "MLT kettle target temp",
        "links": [],
        "x": 215,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "11b47771.d7c3b9",
        "type": "play audio",
        "z": "8e53633a.d159a",
        "name": "",
        "voice": "0",
        "x": 650,
        "y": 200,
        "wires": []
    },
    {
        "id": "b0936e9e.9ee83",
        "type": "ui_button",
        "z": "8e53633a.d159a",
        "name": "",
        "group": "61adaa9e.bf1b34",
        "order": 9,
        "width": 3,
        "height": 1,
        "passthru": false,
        "label": "60 min",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "fa-clock-o",
        "payload": "{ \"payload\": \"on\", \"timeout\": 3600, \"warning\": 60 }",
        "payloadType": "str",
        "topic": "",
        "x": 110,
        "y": 380,
        "wires": [
            [
                "f948081b.a47378"
            ]
        ]
    },
    {
        "id": "20f9f104.9c76ae",
        "type": "ui_button",
        "z": "8e53633a.d159a",
        "name": "",
        "group": "61adaa9e.bf1b34",
        "order": 10,
        "width": 3,
        "height": 1,
        "passthru": false,
        "label": "90 min",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "fa-clock-o",
        "payload": "{ \"payload\": \"on\", \"timeout\": 5400, \"warning\": 60 }",
        "payloadType": "str",
        "topic": "",
        "x": 110,
        "y": 420,
        "wires": [
            [
                "f948081b.a47378"
            ]
        ]
    },
    {
        "id": "87870430.542008",
        "type": "ui_button",
        "z": "8e53633a.d159a",
        "name": "",
        "group": "61adaa9e.bf1b34",
        "order": 7,
        "width": 3,
        "height": 1,
        "passthru": false,
        "label": "30 min",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "fa-clock-o",
        "payload": "{ \"payload\": \"on\", \"timeout\": 1800, \"warning\": 60 }",
        "payloadType": "str",
        "topic": "",
        "x": 110,
        "y": 300,
        "wires": [
            [
                "f948081b.a47378"
            ]
        ]
    },
    {
        "id": "8934160.d33c8e8",
        "type": "ui_button",
        "z": "8e53633a.d159a",
        "name": "",
        "group": "61adaa9e.bf1b34",
        "order": 6,
        "width": 3,
        "height": 1,
        "passthru": false,
        "label": "20 min",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "fa-clock-o",
        "payload": "{ \"payload\": \"on\", \"timeout\": 1200, \"warning\": 60 }",
        "payloadType": "str",
        "topic": "",
        "x": 110,
        "y": 260,
        "wires": [
            [
                "f948081b.a47378"
            ]
        ]
    },
    {
        "id": "bcc6666f.614038",
        "type": "ui_button",
        "z": "8e53633a.d159a",
        "name": "",
        "group": "61adaa9e.bf1b34",
        "order": 5,
        "width": 3,
        "height": 1,
        "passthru": false,
        "label": "15 min",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "fa-clock-o",
        "payload": "{ \"payload\": \"on\", \"timeout\": 900, \"warning\": 60 }",
        "payloadType": "str",
        "topic": "",
        "x": 110,
        "y": 220,
        "wires": [
            [
                "f948081b.a47378"
            ]
        ]
    },
    {
        "id": "e05e0a33.16e788",
        "type": "ui_button",
        "z": "8e53633a.d159a",
        "name": "",
        "group": "61adaa9e.bf1b34",
        "order": 8,
        "width": 3,
        "height": 1,
        "passthru": false,
        "label": "45 min",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "fa-clock-o",
        "payload": "{ \"payload\": \"on\", \"timeout\": 2700, \"warning\": 60 }",
        "payloadType": "str",
        "topic": "",
        "x": 110,
        "y": 340,
        "wires": [
            [
                "f948081b.a47378"
            ]
        ]
    },
    {
        "id": "1fc9e887.838b67",
        "type": "ui_button",
        "z": "8e53633a.d159a",
        "name": "",
        "group": "61adaa9e.bf1b34",
        "order": 4,
        "width": 3,
        "height": 1,
        "passthru": false,
        "label": "10 min",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "fa-clock-o",
        "payload": "{ \"payload\": \"on\", \"timeout\": 600, \"warning\": 60 }",
        "payloadType": "str",
        "topic": "",
        "x": 110,
        "y": 180,
        "wires": [
            [
                "f948081b.a47378"
            ]
        ]
    },
    {
        "id": "f5bbf614.631ad8",
        "type": "ui_button",
        "z": "8e53633a.d159a",
        "name": "",
        "group": "61adaa9e.bf1b34",
        "order": 3,
        "width": 3,
        "height": 1,
        "passthru": false,
        "label": "5 min",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "fa-clock-o",
        "payload": "{ \"payload\": \"on\", \"timeout\": 300, \"warning\": 60 }",
        "payloadType": "str",
        "topic": "",
        "x": 110,
        "y": 140,
        "wires": [
            [
                "f948081b.a47378"
            ]
        ]
    },
    {
        "id": "91cb5dad.b38bb",
        "type": "ui_button",
        "z": "5a12cee5.c91ac",
        "name": "",
        "group": "1e2ade38.c7b3c2",
        "order": 5,
        "width": 6,
        "height": 1,
        "passthru": false,
        "label": "HLT PID",
        "tooltip": "",
        "color": "#757575",
        "bgcolor": "white",
        "icon": "",
        "payload": "2",
        "payloadType": "num",
        "topic": "",
        "x": 100,
        "y": 340,
        "wires": [
            [
                "ac1d13c7.e234c"
            ]
        ]
    },
    {
        "id": "912c1c72.21f79",
        "type": "ui_button",
        "z": "5a12cee5.c91ac",
        "name": "",
        "group": "5bdce100.b1b46",
        "order": 9,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Back",
        "tooltip": "",
        "color": "#757575",
        "bgcolor": "#e0e0e0",
        "icon": "",
        "payload": "1",
        "payloadType": "num",
        "topic": "",
        "x": 90,
        "y": 380,
        "wires": [
            [
                "ac1d13c7.e234c"
            ]
        ]
    },
    {
        "id": "bd42ff57.dd739",
        "type": "ui_button",
        "z": "61cfa3a0.e85d6c",
        "name": "",
        "group": "23f88a1c.84f826",
        "order": 1,
        "width": 4,
        "height": 1,
        "passthru": false,
        "label": "Refresh from BF!",
        "tooltip": "",
        "color": "#757575",
        "bgcolor": "#e0e0e0",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 150,
        "y": 200,
        "wires": [
            [
                "f893af64.ca612"
            ]
        ]
    }
]
